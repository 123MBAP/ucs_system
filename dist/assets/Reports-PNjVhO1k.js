import{u as ze,j as e}from"./index-Cb5Y6uas.js";import{f as Ce,r as o,N as Pe}from"./react-CzDbI3ao.js";import{L as ke}from"./LoadingSpinner-roDiQGxw.js";const f="http://localhost:4000",Le=()=>{const{t:s,lang:I}=ze(),Q=Ce(),[l,W]=o.useState(null),[X,m]=o.useState(!1),[T,x]=o.useState(null),A=new Date,[c,ee]=o.useState(A.getFullYear()),[d,te]=o.useState(A.getMonth()+1),[P,se]=o.useState([]),[E,re]=o.useState([]),[k,ne]=o.useState(null),[M,ae]=o.useState([]),[j,U]=o.useState(""),[v,oe]=o.useState("all"),[_,le]=o.useState([]),[N,ie]=o.useState(null),[B,ce]=o.useState([]),[D,de]=o.useState(null),[b,pe]=o.useState(""),[w,me]=o.useState(""),[u,xe]=o.useState("all"),[Z,he]=o.useState([]),[$,H]=o.useState(""),[y,ue]=o.useState("all"),O=o.useRef(null),Y=o.useRef(null),q=o.useRef(null),V=o.useRef(null),p=o.useMemo(()=>new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),[I]);function z(t,n){const r=window.open("","_blank");r&&(r.document.open(),r.document.write(`<!doctype html><html><head><meta charset="utf-8"><title>${t}</title>
      <style>
        body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, 'Apple Color Emoji','Segoe UI Emoji'; padding: 24px; }
        table { width: 100%; border-collapse: collapse; font-size: 12px; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background: #f3f4f6; text-align: left; }
        h1 { font-size: 18px; margin: 0 0 12px; }
      </style>
    </head><body>
      <h1>${t}</h1>
      ${n}
      <script>window.onload = function(){ window.print(); setTimeout(()=>window.close(), 300); }<\/script>
    </body></html>`),r.document.close())}const ge=()=>{var S;const t=((S=O.current)==null?void 0:S.innerHTML)||"",n=new Date(2e3,d-1,1).toLocaleString(void 0,{month:"long"}),r=Z.find(h=>String(h.id)===$),a=M.find(h=>String(h.id)===j),i=_.map(h=>h.zone_name).filter(Boolean),g=a?[a.zone_name]:i.length?i:[],L=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">${s("reports.company")}</div>
        <div style="font-size:14px;color:#374151;">${s("reports.export.zonesTitle")}</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>${s("reports.period")}:</strong> ${n} ${c}</div>
          <div><strong>${s("reports.filter")}:</strong> ${v}</div>
          <div><strong>${s("reports.supervisor")}:</strong> ${r?r.username:s("reports.filters.all")}</div>
          <div><strong>${s("reports.zones")}:</strong> ${g.length?g.join(", "):s("reports.filters.all")}</div>
        </div>
      </div>`;z(`${s("reports.export.zonesTitle")} ${c}-${d}`,L+t)},fe=()=>{var a;const t=((a=Y.current)==null?void 0:a.innerHTML)||"",n=new Date(2e3,d-1,1).toLocaleString(void 0,{month:"long"}),r=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">${s("reports.company")}</div>
        <div style="font-size:14px;color:#374151;">${s("reports.export.chiefClientsTitle")}</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>${s("reports.period")}:</strong> ${n} ${c}</div>
          <div><strong>${s("reports.filter")}:</strong> ${y}</div>
        </div>
      </div>`;z(`${s("reports.export.chiefClientsTitle")} ${c}-${d} (${y})`,r+t)},ye=()=>{var a;const t=((a=q.current)==null?void 0:a.innerHTML)||"",n=new Date(2e3,d-1,1).toLocaleString(void 0,{month:"long"}),r=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">${s("reports.company")}</div>
        <div style="font-size:14px;color:#374151;">${s("reports.export.chiefPaymentsTitle")}</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>${s("reports.period")}:</strong> ${n} ${c}</div>
        </div>
      </div>`;z(`${s("reports.export.chiefPaymentsTitle")} ${c}-${d}`,r+t)},je=()=>{var a;const t=((a=V.current)==null?void 0:a.innerHTML)||"",n=new Date(2e3,d-1,1).toLocaleString(void 0,{month:"long"}),r=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">${s("reports.company")}</div>
        <div style="font-size:14px;color:#374151;">${s("reports.export.clientPaymentsTitle")}</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>${s("reports.period")}:</strong> ${n} ${c}</div>
        </div>
      </div>`;z(`${s("reports.export.clientPaymentsTitle")} ${c}-${d}`,r+t)};function G(t){if(t==null)return"";const n=String(t);return/[",\n]/.test(n)?'"'+n.replace(/"/g,'""')+'"':n}function C(t,n,r){const a=n.map(G).join(","),i=r.map(_e=>_e.map(G).join(",")),g=[a,...i].join(`
`),L=new Blob([g],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(L),h=document.createElement("a");h.href=S,h.download=t,h.click(),URL.revokeObjectURL(S)}const ve=()=>{const t=new Date().toISOString().replace(/[:T]/g,"-").slice(0,16),n=_.map(r=>[r.zone_id,r.zone_name,r.clients_count,r.amount_to_pay,r.amount_paid,r.amount_remaining]);C(`zones_summary_${c}-${d}_${v||"all"}_${t}.csv`,["Zone ID",s("reports.columns.zone"),s("reports.columns.clients"),s("reports.columns.toPay"),s("reports.columns.paid"),s("reports.columns.remaining")],n)},Ne=()=>{const t=new Date().toISOString().replace(/[:T]/g,"-").slice(0,16),n=P.map(r=>[r.client_id,r.client_username??"",r.amount_to_pay,r.amount_paid,r.amount_remaining]);C(`chief_clients_${c}-${d}_${y}_${t}.csv`,["Client ID",s("reports.client"),s("reports.columns.toPay"),s("reports.columns.paid"),s("reports.columns.remaining")],n)},be=()=>{const t=new Date().toISOString().replace(/[:T]/g,"-").slice(0,16),n=F.map(r=>[r.id,r.completed_at??"",r.client_username??r.client_id??"",r.amount,r.currency??"",r.status??""]);C(`chief_payments_${c}-${d}_${u}_${t}.csv`,["Payment ID",s("reports.date"),s("reports.client"),s("reports.amount"),s("reports.currency"),s("reports.status")],n)},we=()=>{const t=new Date().toISOString().replace(/[:T]/g,"-").slice(0,16),n=R.map(r=>[r.id,r.completed_at??"",r.amount,r.currency??"",r.status??""]);C(`my_payments_${c}-${d}_${u}_${t}.csv`,["Payment ID",s("reports.date"),s("reports.amount"),s("reports.currency"),s("reports.status")],n)},$e=t=>{U(t),l==="manager"&&t&&H("")},Se=t=>{H(t),l==="manager"&&t&&U("")};o.useEffect(()=>{const t=localStorage.getItem("token");if(!t){Q("/login",{replace:!0});return}m(!0),x(null),fetch(`${f}/api/me`,{headers:{Authorization:`Bearer ${t}`}}).then(async n=>{var a;const r=await n.json();if(!n.ok)throw new Error((r==null?void 0:r.error)||"Failed to load user");W(((a=r==null?void 0:r.user)==null?void 0:a.role)??null)}).catch(n=>x((n==null?void 0:n.message)||"Failed to load user")).finally(()=>m(!1))},[]),o.useEffect(()=>{const t=localStorage.getItem("token");if(!t||!l||l!=="manager"&&l!=="supervisor")return;m(!0),x(null),fetch(`${f}/api/zones${l==="supervisor"?"?scope=supervisor":""}`,{headers:{Authorization:`Bearer ${t}`}}).then(async r=>{const a=await r.json();if(!r.ok)throw new Error((a==null?void 0:a.error)||"Failed to load zones");const i=(a.zones||[]).map(g=>({id:g.id,zone_name:g.zone_name}));ae(i)}).catch(r=>x((r==null?void 0:r.message)||"Failed to load zones")).finally(()=>m(!1))},[l]),o.useEffect(()=>{const t=localStorage.getItem("token");!t||l!=="manager"||(m(!0),x(null),fetch(`${f}/api/report/supervisors`,{headers:{Authorization:`Bearer ${t}`}}).then(async n=>{const r=await n.json();if(!n.ok)throw new Error((r==null?void 0:r.error)||"Failed to load supervisors");he(Array.isArray(r.supervisors)?r.supervisors:[])}).catch(n=>x((n==null?void 0:n.message)||"Failed to load supervisors")).finally(()=>m(!1)))},[l]),o.useEffect(()=>{const t=localStorage.getItem("token");if(!(!t||!l))if(m(!0),x(null),l==="chief"){const n=new URLSearchParams;n.set("year",String(c)),n.set("month",String(d)),n.set("filter",y),fetch(`${f}/api/report/clients-summary?${n.toString()}`,{headers:{Authorization:`Bearer ${t}`}}).then(async a=>{const i=await a.json();if(!a.ok)throw new Error((i==null?void 0:i.error)||"Failed to load summary");se(Array.isArray(i.clients)?i.clients:[])}).catch(a=>x((a==null?void 0:a.message)||"Failed to load summary")).finally(()=>m(!1));const r=new URLSearchParams;r.set("year",String(c)),r.set("month",String(d)),fetch(`${f}/api/report/payments?${r.toString()}`,{headers:{Authorization:`Bearer ${t}`}}).then(async a=>{const i=await a.json();if(!a.ok)throw new Error((i==null?void 0:i.error)||"Failed to load payments");re(Array.isArray(i.payments)?i.payments:[]),ne(i.totals||null)}).catch(a=>x((a==null?void 0:a.message)||"Failed to load payments"))}else if(l==="manager"||l==="supervisor"){const n=new URLSearchParams;n.set("year",String(c)),n.set("month",String(d)),n.set("filter",v),j&&n.set("zoneId",j),l==="manager"&&$&&n.set("supervisorId",$),fetch(`${f}/api/report/zones-summary?${n.toString()}`,{headers:{Authorization:`Bearer ${t}`}}).then(async r=>{const a=await r.json();if(!r.ok)throw new Error((a==null?void 0:a.error)||"Failed to load zones summary");le(Array.isArray(a.rows)?a.rows:[]),ie(a.totals||null)}).catch(r=>x((r==null?void 0:r.message)||"Failed to load zones summary")).finally(()=>m(!1))}else if(l==="client"){const n=new URLSearchParams;n.set("year",String(c)),n.set("month",String(d)),fetch(`${f}/api/report/payments?${n.toString()}`,{headers:{Authorization:`Bearer ${t}`}}).then(async r=>{const a=await r.json();if(!r.ok)throw new Error((a==null?void 0:a.error)||"Failed to load payments");ce(Array.isArray(a.payments)?a.payments:[]),de(a.totals||null)}).catch(r=>x((r==null?void 0:r.message)||"Failed to load payments")).finally(()=>m(!1))}else m(!1)},[l,c,d,v,j,$,y]);const J=t=>{if(!t)return!1;const n=new Date(t);if(b){const r=new Date(b);if(n<r)return!1}if(w){const r=new Date(w);if(r.setHours(23,59,59,999),n>r)return!1}return!0},K=t=>u==="all"?!0:(t||"").toLowerCase()===u,F=o.useMemo(()=>E.filter(t=>J(t.completed_at)&&K(t.status)),[E,b,w,u]),R=o.useMemo(()=>B.filter(t=>J(t.completed_at)&&K(t.status)),[B,b,w,u]);return e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:s("reports.title")}),e.jsxs("div",{className:"mb-4 flex flex-wrap items-end gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.year")}),e.jsx("select",{className:"mt-1 border rounded px-2 py-2",value:c,onChange:t=>ee(Number(t.target.value)),children:Array.from({length:6}).map((t,n)=>{const r=new Date().getFullYear()-n;return e.jsx("option",{value:r,children:r},r)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.month")}),e.jsx("select",{className:"mt-1 border rounded px-2 py-2",value:d,onChange:t=>te(Number(t.target.value)),children:Array.from({length:12}).map((t,n)=>{const r=n+1,i=new Date(2e3,n,1).toLocaleString(void 0,{month:"long"});return e.jsx("option",{value:r,children:i},r)})})]}),(l==="manager"||l==="supervisor")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.zone")}),e.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:j,onChange:t=>$e(t.target.value),children:[e.jsx("option",{value:"",children:s("reports.allZones")}),M.map(t=>e.jsx("option",{value:t.id,children:t.zone_name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.paidRemaining")}),e.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:v,onChange:t=>oe(t.target.value),children:[e.jsx("option",{value:"all",children:s("reports.filters.all")}),e.jsx("option",{value:"paid",children:s("reports.filters.paid")}),e.jsx("option",{value:"remaining",children:s("reports.filters.remaining")})]})]}),l==="manager"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.supervisor")}),e.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:$,onChange:t=>Se(t.target.value),children:[e.jsx("option",{value:"",children:s("reports.allSupervisors")}),Z.map(t=>e.jsx("option",{value:t.id,children:t.username},t.id))]})]}),e.jsxs("div",{className:"self-end pb-1 flex items-center gap-2",children:[e.jsx("button",{onClick:ve,className:"px-3 py-2 rounded bg-amber-600 text-white",children:s("reports.downloadCsv")}),e.jsx("button",{onClick:ge,className:"px-3 py-2 rounded bg-amber-700 text-white",children:s("reports.downloadPdf")})]})]}),l==="chief"&&e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:s("reports.chief.showingClients")}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.paidRemaining")}),e.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:y,onChange:t=>ue(t.target.value),children:[e.jsx("option",{value:"all",children:s("reports.filters.all")}),e.jsx("option",{value:"paid",children:s("reports.filters.paid")}),e.jsx("option",{value:"remaining",children:s("reports.filters.remaining")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.startDate")}),e.jsx("input",{type:"date",className:"mt-1 border rounded px-2 py-2",value:b,onChange:t=>pe(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.endDate")}),e.jsx("input",{type:"date",className:"mt-1 border rounded px-2 py-2",value:w,onChange:t=>me(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700",children:s("reports.filters.status")}),e.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:u,onChange:t=>xe(t.target.value),children:[e.jsx("option",{value:"all",children:s("reports.status.all")}),e.jsx("option",{value:"success",children:s("reports.status.success")}),e.jsx("option",{value:"failed",children:s("reports.status.failed")}),e.jsx("option",{value:"pending",children:s("reports.status.pending")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Ne,className:"px-3 py-2 rounded bg-amber-600 text-white",children:s("reports.downloadCsv")}),e.jsx("button",{onClick:fe,className:"px-3 py-2 rounded bg-amber-700 text-white",children:s("reports.downloadPdf")})]})]}),l==="client"&&e.jsx("div",{className:"text-sm text-gray-600",children:s("reports.client.showingSummary")})]}),T&&e.jsx("div",{className:"text-red-600 mb-3",children:T}),X?e.jsx("div",{className:"py-8 flex items-center justify-center",children:e.jsx(ke,{})}):e.jsxs(e.Fragment,{children:[(l==="manager"||l==="supervisor")&&e.jsx("div",{ref:O,className:"bg-white rounded-lg shadow overflow-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.columns.zone")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.columns.clients")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.columns.toPay")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.columns.paid")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.columns.remaining")})]})}),e.jsxs("tbody",{children:[_.map(t=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx(Pe,{className:"text-amber-700 hover:underline",to:`/zones/${t.zone_id}`,children:t.zone_name})}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.clients_count)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount_to_pay)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount_paid)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount_remaining)})]},t.zone_id)),!_.length&&e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:5,children:s("reports.noData")})})]}),N&&e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-50 font-semibold border-t",children:[e.jsx("td",{className:"px-4 py-3 text-right",children:s("reports.totals")}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(N.clients_count)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(N.amount_to_pay)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(N.amount_paid)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(N.amount_remaining)})]})})]})}),l==="chief"&&e.jsx("div",{ref:Y,className:"bg-white rounded-lg shadow overflow-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.client")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.columns.toPay")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.columns.paid")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.columns.remaining")})]})}),e.jsxs("tbody",{children:[P.map(t=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:t.client_username||t.client_id}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount_to_pay)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount_paid)}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount_remaining)})]},t.client_id)),!P.length&&e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:4,children:s("reports.noData")})})]})]})}),l==="chief"&&e.jsxs("div",{ref:q,className:"bg-white rounded-lg shadow overflow-auto mt-6",children:[e.jsxs("div",{className:"px-4 py-3 font-semibold flex items-center justify-between",children:[e.jsx("span",{children:s("reports.payments.heading")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:be,className:"px-3 py-1 rounded bg-amber-600 text-white",children:s("reports.downloadCsv")}),e.jsx("button",{onClick:ye,className:"px-3 py-1 rounded bg-amber-700 text-white",children:s("reports.downloadPdf")})]})]}),e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.date")}),e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.client")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.amount")}),e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.currency")}),e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.status")})]})}),e.jsxs("tbody",{children:[F.map(t=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:t.completed_at?new Date(t.completed_at).toLocaleString():"-"}),e.jsx("td",{className:"px-4 py-3",children:t.client_username||t.client_id}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount)}),e.jsx("td",{className:"px-4 py-3",children:t.currency||""}),e.jsx("td",{className:"px-4 py-3",children:t.status||""})]},t.id)),!F.length&&e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:5,children:s("reports.noData")})})]}),k&&e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-50 font-semibold border-t",children:[e.jsx("td",{className:"px-4 py-3 text-right",colSpan:2,children:s("reports.totals")}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(k.amount_sum)}),e.jsxs("td",{className:"px-4 py-3",colSpan:2,children:[s("reports.count"),": ",p.format(k.count)]})]})})]})]}),l==="client"&&e.jsxs("div",{ref:V,className:"bg-white rounded-lg shadow overflow-auto",children:[e.jsxs("div",{className:"px-4 py-3 font-semibold flex items-center justify-between",children:[e.jsx("span",{children:s("reports.myPayments.heading")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:we,className:"px-3 py-1 rounded bg-amber-600 text-white",children:s("reports.downloadCsv")}),e.jsx("button",{onClick:je,className:"px-3 py-1 rounded bg-amber-700 text-white",children:s("reports.downloadPdf")})]})]}),e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.date")}),e.jsx("th",{className:"px-4 py-3 text-right",children:s("reports.amount")}),e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.currency")}),e.jsx("th",{className:"px-4 py-3 text-left",children:s("reports.status")})]})}),e.jsxs("tbody",{children:[R.map(t=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:t.completed_at?new Date(t.completed_at).toLocaleString():"-"}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(t.amount)}),e.jsx("td",{className:"px-4 py-3",children:t.currency||""}),e.jsx("td",{className:"px-4 py-3",children:t.status||""})]},t.id)),!R.length&&e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:4,children:s("reports.noData")})})]}),D&&e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-50 font-semibold border-t",children:[e.jsx("td",{className:"px-4 py-3 text-right",children:s("reports.totals")}),e.jsx("td",{className:"px-4 py-3 text-right",children:p.format(D.amount_sum)}),e.jsxs("td",{className:"px-4 py-3",colSpan:2,children:[s("reports.count"),": ",p.format(D.count)]})]})})]})]})]})]})};export{Le as default};
