import{j as e}from"./index-DaGMaRVu.js";import{r as s,f as j}from"./react-CzDbI3ao.js";const v="http://localhost:4000",k=()=>{const[i,d]=s.useState(""),[c,u]=s.useState(""),[a,m]=s.useState(""),[p,l]=s.useState(!1),[n,h]=s.useState(!1),[x,b]=s.useState(null),f=j();async function w(t){t.preventDefault(),b(null),h(!0);try{const o=await fetch(`${v}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:c})}),r=await o.json();if(!o.ok)throw new Error((r==null?void 0:r.error)||"Login failed");localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),window.dispatchEvent(new Event("auth-changed")),d(""),u(""),f("/")}catch(o){b(o.message||"Login failed")}finally{h(!1)}}function g(t){if(t.preventDefault(),!a.trim()){alert("Enter your email to reset password.");return}console.log("Password reset for",a),alert("Password reset link sent (mock)."),m(""),l(!1)}return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-cyan-500/5 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"UCS"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Welcome Back"}),e.jsx("p",{className:"text-blue-100/80 mt-2",children:"Sign in to your UCS account"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[x&&e.jsx("div",{className:"p-4 rounded-2xl bg-red-500/20 border border-red-500/30 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center space-x-2 text-red-200",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium",children:x})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-100 mb-2",children:"Username or Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("input",{value:i,onChange:t=>d(t.target.value),className:"block w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-blue-300/60 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm transition-all duration-200",placeholder:"Enter your username or email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-100 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("input",{type:"password",value:c,onChange:t=>u(t.target.value),className:"block w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-blue-300/60 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm transition-all duration-200",placeholder:"Enter your password",required:!0})]})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{type:"submit",disabled:n,className:`relative flex-1 py-3 px-4 rounded-2xl font-semibold transition-all duration-200 ${n?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-blue-500/25"}`,children:n?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{className:"text-white",children:"Signing in..."})]}):e.jsx("span",{className:"text-white",children:"Sign in"})})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-blue-200/80 hover:text-white text-sm font-medium transition-colors duration-200",children:"Forgot your password?"})})]}),p&&e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm rounded-3xl flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-2xl p-6 w-full border border-white/10 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Reset Password"}),e.jsx("button",{onClick:()=>l(!1),className:"p-1 hover:bg-white/10 rounded-lg transition-colors duration-200",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-100 mb-2",children:"Email Address"}),e.jsx("input",{value:a,onChange:t=>m(t.target.value),className:"block w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-blue-300/60 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your email address",type:"email"})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[e.jsx("button",{type:"submit",className:"flex-1 py-3 bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-700 hover:to-cyan-700 text-white rounded-2xl font-semibold transition-all duration-200 shadow-lg hover:shadow-green-500/25",children:"Send Reset Link"}),e.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 bg-white/10 hover:bg-white/20 text-white rounded-2xl font-semibold transition-all duration-200 border border-white/10",children:"Cancel"})]})]})]})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-blue-200/60 text-sm",children:"Â© 2024 UCS Company. Secure Management System"})})]})]})};export{k as default};
