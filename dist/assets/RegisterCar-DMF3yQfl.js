import{j as e}from"./index-DaGMaRVu.js";import{r as a}from"./react-CzDbI3ao.js";const f=[{id:"d1",name:"John Doe"},{id:"d2",name:"Jane Doe"}],k=()=>{const[l,x]=a.useState(""),[i,h]=a.useState(""),[n,g]=a.useState(!1),[r,d]=a.useState("existing"),[c,v]=a.useState(null),[m,N]=a.useState(""),[o,p]=a.useState(""),[b,t]=a.useState(null);function j(s){if(s.preventDefault(),t(null),!l.trim()||!i.trim()){t("Car name and plate number are required.");return}let u=null;if(n)if(r==="existing"){if(!c){t("Please select an existing driver.");return}u={type:"existing",driverId:c}}else{if(!m.trim()||!o.trim()){t("New driver first and last name are required.");return}u={type:"new",firstName:m,lastName:o}}console.log("Create car payload:",{carName:l,plateNumber:i,driver:u}),alert("Car created (mock). Check console for payload."),x(""),h(""),g(!1),d("existing"),v(null),N(""),p("")}return e.jsxs("div",{className:"p-6 max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Register Car"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[b&&e.jsx("div",{className:"text-red-600",children:b}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Car Name"}),e.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:l,onChange:s=>x(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plate Number"}),e.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:i,onChange:s=>h(s.target.value),required:!0})]}),e.jsx("div",{className:"pt-2",children:e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:s=>g(s.target.checked),className:"mr-2"}),e.jsx("span",{children:"Assign Driver (optional)"})]})}),n&&e.jsxs("div",{className:"p-4 border rounded-md",children:[e.jsxs("div",{className:"space-x-4 mb-3",children:[e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"existing",checked:r==="existing",onChange:()=>d("existing"),className:"mr-2"}),e.jsx("span",{children:"Assign to existing driver"})]}),e.jsxs("label",{className:"inline-flex items-center ml-4",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"new",checked:r==="new",onChange:()=>d("new"),className:"mr-2"}),e.jsx("span",{children:"Create new driver"})]})]}),r==="existing"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Driver"}),e.jsxs("select",{value:c??"",onChange:s=>v(s.target.value||null),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[e.jsx("option",{value:"",children:"-- Select driver --"}),f.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Driver First Name"}),e.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:m,onChange:s=>N(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Driver Last Name"}),e.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:o,onChange:s=>p(s.target.value)})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Create Car"})})]})]})};export{k as default};
