import{j as e}from"./index-BdDvBGrt.js";import{j as Me,f as _e,r as a}from"./react-BeLGUnOF.js";const B="http://localhost:4000",r={primary:"#D97706",primaryHover:"#B45309",accent:"#15803D",background:"#F8FAFC",cardBg:"#FFFFFF",border:"#E2E8F0",borderLight:"#F1F5F9",text:"#0F172A",textLight:"#64748B",textLighter:"#94A3B8",error:"#DC2626",errorLight:"#FEF2F2"},c={Back:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Calendar:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Vehicle:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Driver:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Time:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Manpower:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Delete:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Add:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Search:o=>e.jsx("svg",{...o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},ie=({title:o,number:d,subtitle:x})=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl text-white font-bold text-lg shadow-lg",style:{backgroundColor:r.primary},children:d}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:r.text},children:o}),x&&e.jsx("p",{className:"text-sm mt-1",style:{color:r.textLight},children:x})]})]}),e.jsx("div",{className:"h-px w-full",style:{backgroundColor:r.borderLight}})]}),H=({children:o,className:d="",padding:x="p-6"})=>e.jsx("div",{className:`rounded-2xl shadow-sm border transition-all duration-300 hover:shadow-md ${x} ${d}`,style:{backgroundColor:r.cardBg,borderColor:r.border},children:o}),ne=({children:o,onClick:d,disabled:x=!1,loading:y=!1,size:C="md",className:S=""})=>{const h={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return e.jsxs("button",{onClick:d,disabled:x||y,className:`rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl active:scale-95 ${h[C]} ${S}`,style:{backgroundColor:x?r.textLighter:r.primary,cursor:x?"not-allowed":"pointer",opacity:x?.6:1},onMouseOver:v=>{!x&&!y&&(v.currentTarget.style.backgroundColor=r.primaryHover)},onMouseOut:v=>{!x&&!y&&(v.currentTarget.style.backgroundColor=r.primary)},children:[y&&e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),o]})},ce=({label:o,active:d,onClick:x})=>e.jsx("button",{onClick:x,className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 border ${d?"text-white shadow-md":"hover:shadow-sm"}`,style:d?{backgroundColor:r.primary,borderColor:r.primary}:{backgroundColor:r.cardBg,color:r.textLight,borderColor:r.border},children:o});function Fe(){var se,le;const{id:o}=Me(),d=Number(o),x=_e(),[y,C]=a.useState(!0),[S,h]=a.useState(null),[v,xe]=a.useState([]),[P,me]=a.useState([]),[he,ue]=a.useState(""),[O,ge]=a.useState(new Map),[pe,ve]=a.useState(new Map),[L,be]=a.useState(new Map),[ye,je]=a.useState(new Map),[j,F]=a.useState([]),[E,fe]=a.useState([]),[u,M]=a.useState("saved"),[R,J]=a.useState(""),[Z,q]=a.useState(""),[m,G]=a.useState(""),[T,K]=a.useState(""),[Q,Ne]=a.useState("08:00"),[U,we]=a.useState("17:00"),[_,X]=a.useState([]),[f,ke]=a.useState(""),[w,Y]=a.useState("all"),[$]=a.useState("all"),g=typeof window<"u"?localStorage.getItem("token"):null;a.useEffect(()=>{Number.isFinite(d)&&g&&(C(!0),h(null),Promise.all([fetch(`${B}/api/supervisor/zones/${d}/supervision`,{headers:{Authorization:`Bearer ${g}`}}),fetch(`${B}/api/supervisor/zones/${d}/schedule`,{headers:{Authorization:`Bearer ${g}`}})]).then(async([s,t])=>{var ae;const l=await s.json(),n=await t.json();if(!s.ok)throw new Error((l==null?void 0:l.error)||"Failed to load zone data");if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to load schedule");ue(((ae=l==null?void 0:l.zone)==null?void 0:ae.name)||""),xe(((l==null?void 0:l.vehicles)||[]).map(i=>({id:Number(i.id),plate:String(i.plate)}))),me(((l==null?void 0:l.drivers)||[]).map(i=>({id:Number(i.id),username:String(i.username),full_name:i.full_name??null,vehicle_id:i.vehicle_id??null})));const b=new Map;((l==null?void 0:l.manpower)||[]).forEach(i=>{b.set(Number(i.id),String(i.full_name??i.username))}),je(b);const k=new Map,oe=new Map;((l==null?void 0:l.vehicles)||[]).forEach(i=>{const p=((l==null?void 0:l.drivers)||[]).find(z=>z.vehicle_id===i.id)||null;k.set(Number(i.id),p?Number(p.id):null),oe.set(Number(i.id),p?String(p.full_name||p.username):"None assigned")}),ge(k),ve(oe);const te=new Map;((l==null?void 0:l.vehicles)||[]).forEach(i=>{const p=Array.isArray(i.assigned_manpower_users)?i.assigned_manpower_users:[],z=p.map(D=>Number(D.id)),Le=p.map(D=>String(D.full_name||D.username));te.set(Number(i.id),{ids:z,names:Le})}),be(te),F((n==null?void 0:n.schedule)||[]);const W=Array.isArray(l==null?void 0:l.serviceDays)?l.serviceDays.map(i=>Number(i)).filter(i=>Number.isFinite(i)):[];fe(W),W.length?(M("saved"),J(String(W[0]))):(M("special"),q("1"))}).catch(s=>h((s==null?void 0:s.message)||"Failed to load")).finally(()=>C(!1)))},[d,g]);async function Ce(){if(!g)return;h(null);const s=u==="saved"?R:Z;if(!s||!m){h("Please select service day and vehicle");return}const t={service_day:Number(s),vehicle_id:Number(m),driver_id:T?Number(T):null,service_start:de(Q),service_end:de(U),assigned_manpower_ids:_},l=await fetch(`${B}/api/supervisor/zones/${d}/schedule`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(t)}),n=await l.json();if(!l.ok){h((n==null?void 0:n.error)||"Failed to create entry");return}F(b=>[...b,n.entry]),G(""),K(""),X([])}async function Se(s){if(!g)return;const t=await fetch(`${B}/api/supervisor/zones/${d}/schedule/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`}});if(!t.ok){const l=await t.json().catch(()=>({}));h((l==null?void 0:l.error)||"Failed to delete entry");return}F(l=>l.filter(n=>n.id!==s))}const N=s=>new Date(2e3,0,s).toLocaleString(void 0,{weekday:"long"}),ee=[1,2,3,4,5,6,7],re=ee.filter(s=>!E.includes(s)),A=a.useMemo(()=>{const s=new Map;return v.forEach(t=>s.set(t.id,t.plate)),s},[v]),V=a.useMemo(()=>{const s=new Map;return P.forEach(t=>s.set(t.id,t.full_name||t.username)),s},[P]);a.useEffect(()=>{const s=Number(m);if(!s)return;const t=O.get(s)??null;K(t?String(t):"");const l=L.get(s)||{ids:[]};X(l.ids)},[m,O,L]);const I=a.useMemo(()=>j.filter(s=>{var b,k;const t=f===""||N(s.service_day).toLowerCase().includes(f.toLowerCase())||((b=A.get(s.vehicle_id))==null?void 0:b.toLowerCase().includes(f.toLowerCase()))||s.driver_id&&((k=V.get(s.driver_id))==null?void 0:k.toLowerCase().includes(f.toLowerCase())),l=w==="all"||s.service_day===w,n=$==="all"||s.vehicle_id===$;return t&&l&&n}).sort((s,t)=>s.service_day-t.service_day||s.service_start.localeCompare(t.service_start)),[j,f,w,$,A,V]);return y?e.jsx("div",{className:"min-h-screen p-4 lg:p-6",style:{backgroundColor:r.background},children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 rounded-2xl w-64 mb-6",style:{backgroundColor:r.border}}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"h-64 rounded-2xl",style:{backgroundColor:r.border}}),e.jsx("div",{className:"h-96 rounded-2xl",style:{backgroundColor:r.border}})]})]})})}):e.jsx("div",{className:"min-h-screen p-4 lg:p-6",style:{backgroundColor:r.background},children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>x(-1),className:"flex items-center space-x-2 transition-all duration-300 hover:scale-105 active:scale-95 p-3 rounded-2xl",style:{backgroundColor:r.cardBg,color:r.textLight},children:[e.jsx(c.Back,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"Back"})]}),e.jsx("div",{className:"w-px h-8",style:{backgroundColor:r.border}}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold",style:{color:r.text},children:"Service Schedule"}),e.jsxs("p",{className:"text-lg mt-2",style:{color:r.textLight},children:["Managing services for ",e.jsx("span",{style:{color:r.primary,fontWeight:"600"},children:he})]})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:r.primary},children:j.length}),e.jsx("div",{className:"text-sm",style:{color:r.textLight},children:"Total Services"})]})})]}),S&&e.jsx("div",{className:"rounded-2xl p-4 border animate-fadeIn",style:{backgroundColor:r.errorLight,borderColor:r.error},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full animate-pulse",style:{backgroundColor:r.error}}),e.jsx("span",{className:"font-semibold",style:{color:r.error},children:S})]})}),e.jsxs("section",{children:[e.jsx(ie,{title:"Schedule New Service",number:1,subtitle:"Plan and organize service entries for your zone"}),e.jsxs(H,{padding:"p-6 lg:p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-lg font-semibold mb-4 flex items-center gap-2",style:{color:r.text},children:[e.jsx(c.Calendar,{className:"w-5 h-5",style:{color:r.primary}}),"Service Day Selection"]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsxs("button",{onClick:()=>M("saved"),className:`flex-1 min-w-[140px] p-4 rounded-xl border-2 text-center transition-all duration-300 ${u==="saved"?"border-white shadow-lg scale-105":"border-transparent hover:border-gray-200"}`,style:u==="saved"?{backgroundColor:r.primary,color:"white"}:{backgroundColor:r.background,color:r.text},children:[e.jsx("div",{className:"font-semibold",children:"Regular Days"}),e.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Saved Schedule"})]}),e.jsxs("button",{onClick:()=>M("special"),className:`flex-1 min-w-[140px] p-4 rounded-xl border-2 text-center transition-all duration-300 ${u==="special"?"border-white shadow-lg scale-105":"border-transparent hover:border-gray-200"}`,style:u==="special"?{backgroundColor:r.accent,color:"white"}:{backgroundColor:r.background,color:r.text},children:[e.jsx("div",{className:"font-semibold",children:"Special Days"}),e.jsx("div",{className:"text-sm opacity-90 mt-1",children:"One-time Events"})]})]}),e.jsx("select",{value:u==="saved"?R:Z,onChange:s=>u==="saved"?J(s.target.value):q(s.target.value),className:"w-full rounded-xl px-4 py-4 text-lg focus:outline-none focus:ring-4 border transition-all duration-300",onFocus:s=>{s.currentTarget.style.borderColor=r.primary,s.currentTarget.style.boxShadow=`0 0 0 4px ${r.primary}33`},onBlur:s=>{s.currentTarget.style.borderColor=r.border,s.currentTarget.style.boxShadow="none"},style:{backgroundColor:r.cardBg,borderColor:r.border,color:r.text},children:u==="saved"?e.jsxs(e.Fragment,{children:[!E.length&&e.jsx("option",{value:"",children:"No regular days configured"}),E.map(s=>e.jsx("option",{value:s,children:N(s)},s))]}):e.jsx(e.Fragment,{children:re.length?re.map(s=>e.jsx("option",{value:s,children:N(s)},s)):ee.map(s=>e.jsx("option",{value:s,children:N(s)},s))})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-3 flex items-center gap-2",style:{color:r.text},children:[e.jsx(c.Time,{className:"w-4 h-4",style:{color:r.primary}}),"Start Time"]}),e.jsx("input",{type:"time",value:Q,onChange:s=>Ne(s.target.value),className:"w-full rounded-xl px-4 py-3 text-lg focus:outline-none focus:ring-4 border transition-all duration-300",style:{backgroundColor:r.cardBg,borderColor:r.border,color:r.text}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-3 flex items-center gap-2",style:{color:r.text},children:[e.jsx(c.Time,{className:"w-4 h-4",style:{color:r.primary}}),"End Time"]}),e.jsx("input",{type:"time",value:U,onChange:s=>we(s.target.value),className:"w-full rounded-xl px-4 py-3 text-lg focus:outline-none focus:ring-4 border transition-all duration-300",style:{backgroundColor:r.cardBg,borderColor:r.border,color:r.text}})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-3 flex items-center gap-2",style:{color:r.text},children:[e.jsx(c.Vehicle,{className:"w-4 h-4",style:{color:r.primary}}),"Select Vehicle"]}),e.jsxs("select",{value:m,onChange:s=>G(s.target.value),className:"w-full rounded-xl px-4 py-3 text-lg focus:outline-none focus:ring-4 border transition-all duration-300",style:{backgroundColor:r.cardBg,borderColor:r.border,color:r.text},children:[e.jsx("option",{value:"",children:"Choose a vehicle..."}),v.map(s=>e.jsxs("option",{value:s.id,children:[s.plate," - Vehicle"]},s.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-3 flex items-center gap-2",style:{color:r.text},children:[e.jsx(c.Driver,{className:"w-4 h-4",style:{color:r.primary}}),"Assigned Driver"]}),m?e.jsx("div",{className:"w-full rounded-xl px-4 py-3 text-lg border",style:{backgroundColor:r.background,borderColor:r.border,color:r.text},children:pe.get(Number(m))||"None assigned"}):e.jsx("div",{className:"p-4 rounded-xl border text-sm",style:{backgroundColor:r.background,borderColor:r.border,color:r.textLight},children:"Choose a vehicle to see its assigned driver."})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-4 flex items-center gap-2",style:{color:r.text},children:[e.jsx(c.Manpower,{className:"w-4 h-4",style:{color:r.primary}}),m?"Assigned Manpower Team":"Assign Manpower Team",_.length>0&&e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full ml-2",style:{backgroundColor:r.primary,color:"white"},children:[_.length," selected"]})]}),m?e.jsx("div",{className:"flex flex-wrap gap-2 p-2 rounded-xl",style:{backgroundColor:r.background},children:(((se=L.get(Number(m)))==null?void 0:se.names)||[]).length?(((le=L.get(Number(m)))==null?void 0:le.names)||[]).map((s,t)=>e.jsx("span",{className:"px-3 py-2 rounded-xl text-sm border",style:{backgroundColor:r.cardBg,borderColor:r.border,color:r.text},children:s},t)):e.jsx("span",{className:"italic",style:{color:r.textLight},children:"None assigned"})}):e.jsx("div",{className:"p-4 rounded-xl border text-sm",style:{backgroundColor:r.background,borderColor:r.border,color:r.textLight},children:"Choose a vehicle to work on the selected service day. The assigned driver and manpowers for that vehicle will be used."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-center gap-4 mt-8 pt-6 border-t",style:{borderColor:r.borderLight},children:[e.jsxs("div",{className:"text-sm",style:{color:r.textLight},children:[_.length," manpower • ",m?"Vehicle selected":"No vehicle"," • ",T?"Driver (auto)":"No driver"]}),e.jsxs(ne,{onClick:Ce,size:"lg",className:"w-full sm:w-auto",children:[e.jsx(c.Add,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Service Entry"})]})]})]})]}),e.jsxs("section",{children:[e.jsx(ie,{title:"Scheduled Services",number:2,subtitle:"Manage and monitor all scheduled services"}),e.jsx(H,{padding:"p-4 lg:p-6",className:"mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:e.jsxs("div",{className:"relative flex-1 lg:flex-initial",children:[e.jsx(c.Search,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:r.textLight}}),e.jsx("input",{type:"text",placeholder:"Search services...",value:f,onChange:s=>ke(s.target.value),className:"w-full lg:w-64 pl-10 pr-4 py-3 rounded-xl border focus:outline-none focus:ring-2 transition-all duration-300",style:{backgroundColor:r.cardBg,borderColor:r.border,color:r.text}})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 w-full lg:w-auto",children:[e.jsx(ce,{label:"All Days",active:w==="all",onClick:()=>Y("all")}),[...new Set(j.map(s=>s.service_day))].sort().map(s=>e.jsx(ce,{label:N(s),active:w===s,onClick:()=>Y(s)},s))]}),e.jsxs("div",{className:"text-sm font-semibold px-3 py-2 rounded-xl",style:{backgroundColor:r.primary,color:"white"},children:[I.length," of ",j.length]})]})}),e.jsx(H,{padding:"p-6 lg:p-8",children:j.length?I.length?e.jsx("div",{className:"grid gap-4",children:I.map(s=>{var t,l;return e.jsx("div",{className:"rounded-2xl border p-5 lg:p-6 transition-all duration-300 hover:shadow-lg hover:scale-[1.02] group",style:{backgroundColor:r.cardBg,borderColor:r.borderLight},children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full animate-pulse",style:{backgroundColor:r.primary}}),e.jsx("span",{className:"text-xl font-bold",style:{color:r.text},children:N(s.service_day)})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-xl",style:{backgroundColor:r.background},children:[e.jsx(c.Time,{className:"w-4 h-4 flex-shrink-0",style:{color:r.primary}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",style:{color:r.textLight},children:"Service Start Time"}),e.jsx("div",{className:"font-semibold",style:{color:r.text},children:s.service_start.substring(0,5)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-xl",style:{backgroundColor:r.background},children:[e.jsx(c.Time,{className:"w-4 h-4 flex-shrink-0",style:{color:r.primary}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",style:{color:r.textLight},children:"Service End Time"}),e.jsx("div",{className:"font-semibold",style:{color:r.text},children:s.service_end.substring(0,5)})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-base",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{backgroundColor:r.background},children:[e.jsx(c.Vehicle,{className:"w-5 h-5 flex-shrink-0",style:{color:r.primary}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",style:{color:r.text},children:A.get(s.vehicle_id)||`Vehicle #${s.vehicle_id}`}),e.jsx("div",{className:"text-sm",style:{color:r.textLight},children:"Vehicle"})]})]}),s.driver_id&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{backgroundColor:r.background},children:[e.jsx(c.Driver,{className:"w-5 h-5 flex-shrink-0",style:{color:r.primary}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",style:{color:r.text},children:V.get(s.driver_id)||`Driver #${s.driver_id}`}),e.jsx("div",{className:"text-sm",style:{color:r.textLight},children:"Driver"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl",style:{backgroundColor:r.background},children:[e.jsx(c.Manpower,{className:"w-5 h-5 flex-shrink-0 mt-1",style:{color:r.primary}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-semibold mb-1",style:{color:r.text},children:(t=s.assigned_manpower_ids)!=null&&t.length?"Manpower":"No team assigned"}),(l=s.assigned_manpower_ids)!=null&&l.length?e.jsx("div",{className:"flex flex-wrap gap-2",children:s.assigned_manpower_ids.map(n=>e.jsx("span",{className:"px-2 py-1 rounded-lg text-sm border",style:{backgroundColor:r.cardBg,borderColor:r.border,color:r.text},children:ye.get(n)||`#${n}`},n))}):e.jsx("div",{className:"text-sm",style:{color:r.textLight},children:"Manpower"})]})]})]})]}),e.jsxs("button",{onClick:()=>Se(s.id),className:"flex items-center gap-2 px-4 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 active:scale-95 group-hover:op-100 lg:opacity-70",style:{backgroundColor:r.errorLight,color:r.error},children:[e.jsx(c.Delete,{className:"w-4 h-4"}),e.jsx("span",{children:"Remove"})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-12 rounded-2xl",style:{backgroundColor:r.background},children:[e.jsx(c.Search,{className:"w-16 h-16 mx-auto mb-4",style:{color:r.textLighter}}),e.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:r.textLight},children:"No matching services"}),e.jsx("p",{style:{color:r.textLighter},children:"Try adjusting your search or filters"})]}):e.jsxs("div",{className:"text-center py-12 lg:py-16 rounded-2xl border-2 border-dashed",style:{backgroundColor:r.background,borderColor:r.border},children:[e.jsx(c.Calendar,{className:"w-16 h-16 mx-auto mb-4",style:{color:r.textLighter}}),e.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:r.textLight},children:"No services scheduled yet"}),e.jsx("p",{className:"text-lg mb-6",style:{color:r.textLighter},children:"Create your first service entry to get started"}),e.jsxs(ne,{onClick:()=>{var s;return(s=document.getElementById("schedule-form"))==null?void 0:s.scrollIntoView({behavior:"smooth"})},size:"md",children:[e.jsx(c.Add,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule First Service"})]})]})})]})]})})}function de(o){return/^\d{2}:\d{2}$/.test(o)?`${o}:00`:o}export{Fe as default};
