import{j as e}from"./index-DMsqYpTw.js";import{r as a,u as Fe,f as Le}from"./react-BeLGUnOF.js";const u="http://localhost:4000",Ie=()=>{const[L,Q]=a.useState(""),[B,X]=a.useState(""),[S,Z]=a.useState(""),[O,ee]=a.useState(""),[w,I]=a.useState(""),[te,n]=a.useState(null),[re,c]=a.useState(null),[l,se]=a.useState(!1),[d,ae]=a.useState(""),[U,C]=a.useState(!1),[pe,T]=a.useState(!1),[v,ne]=a.useState(""),[oe,le]=a.useState(!1),[z,ie]=a.useState(!1),[h,ce]=a.useState(0),[V,A]=a.useState(!1),[R,_]=a.useState(!1),[M,J]=a.useState(!1),[D,W]=a.useState(!1),[de,j]=a.useState(!1),me=a.useRef(null),[N,E]=a.useState(null),[q,P]=a.useState(!1),[ye,H]=a.useState("verify"),[f,K]=a.useState(""),[x,Y]=a.useState(""),[k,G]=a.useState(""),[g,$]=a.useState(!1),[ue,i]=a.useState(null),[he,b]=a.useState(null),[p,y]=a.useState(null);a.useEffect(()=>{const r=localStorage.getItem("token");r&&fetch(`${u}/api/profile`,{headers:{Authorization:`Bearer ${r}`}}).then(async t=>{const s=await t.json();if(!t.ok)throw new Error((s==null?void 0:s.error)||"Failed to load profile");const o=s.profile||{};Z(o.username||""),Q(o.first_name||""),X(o.last_name||""),ee(o.phone_number||""),I(o.profile_image_url||""),ae(o.email||""),C(!!o.email_verified)}).catch(t=>n(t.message||"Failed to load profile"))},[]);function we(r){I(r.target.value)}function ve(){var r;(r=me.current)==null||r.click()}function je(r){var o;const t=(o=r.target.files)==null?void 0:o[0];if(!t)return;const s=new FileReader;s.onload=()=>{const m=String(s.result||"");E(m),j(!0)},s.readAsDataURL(t)}async function Ne(r){if(r.preventDefault(),n(null),c(null),!S.trim()){n("Username is required.");return}const t=localStorage.getItem("token");if(!t){n("Not authenticated");return}se(!0);try{let s=w;if(N){const be=await fetch(`${u}/api/profile/upload-base64`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({dataUrl:N})}),F=await be.json();if(!be.ok)throw new Error((F==null?void 0:F.error)||"Failed to upload image");s=F.profile_image_url||s,I(s)}const o=await fetch(`${u}/api/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({firstName:L,lastName:B,username:S,phone:O,profileImageUrl:s})}),m=await o.json();if(!o.ok)throw new Error((m==null?void 0:m.error)||"Failed to save profile");c("Profile saved successfully!"),A(!1),_(!1),J(!1),W(!1),j(!1),E(null)}catch(s){n((s==null?void 0:s.message)||"Failed to save profile")}finally{se(!1)}}const fe=V||R||M||D||de,ke=fe&&p!==null;async function Se(){if(i(null),b(null),!f){i("Enter your current password");return}const r=localStorage.getItem("token");if(!r){i("Not authenticated");return}try{$(!0);const t=await fetch(`${u}/api/profile/password/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({oldPassword:f})}),s=await t.json().catch(()=>({}));if(!t.ok)throw new Error((s==null?void 0:s.error)||"Old password is incorrect");H("new"),b("Old password verified")}catch(t){i((t==null?void 0:t.message)||"Failed to verify password")}finally{$(!1)}}async function Ce(){if(i(null),b(null),!x||!k){i("Fill in all fields");return}if(x!==k){i("Passwords do not match");return}const r=localStorage.getItem("token");if(!r){i("Not authenticated");return}try{$(!0);const t=await fetch(`${u}/api/profile/password/change`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({oldPassword:f,newPassword:x})}),s=await t.json().catch(()=>({}));if(!t.ok)throw new Error((s==null?void 0:s.error)||"Failed to change password");b("Password changed successfully"),K(""),Y(""),G(""),H("verify")}catch(t){i((t==null?void 0:t.message)||"Failed to change password")}finally{$(!1)}}async function Ee(){n(null),c(null);const r=localStorage.getItem("token");if(!r){n("Not authenticated");return}if(!/^\S+@\S+\.\S+$/.test(d)){n("Enter a valid email");return}try{const t=await fetch(`${u}/api/profile/email`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({email:d})}),s=await t.json().catch(()=>({}));if(!t.ok)throw new Error((s==null?void 0:s.error)||"Failed to save email");T(!1),C(!!((s==null?void 0:s.email_verified)??!1)),c("Email saved")}catch(t){n((t==null?void 0:t.message)||"Failed to save email")}}async function Pe(){n(null),c(null);const r=localStorage.getItem("token");if(!r){n("Not authenticated");return}if(!/^\S+@\S+\.\S+$/.test(d)){n("Enter a valid email first");return}try{le(!0);const t=await fetch(`${u}/api/profile/email/send-code`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({email:d})}),s=await t.json().catch(()=>({}));if(!t.ok)throw new Error((s==null?void 0:s.error)||"Failed to send verification code");c("Verification code sent"),ce(60)}catch(t){n((t==null?void 0:t.message)||"Failed to send code")}finally{le(!1)}}async function $e(){n(null),c(null);const r=localStorage.getItem("token");if(!r){n("Not authenticated");return}if(!v.trim()){n("Enter the verification code");return}try{ie(!0);const t=await fetch(`${u}/api/profile/email/verify-code`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({code:v})}),s=await t.json().catch(()=>({}));if(!t.ok)throw new Error((s==null?void 0:s.error)||"Invalid or expired code");C(!0),ne(""),c("Email verified")}catch(t){n((t==null?void 0:t.message)||"Failed to verify code")}finally{ie(!1)}}a.useEffect(()=>{if(h<=0)return;const r=setInterval(()=>ce(t=>t-1),1e3);return()=>clearInterval(r)},[h]);const xe=Fe(),ge=Le();return a.useEffect(()=>{const t=new URLSearchParams(xe.search).get("email_verify_token");t&&(async()=>{try{const s=localStorage.getItem("token");if(!s)return;const o=await fetch(`${u}/api/profile/email/verify-link`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({token:t})}),m=await o.json().catch(()=>({}));if(!o.ok)throw new Error((m==null?void 0:m.error)||"Failed to verify email");C(!0),c("Email verified")}catch(s){n((s==null?void 0:s.message)||"Email verification failed")}finally{ge("/profile",{replace:!0})}})()},[xe.search,ge]),a.useEffect(()=>{function r(t){t.key==="Escape"&&P(!1)}if(q)return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[q]),e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-charcoal",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your personal information and account details"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("form",{onSubmit:Ne,className:"p-6 sm:p-8",children:[te&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:te})]}),re&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl text-green-700 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:re})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal mb-4",children:"Profile Photo"}),e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center border-4 border-white shadow-lg",children:N||w?e.jsx("button",{type:"button",onClick:()=>P(!0),className:"block w-full h-full focus:outline-none focus:ring-2 focus:ring-amber-500 cursor-zoom-in","aria-label":"View profile image",title:"Click to view",children:e.jsx("img",{src:N||w,alt:"Profile",className:"w-full h-full object-cover"})}):e.jsxs("div",{className:"text-gray-400 flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{className:"text-xs mt-1",children:"No image"})]})}),e.jsx("div",{className:"flex flex-col space-y-3 w-full",children:de?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:ve,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-medium text-sm",children:"Choose File"}),e.jsx("input",{ref:me,type:"file",accept:"image/*",onChange:je,className:"hidden"}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal mb-2",children:"Or enter image URL"}),e.jsx("input",{type:"url",value:w,onChange:we,placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm"})]}),e.jsx("button",{type:"button",onClick:()=>{j(!1),E(null)},className:"px-4 py-2 bg-gray-100 text-charcoal rounded-lg hover:bg-gray-200 transition-colors font-medium text-sm mt-2",children:"Cancel"}),p==="image"&&e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 rounded-lg text-sm font-medium ${l?"bg-amber-400 cursor-not-allowed text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:"Save Changes"})})]}):e.jsx("button",{type:"button",onClick:()=>{j(!0),y("image")},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-medium text-sm",children:"Change Photo"})})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal mb-6",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal",children:"First Name"}),e.jsx("button",{type:"button",onClick:()=>A(r=>{const t=!r;return t&&y("first"),t}),className:"text-xs text-amber-600 hover:text-amber-700 font-medium",children:V?"Cancel":"Edit"})]}),V?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:L,onChange:r=>Q(r.target.value),placeholder:"Enter first name"}),p==="first"&&e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 rounded-lg text-sm font-medium ${l?"bg-amber-400 cursor-not-allowed text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:"Save Changes"})})]}):e.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-charcoal",children:L||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal",children:"Last Name"}),e.jsx("button",{type:"button",onClick:()=>_(r=>{const t=!r;return t&&y("last"),t}),className:"text-xs text-amber-600 hover:text-amber-700 font-medium",children:R?"Cancel":"Edit"})]}),R?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:B,onChange:r=>X(r.target.value),placeholder:"Enter last name"}),p==="last"&&e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 rounded-lg text-sm font-medium ${l?"bg-amber-400 cursor-not-allowed text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:"Save Changes"})})]}):e.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-charcoal",children:B||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal",children:"Username"}),e.jsx("button",{type:"button",onClick:()=>J(r=>{const t=!r;return t&&y("username"),t}),className:"text-xs text-amber-600 hover:text-amber-700 font-medium",children:M?"Cancel":"Edit"})]}),M?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:S,onChange:r=>Z(r.target.value),placeholder:"Enter username"}),p==="username"&&e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 rounded-lg text-sm font-medium ${l?"bg-amber-400 cursor-not-allowed text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:"Save Changes"})})]}):e.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-charcoal",children:S||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal",children:"Phone Number"}),e.jsx("button",{type:"button",onClick:()=>W(r=>{const t=!r;return t&&y("phone"),t}),className:"text-xs text-amber-600 hover:text-amber-700 font-medium",children:D?"Cancel":"Edit"})]}),D?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:O,onChange:r=>ee(r.target.value),placeholder:"Enter phone number"}),p==="phone"&&e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 rounded-lg text-sm font-medium ${l?"bg-amber-400 cursor-not-allowed text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:"Save Changes"})})]}):e.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-charcoal",children:O||"-"})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 lg:col-span-3",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Verify your current password, then set a new password."})]})}),e.jsxs("div",{className:"mt-4 space-y-3",children:[ue&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:ue}),he&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded text-green-700 text-sm",children:he}),ye==="verify"?e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:f,onChange:r=>K(r.target.value),placeholder:"Enter current password"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:Se,disabled:g||!f,className:`px-4 py-2 rounded-lg text-sm font-medium ${g||!f?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:g?"Verifying…":"Verify"}),e.jsx("button",{type:"button",onClick:()=>{K(""),i(null),b(null)},className:"px-4 py-2 rounded-lg bg-gray-100 text-charcoal hover:bg-gray-200 text-sm font-medium",children:"Clear"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:x,onChange:r=>Y(r.target.value),placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-charcoal",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:k,onChange:r=>G(r.target.value),placeholder:"Re-enter new password"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:Ce,disabled:g||!x||!k,className:`px-4 py-2 rounded-lg text-sm font-medium ${g||!x||!k?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:g?"Saving…":"Change Password"}),e.jsx("button",{type:"button",onClick:()=>{H("verify"),Y(""),G(""),i(null),b(null)},className:"px-4 py-2 rounded-lg bg-gray-100 text-charcoal hover:bg-gray-200 text-sm font-medium",children:"Back"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 lg:col-span-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-charcoal",children:"Account Email"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This email will be used to verify your account, reset your password, and recover access."})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${U?"bg-green-50 text-green-700 border-green-200":"bg-amber-50 text-amber-700 border-amber-200"}`,children:U?"Verified":"Unverified"})]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[pe?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:d,onChange:r=>ae(r.target.value),placeholder:"name@example.com",type:"email"}),e.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-700 text-white text-sm font-medium",children:"Save Email"}),e.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 rounded-lg bg-gray-100 text-charcoal hover:bg-gray-200 text-sm font-medium",children:"Cancel"})]}):e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-charcoal bg-white border border-gray-200",children:d||"-"}),e.jsx("button",{type:"button",onClick:()=>T(!0),className:"shrink-0 px-4 py-2 rounded-lg bg-white text-amber-700 border border-amber-200 hover:bg-amber-50 text-sm font-medium",children:d?"Edit":"Add Email"})]}),!U&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{type:"button",onClick:Pe,disabled:oe||h>0||!d,className:`px-4 py-2 rounded-lg text-sm font-medium border ${oe||h>0||!d?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-white text-amber-700 border-amber-200 hover:bg-amber-50"}`,children:h>0?`Resend in ${h}s`:"Send verification code"}),e.jsxs("div",{className:"flex-1 flex items-stretch gap-2",children:[e.jsx("input",{className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:v,onChange:r=>ne(r.target.value),placeholder:"Enter code"}),e.jsx("button",{type:"button",onClick:$e,disabled:z||!v.trim(),className:`px-4 py-2 rounded-lg text-sm font-medium ${z||!v.trim()?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:z?"Verifying…":"Verify"})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"You can verify either by entering the code received or by clicking the link in the email."})]})]})]})]}),fe&&!ke&&e.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{A(!1),_(!1),J(!1),W(!1),j(!1),E(null),c(null),n(null),y(null)},className:"px-6 py-2 bg-gray-100 text-charcoal rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:`px-6 py-2 rounded-lg font-medium transition-colors ${l?"bg-amber-400 cursor-not-allowed text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:l?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v4m0 12v4m8-10h-4M6 12H2"})}),e.jsx("span",{children:"Saving..."})]}):"Save Changes"})]})]})})]}),q&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4",onClick:()=>P(!1),"aria-modal":"true",role:"dialog",children:e.jsxs("div",{className:"relative max-w-3xl w-full",onClick:r=>r.stopPropagation(),children:[e.jsx("img",{src:N||w,alt:"Profile full",className:"w-full h-auto rounded-lg shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>P(!1),className:"absolute top-2 right-2 inline-flex items-center justify-center rounded-full bg-black/60 text-white w-9 h-9 hover:bg-black/80 focus:outline-none focus:ring-2 focus:ring-amber-500","aria-label":"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),e.jsx("style",{children:`
        .text-charcoal {
          color: #1E1E1E;
        }
        .bg-amber-600 {
          background-color: #D97706;
        }
        .bg-amber-700 {
          background-color: #B45309;
        }
        .text-amber-600 {
          color: #D97706;
        }
        .text-amber-700 {
          color: #B45309;
        }
        .focus\\:ring-amber-500:focus {
          --tw-ring-color: #D97706;
        }
      `})]})};export{Ie as default};
