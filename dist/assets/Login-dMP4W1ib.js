import{j as e}from"./index-DZTFkylD.js";import{r as a,f as E}from"./react-CzDbI3ao.js";const B="http://localhost:4000",r={primary:"#D97706",primaryHover:"#B45309",accent:"#15803D",accentHover:"#166534",background:"#1E1E1E",cardBg:"rgba(255, 255, 255, 0.05)",border:"rgba(255, 255, 255, 0.1)",text:"#FFFFFF",textLight:"#9CA3AF",error:"#DC2626"},O=()=>{const[x,h]=a.useState(""),[b,p]=a.useState(""),[d,g]=a.useState(""),[v,i]=a.useState(!1),[u,f]=a.useState(!1),[y,j]=a.useState(null),k=E();async function w(o){o.preventDefault(),j(null),f(!0);try{const s=await fetch(`${B}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x,password:b})}),t=await s.json();if(!s.ok)throw new Error((t==null?void 0:t.error)||"Login failed");localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),window.dispatchEvent(new Event("auth-changed")),h(""),p(""),k("/")}catch(s){j(s.message||"Login failed")}finally{f(!1)}}function N(o){if(o.preventDefault(),!d.trim()){alert("Enter your email to reset password.");return}console.log("Password reset for",d),alert("Password reset link sent (mock)."),g(""),i(!1)}const C=({children:o,onClick:s,disabled:t=!1,loading:l=!1,type:n="button",className:c=""})=>e.jsxs("button",{type:n,onClick:s,disabled:t||l,className:`px-4 py-3 rounded-lg font-semibold text-white transition-all duration-200 flex items-center justify-center gap-2 ${c}`,style:{backgroundColor:t?"#6B7280":r.primary,cursor:t?"not-allowed":"pointer"},onMouseOver:m=>{!t&&!l&&(m.currentTarget.style.backgroundColor=r.primaryHover)},onMouseOut:m=>{!t&&!l&&(m.currentTarget.style.backgroundColor=r.primary)},children:[l&&e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),o]}),S=({children:o,onClick:s,disabled:t=!1,type:l="button",className:n=""})=>e.jsx("button",{type:l,onClick:s,disabled:t,className:`px-4 py-3 rounded-lg font-semibold text-white transition-all duration-200 ${n}`,style:{backgroundColor:t?"#6B7280":r.accent,cursor:t?"not-allowed":"pointer"},onMouseOver:c=>{t||(c.currentTarget.style.backgroundColor=r.accentHover)},onMouseOut:c=>{t||(c.currentTarget.style.backgroundColor=r.accent)},children:o}),L=({children:o,onClick:s,disabled:t=!1,className:l=""})=>e.jsx("button",{onClick:s,disabled:t,className:`px-4 py-3 rounded-lg font-semibold border transition-all duration-200 ${l}`,style:{color:r.text,borderColor:r.border,backgroundColor:"transparent",cursor:t?"not-allowed":"pointer"},onMouseOver:n=>{t||(n.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onMouseOut:n=>{t||(n.currentTarget.style.backgroundColor="transparent")},children:o});return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:r.background},children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${r.primary}15`}}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full blur-3xl",style:{backgroundColor:`${r.accent}15`}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl",style:{backgroundColor:`${r.primary}10`}})]}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsxs("div",{className:"rounded-2xl border p-8 shadow-2xl",style:{backgroundColor:r.cardBg,borderColor:r.border},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl shadow-lg mb-4",style:{backgroundColor:r.primary},children:e.jsx("span",{className:"text-white font-bold text-xl",children:"UCS"})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:r.text},children:"Welcome Back"}),e.jsx("p",{style:{color:r.textLight},children:"Sign in to your UCS account"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[y&&e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#FEF2F2",borderColor:r.error},children:e.jsxs("div",{className:"flex items-center space-x-2",style:{color:r.error},children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium",children:y})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:r.text},children:"Username or Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5",style:{color:r.textLight},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("input",{value:x,onChange:o=>h(o.target.value),className:"block w-full pl-10 pr-4 py-3 rounded-lg border focus:outline-none focus:ring-2 backdrop-blur-sm transition-all duration-200",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:r.border,color:r.text},placeholder:"Enter your username or email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:r.text},children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5",style:{color:r.textLight},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("input",{type:"password",value:b,onChange:o=>p(o.target.value),className:"block w-full pl-10 pr-4 py-3 rounded-lg border focus:outline-none focus:ring-2 backdrop-blur-sm transition-all duration-200",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:r.border,color:r.text},placeholder:"Enter your password",required:!0})]})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(C,{type:"submit",disabled:u,loading:u,className:"flex-1 py-3",children:u?"Signing in...":"Sign in"})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-sm font-medium transition-colors duration-200 hover:underline",style:{color:r.textLight},children:"Forgot your password?"})})]}),v&&e.jsx("div",{className:"absolute inset-0 rounded-2xl flex items-center justify-center p-6",style:{backgroundColor:"rgba(0, 0, 0, 0.8)"},children:e.jsxs("div",{className:"rounded-2xl p-6 w-full border shadow-2xl",style:{backgroundColor:r.cardBg,borderColor:r.border},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:r.text},children:"Reset Password"}),e.jsx("button",{onClick:()=>i(!1),className:"p-1 rounded-lg transition-colors duration-200 hover:bg-white/10",style:{color:r.text},children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:r.text},children:"Email Address"}),e.jsx("input",{value:d,onChange:o=>g(o.target.value),className:"block w-full px-4 py-3 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:r.border,color:r.text},placeholder:"Enter your email address",type:"email"})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[e.jsx(S,{type:"submit",className:"flex-1 py-3",children:"Send Reset Link"}),e.jsx(L,{onClick:()=>i(!1),className:"flex-1 py-3",children:"Cancel"})]})]})]})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-sm",style:{color:r.textLight},children:"Â© 2024 UCS Company. Secure Management System"})})]})]})};export{O as default};
