import{j as e}from"./index-8yk-1D8L.js";import{r as n}from"./react-CzDbI3ao.js";import{d as m,g as x,W as h,e as b}from"./ui-fx2JTPqr.js";const j="http://localhost:4000",g=()=>{const[s,o]=n.useState({name:"",plateNumber:null,salary:null,zones:[]}),[i,d]=n.useState(!1);return n.useEffect(()=>{const r=localStorage.getItem("token");r&&(d(!0),fetch(`${j}/api/me`,{headers:{Authorization:`Bearer ${r}`}}).then(async t=>{const l=await t.json();if(!t.ok)throw new Error((l==null?void 0:l.error)||"Failed to load profile");o(a=>{var c;return{...a,name:((c=l==null?void 0:l.user)==null?void 0:c.username)||"",plateNumber:a.plateNumber,salary:a.salary,zones:a.zones}})}).catch(t=>console.error("Load driver profile error:",t)).finally(()=>d(!1)))},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-zinc-800 to-indigo-600 bg-clip-text text-transparent",children:"Driver Dashboard"}),e.jsx("p",{className:"text-zinc-600 mt-2",children:"Your vehicle assignment and routes overview"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0 text-sm text-zinc-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Profile Active"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Name"}),e.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:i?"…":s.name||"-"})]}),e.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-indigo-50 text-indigo-600",children:e.jsx(m,{className:"h-8 w-8"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Assigned Car (Plate)"}),e.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:i?"…":s.plateNumber??"Not assigned"})]}),e.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-amber-50 text-amber-600",children:e.jsx(x,{className:"h-8 w-8"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Salary"}),e.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:i?"…":s.salary!=null?`$${s.salary}`:"Not set"})]}),e.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-emerald-50 text-emerald-600",children:e.jsx(h,{className:"h-8 w-8"})})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"h-5 w-5 text-indigo-600"}),e.jsx("div",{className:"text-sm font-semibold text-zinc-700",children:"Assigned Zones"})]})}),i?"…":s.zones.length?e.jsx("ul",{className:"list-disc pl-6 text-zinc-800",children:s.zones.map((r,t)=>e.jsx("li",{children:r},t))}):e.jsx("div",{className:"text-zinc-600",children:"None"})]})]})};export{g as default};
