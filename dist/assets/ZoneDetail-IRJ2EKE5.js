import{u as L,j as e}from"./index-B34CxXhK.js";import{j as D,f as B,r as i}from"./react-BeLGUnOF.js";const M="http://localhost:4000",t={primary:"#D97706",primaryHover:"#B45309",accent:"#15803D",background:"#F9FAFB",cardBg:"#FFFFFF",border:"#E2E8F0",text:"#1E1E1E",textLight:"#64748B",textLighter:"#94A3B8",error:"#DC2626",errorLight:"#FEF2F2",success:"#15803D",warning:"#D97706"},l={Back:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Users:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),Money:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),Calendar:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Today:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Crown:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Settings:s=>e.jsxs("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),UserPlus:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),Refresh:s=>e.jsx("svg",{...s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},c=({children:s,className:n="",padding:r="p-6"})=>e.jsx("div",{className:`rounded-2xl shadow-sm border transition-all duration-300 hover:shadow-md ${r} ${n}`,style:{backgroundColor:t.cardBg,borderColor:t.border},children:s}),w=({children:s,onClick:n,disabled:r=!1,loading:o=!1,size:x="md",className:a=""})=>{const p={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return e.jsxs("button",{onClick:n,disabled:r||o,className:`rounded-xl font-semibold text-white transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl active:scale-95 ${p[x]} ${a}`,style:{backgroundColor:r?t.textLighter:t.primary,cursor:r?"not-allowed":"pointer",opacity:r?.6:1},onMouseOver:m=>{!r&&!o&&(m.currentTarget.style.backgroundColor=t.primaryHover)},onMouseOut:m=>{!r&&!o&&(m.currentTarget.style.backgroundColor=t.primary)},children:[o&&e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s]})},F=()=>{const{t:s}=L(),{id:n}=D(),r=B(),[o,x]=i.useState(null),[a,p]=i.useState({amountToBePaid:null,currentMonthPaid:null,todayPaid:null}),[m,C]=i.useState(!1),[y,N]=i.useState(null),[u,z]=i.useState(!1),[b,k]=i.useState(!1),f=async()=>{const g=localStorage.getItem("token");if(!(!g||!n)){k(!0),N(null);try{const d=await fetch(`${M}/api/zones/${n}`,{headers:{Authorization:`Bearer ${g}`}}),h=await d.json();if(!d.ok)throw new Error((h==null?void 0:h.error)||"Failed to load zone");x(h.zone),p(h.payments||{amountToBePaid:null,currentMonthPaid:null,todayPaid:null})}catch(d){N((d==null?void 0:d.message)||"Failed to load zone")}finally{C(!1),k(!1)}}};return i.useEffect(()=>{f()},[n]),m?e.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:t.background},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:t.primary}}),e.jsx("div",{className:"text-lg",style:{color:t.textLight},children:s("zoneDetail.title")})]})}):y?e.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:t.background},children:e.jsxs(c,{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:t.errorLight},children:e.jsx("div",{className:"w-8 h-8 rounded-full",style:{backgroundColor:t.error}})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:t.error},children:s("common.errorLoading")}),e.jsx("p",{className:"mb-4",style:{color:t.textLight},children:y}),e.jsxs(w,{onClick:f,loading:b,children:[e.jsx(l.Refresh,{className:"w-4 h-4"}),s("common.tryAgain")]})]})}):o?e.jsx("div",{className:"min-h-screen p-4 lg:p-6",style:{backgroundColor:t.background},children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 p-3 rounded-2xl transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:t.cardBg,color:t.textLight},children:[e.jsx(l.Back,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:s("zoneDetail.backToZones")})]}),e.jsx("div",{className:"w-px h-8",style:{backgroundColor:t.border}}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold",style:{color:t.text},children:s("zoneDetail.title")}),e.jsx("p",{className:"text-lg mt-2",style:{color:t.textLight},children:s("zoneDetail.subtitle")})]})]}),e.jsxs(w,{onClick:f,loading:b,size:"md",className:"flex items-center gap-2",children:[e.jsx(l.Refresh,{className:"w-4 h-4"}),e.jsx("span",{children:s("zoneDetail.refresh")})]})]}),e.jsx(c,{padding:"p-6 lg:p-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-3 h-3 rounded-full animate-pulse",style:{backgroundColor:t.primary}}),e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:t.text},children:o.zone_name})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l.Users,{className:"w-5 h-5",style:{color:t.primary}}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",style:{color:t.text},children:[o.cell,", ",o.village]}),e.jsx("div",{className:"text-sm",style:{color:t.textLight},children:s("zoneDetail.location")})]})]}),o.description&&e.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:t.background},children:[e.jsx("div",{className:"text-sm font-semibold mb-1",style:{color:t.text},children:s("zoneDetail.description")}),e.jsx("div",{className:"text-sm",style:{color:t.textLight},children:o.description})]})]})]}),e.jsxs("div",{className:"lg:text-right",children:[e.jsx("div",{className:"text-2xl font-bold mb-2",style:{color:t.primary},children:o.client_count}),e.jsx("div",{className:"text-sm font-semibold",style:{color:t.textLight},children:s("zoneDetail.totalClients")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(j,{icon:e.jsx(l.Crown,{className:"w-6 h-6"}),title:s("zoneDetail.zoneChief"),value:o.chief_username??s("common.unassigned"),color:t.primary}),e.jsx(j,{icon:e.jsx(l.Users,{className:"w-6 h-6"}),title:s("zoneDetail.totalClients"),value:o.client_count.toString(),color:t.accent}),e.jsx(j,{icon:e.jsx(l.Money,{className:"w-6 h-6"}),title:s("zoneDetail.amountToBePaid"),value:a.amountToBePaid!=null?`${a.amountToBePaid.toLocaleString()}`:s("common.na"),color:t.warning}),e.jsx(j,{icon:e.jsx(l.Calendar,{className:"w-6 h-6"}),title:s("zoneDetail.currentMonthPaid"),value:a.currentMonthPaid!=null?`${a.currentMonthPaid.toLocaleString()}`:s("common.na"),color:t.success})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(l.Today,{className:"w-6 h-6",style:{color:t.primary}}),e.jsx("h3",{className:"text-xl font-semibold",style:{color:t.text},children:s("zoneDetail.todaysPayments")})]}),e.jsx("div",{className:"text-3xl font-bold",style:{color:t.primary},children:a.todayPaid!=null?`${a.todayPaid.toLocaleString()}`:s("common.na")}),e.jsx("div",{className:"text-sm mt-2",style:{color:t.textLight},children:s("zoneDetail.todaysPaymentsCaption")})]}),e.jsxs(c,{padding:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l.Settings,{className:"w-6 h-6",style:{color:t.primary}}),e.jsx("h3",{className:"text-xl font-semibold",style:{color:t.text},children:s("zoneDetail.manage.title")})]}),e.jsxs("button",{onClick:()=>z(g=>!g),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition-all duration-300 hover:scale-105 active:scale-95",style:{backgroundColor:u?t.primary:t.background,color:u?"white":t.text},children:[e.jsx(l.Settings,{className:"w-4 h-4"}),e.jsx("span",{children:s(u?"zoneDetail.manage.toggleHide":"zoneDetail.manage.toggleShow")})]})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(v,{icon:e.jsx(l.Users,{className:"w-8 h-8"}),title:s("zoneDetail.manage.reassignSupervisor"),description:s("zoneDetail.manage.reassignSupervisorDesc"),onClick:()=>r(`/register-supervisor?zoneId=${n}&reassign=1`),buttonText:s("zoneDetail.manage.reassignSupervisor"),color:t.primary}),e.jsx(v,{icon:e.jsx(l.Crown,{className:"w-8 h-8"}),title:s("zoneDetail.manage.reassignChief"),description:s("zoneDetail.manage.reassignChiefDesc"),onClick:()=>r(`/register-chief?zoneId=${n}&reassign=1`),buttonText:s("zoneDetail.manage.reassignChief"),color:t.accent}),e.jsx(v,{icon:e.jsx(l.UserPlus,{className:"w-8 h-8"}),title:s("zoneDetail.manage.addClient"),description:s("zoneDetail.manage.addClientDesc"),onClick:()=>r(`/register-client?zoneId=${n}`),buttonText:s("zoneDetail.manage.addClient"),color:t.success})]})]})]})}):e.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:t.background},children:e.jsxs(c,{className:"text-center max-w-md",children:[e.jsx(l.Users,{className:"w-16 h-16 mx-auto mb-4",style:{color:t.textLighter}}),e.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:t.textLight},children:s("zoneDetail.title")}),e.jsx("p",{style:{color:t.textLighter},children:s("common.na")})]})})};function j({icon:s,title:n,value:r,color:o}){return e.jsx(c,{padding:"p-6",className:"group hover:scale-[1.02] transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:scale-110",style:{backgroundColor:`${o}15`},children:e.jsx("div",{style:{color:o},children:s})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-semibold mb-1",style:{color:t.textLight},children:n}),e.jsx("div",{className:"text-xl font-bold",style:{color:t.text},children:r})]})]})})}function v({icon:s,title:n,description:r,onClick:o,buttonText:x,color:a}){return e.jsx(c,{padding:"p-6",className:"group hover:scale-[1.02] transition-all duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 transition-all duration-300 group-hover:scale-110",style:{backgroundColor:`${a}15`},children:e.jsx("div",{style:{color:a},children:s})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:t.text},children:n}),e.jsx("p",{className:"text-sm mb-4",style:{color:t.textLight},children:r}),e.jsx("button",{onClick:o,className:"w-full px-4 py-3 rounded-xl font-semibold text-white transition-all duration-300 hover:shadow-lg active:scale-95",style:{backgroundColor:a},children:x})]})})}export{F as default};
