(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function d(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function u(f){if(f.ep)return;f.ep=!0;const g=d(f);fetch(f.href,g)}})();function J0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ec={exports:{}},An={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function F0(){if(Gh)return An;Gh=1;var r=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function d(u,f,g){var y=null;if(g!==void 0&&(y=""+g),f.key!==void 0&&(y=""+f.key),"key"in f){g={};for(var b in f)b!=="key"&&(g[b]=f[b])}else g=f;return f=g.ref,{$$typeof:r,type:u,key:y,ref:f!==void 0?f:null,props:g}}return An.Fragment=m,An.jsx=d,An.jsxs=d,An}var Qh;function K0(){return Qh||(Qh=1,Ec.exports=F0()),Ec.exports}var a=K0(),Ac={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function W0(){if(Jh)return Me;Jh=1;var r=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),D=Symbol.iterator;function W(x){return x===null||typeof x!="object"?null:(x=D&&x[D]||x["@@iterator"],typeof x=="function"?x:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,F={};function L(x,U,K){this.props=x,this.context=U,this.refs=F,this.updater=K||te}L.prototype.isReactComponent={},L.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function le(){}le.prototype=L.prototype;function O(x,U,K){this.props=x,this.context=U,this.refs=F,this.updater=K||te}var ie=O.prototype=new le;ie.constructor=O,G(ie,L.prototype),ie.isPureReactComponent=!0;var q=Array.isArray;function Z(){}var z={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function j(x,U,K){var S=K.ref;return{$$typeof:r,type:x,key:U,ref:S!==void 0?S:null,props:K}}function T(x,U){return j(x.type,U,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function H(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(K){return U[K]})}var X=/\/+/g;function V(x,U){return typeof x=="object"&&x!==null&&x.key!=null?H(""+x.key):U.toString(36)}function J(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Z,Z):(x.status="pending",x.then(function(U){x.status==="pending"&&(x.status="fulfilled",x.value=U)},function(U){x.status==="pending"&&(x.status="rejected",x.reason=U)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function w(x,U,K,S,re){var xe=typeof x;(xe==="undefined"||xe==="boolean")&&(x=null);var ye=!1;if(x===null)ye=!0;else switch(xe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(x.$$typeof){case r:case m:ye=!0;break;case N:return ye=x._init,w(ye(x._payload),U,K,S,re)}}if(ye)return re=re(x),ye=S===""?"."+V(x,0):S,q(re)?(K="",ye!=null&&(K=ye.replace(X,"$&/")+"/"),w(re,U,K,"",function(Ae){return Ae})):re!=null&&(R(re)&&(re=T(re,K+(re.key==null||x&&x.key===re.key?"":(""+re.key).replace(X,"$&/")+"/")+ye)),U.push(re)),1;ye=0;var ue=S===""?".":S+":";if(q(x))for(var Ne=0;Ne<x.length;Ne++)S=x[Ne],xe=ue+V(S,Ne),ye+=w(S,U,K,xe,re);else if(Ne=W(x),typeof Ne=="function")for(x=Ne.call(x),Ne=0;!(S=x.next()).done;)S=S.value,xe=ue+V(S,Ne++),ye+=w(S,U,K,xe,re);else if(xe==="object"){if(typeof x.then=="function")return w(J(x),U,K,S,re);throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ye}function E(x,U,K){if(x==null)return x;var S=[],re=0;return w(x,S,"","",function(xe){return U.call(K,xe,re++)}),S}function ae(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(K){(x._status===0||x._status===-1)&&(x._status=1,x._result=K)},function(K){(x._status===0||x._status===-1)&&(x._status=2,x._result=K)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var $=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},_={map:E,forEach:function(x,U,K){E(x,function(){U.apply(this,arguments)},K)},count:function(x){var U=0;return E(x,function(){U++}),U},toArray:function(x){return E(x,function(U){return U})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Me.Activity=M,Me.Children=_,Me.Component=L,Me.Fragment=d,Me.Profiler=f,Me.PureComponent=O,Me.StrictMode=u,Me.Suspense=v,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Me.__COMPILER_RUNTIME={__proto__:null,c:function(x){return z.H.useMemoCache(x)}},Me.cache=function(x){return function(){return x.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(x,U,K){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var S=G({},x.props),re=x.key;if(U!=null)for(xe in U.key!==void 0&&(re=""+U.key),U)!A.call(U,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&U.ref===void 0||(S[xe]=U[xe]);var xe=arguments.length-2;if(xe===1)S.children=K;else if(1<xe){for(var ye=Array(xe),ue=0;ue<xe;ue++)ye[ue]=arguments[ue+2];S.children=ye}return j(x.type,re,S)},Me.createContext=function(x){return x={$$typeof:y,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:g,_context:x},x},Me.createElement=function(x,U,K){var S,re={},xe=null;if(U!=null)for(S in U.key!==void 0&&(xe=""+U.key),U)A.call(U,S)&&S!=="key"&&S!=="__self"&&S!=="__source"&&(re[S]=U[S]);var ye=arguments.length-2;if(ye===1)re.children=K;else if(1<ye){for(var ue=Array(ye),Ne=0;Ne<ye;Ne++)ue[Ne]=arguments[Ne+2];re.children=ue}if(x&&x.defaultProps)for(S in ye=x.defaultProps,ye)re[S]===void 0&&(re[S]=ye[S]);return j(x,xe,re)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(x){return{$$typeof:b,render:x}},Me.isValidElement=R,Me.lazy=function(x){return{$$typeof:N,_payload:{_status:-1,_result:x},_init:ae}},Me.memo=function(x,U){return{$$typeof:p,type:x,compare:U===void 0?null:U}},Me.startTransition=function(x){var U=z.T,K={};z.T=K;try{var S=x(),re=z.S;re!==null&&re(K,S),typeof S=="object"&&S!==null&&typeof S.then=="function"&&S.then(Z,$)}catch(xe){$(xe)}finally{U!==null&&K.types!==null&&(U.types=K.types),z.T=U}},Me.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Me.use=function(x){return z.H.use(x)},Me.useActionState=function(x,U,K){return z.H.useActionState(x,U,K)},Me.useCallback=function(x,U){return z.H.useCallback(x,U)},Me.useContext=function(x){return z.H.useContext(x)},Me.useDebugValue=function(){},Me.useDeferredValue=function(x,U){return z.H.useDeferredValue(x,U)},Me.useEffect=function(x,U){return z.H.useEffect(x,U)},Me.useEffectEvent=function(x){return z.H.useEffectEvent(x)},Me.useId=function(){return z.H.useId()},Me.useImperativeHandle=function(x,U,K){return z.H.useImperativeHandle(x,U,K)},Me.useInsertionEffect=function(x,U){return z.H.useInsertionEffect(x,U)},Me.useLayoutEffect=function(x,U){return z.H.useLayoutEffect(x,U)},Me.useMemo=function(x,U){return z.H.useMemo(x,U)},Me.useOptimistic=function(x,U){return z.H.useOptimistic(x,U)},Me.useReducer=function(x,U,K){return z.H.useReducer(x,U,K)},Me.useRef=function(x){return z.H.useRef(x)},Me.useState=function(x){return z.H.useState(x)},Me.useSyncExternalStore=function(x,U,K){return z.H.useSyncExternalStore(x,U,K)},Me.useTransition=function(){return z.H.useTransition()},Me.version="19.2.0",Me}var Fh;function Gc(){return Fh||(Fh=1,Ac.exports=W0()),Ac.exports}var c=Gc();const De=J0(c);var Mc={exports:{}},Mn={},_c={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function I0(){return Kh||(Kh=1,(function(r){function m(w,E){var ae=w.length;w.push(E);e:for(;0<ae;){var $=ae-1>>>1,_=w[$];if(0<f(_,E))w[$]=E,w[ae]=_,ae=$;else break e}}function d(w){return w.length===0?null:w[0]}function u(w){if(w.length===0)return null;var E=w[0],ae=w.pop();if(ae!==E){w[0]=ae;e:for(var $=0,_=w.length,x=_>>>1;$<x;){var U=2*($+1)-1,K=w[U],S=U+1,re=w[S];if(0>f(K,ae))S<_&&0>f(re,K)?(w[$]=re,w[S]=ae,$=S):(w[$]=K,w[U]=ae,$=U);else if(S<_&&0>f(re,ae))w[$]=re,w[S]=ae,$=S;else break e}}return E}function f(w,E){var ae=w.sortIndex-E.sortIndex;return ae!==0?ae:w.id-E.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;r.unstable_now=function(){return g.now()}}else{var y=Date,b=y.now();r.unstable_now=function(){return y.now()-b}}var v=[],p=[],N=1,M=null,D=3,W=!1,te=!1,G=!1,F=!1,L=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function ie(w){for(var E=d(p);E!==null;){if(E.callback===null)u(p);else if(E.startTime<=w)u(p),E.sortIndex=E.expirationTime,m(v,E);else break;E=d(p)}}function q(w){if(G=!1,ie(w),!te)if(d(v)!==null)te=!0,Z||(Z=!0,H());else{var E=d(p);E!==null&&J(q,E.startTime-w)}}var Z=!1,z=-1,A=5,j=-1;function T(){return F?!0:!(r.unstable_now()-j<A)}function R(){if(F=!1,Z){var w=r.unstable_now();j=w;var E=!0;try{e:{te=!1,G&&(G=!1,le(z),z=-1),W=!0;var ae=D;try{t:{for(ie(w),M=d(v);M!==null&&!(M.expirationTime>w&&T());){var $=M.callback;if(typeof $=="function"){M.callback=null,D=M.priorityLevel;var _=$(M.expirationTime<=w);if(w=r.unstable_now(),typeof _=="function"){M.callback=_,ie(w),E=!0;break t}M===d(v)&&u(v),ie(w)}else u(v);M=d(v)}if(M!==null)E=!0;else{var x=d(p);x!==null&&J(q,x.startTime-w),E=!1}}break e}finally{M=null,D=ae,W=!1}E=void 0}}finally{E?H():Z=!1}}}var H;if(typeof O=="function")H=function(){O(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,V=X.port2;X.port1.onmessage=R,H=function(){V.postMessage(null)}}else H=function(){L(R,0)};function J(w,E){z=L(function(){w(r.unstable_now())},E)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(w){w.callback=null},r.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<w?Math.floor(1e3/w):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(w){switch(D){case 1:case 2:case 3:var E=3;break;default:E=D}var ae=D;D=E;try{return w()}finally{D=ae}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(w,E){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var ae=D;D=w;try{return E()}finally{D=ae}},r.unstable_scheduleCallback=function(w,E,ae){var $=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,w){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ae+_,w={id:N++,callback:E,priorityLevel:w,startTime:ae,expirationTime:_,sortIndex:-1},ae>$?(w.sortIndex=ae,m(p,w),d(v)===null&&w===d(p)&&(G?(le(z),z=-1):G=!0,J(q,ae-$))):(w.sortIndex=_,m(v,w),te||W||(te=!0,Z||(Z=!0,H()))),w},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(w){var E=D;return function(){var ae=D;D=E;try{return w.apply(this,arguments)}finally{D=ae}}}})(Tc)),Tc}var Wh;function P0(){return Wh||(Wh=1,_c.exports=I0()),_c.exports}var Dc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function ep(){if(Ih)return At;Ih=1;var r=Gc();function m(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)p+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var u={d:{f:d,r:function(){throw Error(m(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},f=Symbol.for("react.portal");function g(v,p,N){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:M==null?null:""+M,children:v,containerInfo:p,implementation:N}}var y=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,At.createPortal=function(v,p){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(m(299));return g(v,p,null,N)},At.flushSync=function(v){var p=y.T,N=u.p;try{if(y.T=null,u.p=2,v)return v()}finally{y.T=p,u.p=N,u.d.f()}},At.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,u.d.C(v,p))},At.prefetchDNS=function(v){typeof v=="string"&&u.d.D(v)},At.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var N=p.as,M=b(N,p.crossOrigin),D=typeof p.integrity=="string"?p.integrity:void 0,W=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;N==="style"?u.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:M,integrity:D,fetchPriority:W}):N==="script"&&u.d.X(v,{crossOrigin:M,integrity:D,fetchPriority:W,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},At.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var N=b(p.as,p.crossOrigin);u.d.M(v,{crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&u.d.M(v)},At.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var N=p.as,M=b(N,p.crossOrigin);u.d.L(v,N,{crossOrigin:M,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},At.preloadModule=function(v,p){if(typeof v=="string")if(p){var N=b(p.as,p.crossOrigin);u.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else u.d.m(v)},At.requestFormReset=function(v){u.d.r(v)},At.unstable_batchedUpdates=function(v,p){return v(p)},At.useFormState=function(v,p,N){return y.H.useFormState(v,p,N)},At.useFormStatus=function(){return y.H.useHostTransitionStatus()},At.version="19.2.0",At}var Ph;function tp(){if(Ph)return Dc.exports;Ph=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(m){console.error(m)}}return r(),Dc.exports=ep(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function ap(){if(ef)return Mn;ef=1;var r=P0(),m=Gc(),d=tp();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(g(e)!==e)throw Error(u(188))}function p(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(u(188));return t!==e?null:e}for(var l=e,s=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return v(n),e;if(i===s)return v(n),t;i=i.sibling}throw Error(u(188))}if(l.return!==s.return)l=n,s=i;else{for(var o=!1,h=n.child;h;){if(h===l){o=!0,l=n,s=i;break}if(h===s){o=!0,s=n,l=i;break}h=h.sibling}if(!o){for(h=i.child;h;){if(h===l){o=!0,l=i,s=n;break}if(h===s){o=!0,s=i,l=n;break}h=h.sibling}if(!o)throw Error(u(189))}}if(l.alternate!==s)throw Error(u(190))}if(l.tag!==3)throw Error(u(188));return l.stateNode.current===l?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var M=Object.assign,D=Symbol.for("react.element"),W=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),O=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function V(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case L:return"Profiler";case F:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case te:return"Portal";case O:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch{}}return null}var J=Array.isArray,w=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},$=[],_=-1;function x(e){return{current:e}}function U(e){0>_||(e.current=$[_],$[_]=null,_--)}function K(e,t){_++,$[_]=e.current,e.current=t}var S=x(null),re=x(null),xe=x(null),ye=x(null);function ue(e,t){switch(K(xe,t),K(re,e),K(S,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xh(t),e=ph(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(S),K(S,e)}function Ne(){U(S),U(re),U(xe)}function Ae(e){e.memoizedState!==null&&K(ye,e);var t=S.current,l=ph(t,e.type);t!==l&&(K(re,e),K(S,l))}function Ie(e){re.current===e&&(U(S),U(re)),ye.current===e&&(U(ye),Cn._currentValue=ae)}var Tt,pa;function Pe(e){if(Tt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Tt=t&&t[1]||"",pa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+e+pa}var Qa=!1;function Ue(e,t){if(!e||Qa)return"";Qa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(se){var ee=se}Reflect.construct(e,[],me)}else{try{me.call()}catch(se){ee=se}e.call(me.prototype)}}else{try{throw Error()}catch(se){ee=se}(me=e())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),o=i[0],h=i[1];if(o&&h){var k=o.split(`
`),P=h.split(`
`);for(n=s=0;s<k.length&&!k[s].includes("DetermineComponentFrameRoot");)s++;for(;n<P.length&&!P[n].includes("DetermineComponentFrameRoot");)n++;if(s===k.length||n===P.length)for(s=k.length-1,n=P.length-1;1<=s&&0<=n&&k[s]!==P[n];)n--;for(;1<=s&&0<=n;s--,n--)if(k[s]!==P[n]){if(s!==1||n!==1)do if(s--,n--,0>n||k[s]!==P[n]){var ce=`
`+k[s].replace(" at new "," at ");return e.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",e.displayName)),ce}while(1<=s&&0<=n);break}}}finally{Qa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Pe(l):""}function nt(e,t){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return e.child!==t&&t!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Ue(e.type,!1);case 11:return Ue(e.type.render,!1);case 1:return Ue(e.type,!0);case 31:return Pe("Activity");default:return""}}function he(e){try{var t="",l=null;do t+=nt(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ge=Object.prototype.hasOwnProperty,be=r.unstable_scheduleCallback,ke=r.unstable_cancelCallback,Xe=r.unstable_shouldYield,It=r.unstable_requestPaint,ot=r.unstable_now,ga=r.unstable_getCurrentPriorityLevel,Ct=r.unstable_ImmediatePriority,Nl=r.unstable_UserBlockingPriority,va=r.unstable_NormalPriority,Vn=r.unstable_LowPriority,fe=r.unstable_IdlePriority,yt=r.log,fr=r.unstable_setDisableYieldValue,wl=null,kt=null;function ya(e){if(typeof yt=="function"&&fr(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(wl,e)}catch{}}var Dt=Math.clz32?Math.clz32:gr,xr=Math.log,pr=Math.LN2;function gr(e){return e>>>=0,e===0?32:31-(xr(e)/pr|0)|0}var Xl=256,Gl=262144,Ja=4194304;function ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fa(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var h=s&134217727;return h!==0?(s=h&~i,s!==0?n=ka(s):(o&=h,o!==0?n=ka(o):l||(l=h&~e,l!==0&&(n=ka(l))))):(h=s&~i,h!==0?n=ka(h):o!==0?n=ka(o):l||(l=s&~e,l!==0&&(n=ka(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Sl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(){var e=Ja;return Ja<<=1,(Ja&62914560)===0&&(Ja=4194304),e}function Ka(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function zt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $t(e,t,l,s,n,i){var o=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var h=e.entanglements,k=e.expirationTimes,P=e.hiddenUpdates;for(l=o&~l;0<l;){var ce=31-Dt(l),me=1<<ce;h[ce]=0,k[ce]=-1;var ee=P[ce];if(ee!==null)for(P[ce]=null,ce=0;ce<ee.length;ce++){var se=ee[ce];se!==null&&(se.lane&=-536870913)}l&=~me}s!==0&&Et(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Et(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Dt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Xn(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Dt(l),n=1<<s;n&t|e[s]&t&&(e[s]|=t),l&=~n}}function ne(e,t){var l=t&-t;return l=(l&42)!==0?1:oe(l),(l&(e.suspendedLanes|t))!==0?0:l}function oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function C(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Q(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:Uh(e.type))}function Ce(e,t){var l=E.p;try{return E.p=e,t()}finally{E.p=l}}var we=Math.random().toString(36).slice(2),Ve="__reactFiber$"+we,Ot="__reactProps$"+we,Ql="__reactContainer$"+we,vr="__reactEvents$"+we,Of="__reactListeners$"+we,Rf="__reactHandles$"+we,au="__reactResources$"+we,Us="__reactMarker$"+we;function yr(e){delete e[Ve],delete e[Ot],delete e[vr],delete e[Of],delete e[Rf]}function Jl(e){var t=e[Ve];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Ql]||l[Ve]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=wh(e);e!==null;){if(l=e[Ve])return l;e=wh(e)}return t}e=l,l=e.parentNode}return null}function Fl(e){if(e=e[Ve]||e[Ql]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Kl(e){var t=e[au];return t||(t=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function gt(e){e[Us]=!0}var lu=new Set,su={};function Cl(e,t){Wl(e,t),Wl(e+"Capture",t)}function Wl(e,t){for(su[e]=t,e=0;e<t.length;e++)lu.add(t[e])}var Uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},iu={};function Hf(e){return ge.call(iu,e)?!0:ge.call(nu,e)?!1:Uf.test(e)?iu[e]=!0:(nu[e]=!0,!1)}function Gn(e,t,l){if(Hf(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Qn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function za(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ru(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zf(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){l=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(o){l=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function br(e){if(!e._valueTracker){var t=ru(e)?"checked":"value";e._valueTracker=Zf(e,t,""+e[t])}}function ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=ru(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vf=/[\n"\\]/g;function ea(e){return e.replace(Vf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jr(e,t,l,s,n,i,o,h){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Nr(e,o,Pt(t)):l!=null?Nr(e,o,Pt(l)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.name=""+Pt(h):e.removeAttribute("name")}function cu(e,t,l,s,n,i,o,h){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){br(e);return}l=l!=null?""+Pt(l):"",t=t!=null?""+Pt(t):l,h||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=h?e.checked:!!s,e.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),br(e)}function Nr(e,t,l){t==="number"&&Jn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Il(e,t,l,s){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Pt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function uu(e,t,l){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Pt(l):""}function du(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(u(92));if(J(s)){if(1<s.length)throw Error(u(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Pt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),br(e)}function Pl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var qf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||qf.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function hu(e,t,l){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&l[n]!==s&&mu(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&mu(e,i,t[i])}function wr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(e){return Xf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ea(){}var Sr=null;function Cr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var es=null,ts=null;function fu(e){var t=Fl(e);if(t&&(e=t.stateNode)){var l=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(jr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ea(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var n=s[Ot]||null;if(!n)throw Error(u(90));jr(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&ou(s)}break e;case"textarea":uu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Il(e,!!l.multiple,t,!1)}}}var kr=!1;function xu(e,t,l){if(kr)return e(t,l);kr=!0;try{var s=e(t);return s}finally{if(kr=!1,(es!==null||ts!==null)&&($i(),es&&(t=es,e=ts,ts=es=null,fu(t),e)))for(t=0;t<e.length;t++)fu(e[t])}}function Zs(e,t){var l=e.stateNode;if(l===null)return null;var s=l[Ot]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(u(231,t,typeof l));return l}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Aa)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{zr=!1}var Wa=null,Er=null,Kn=null;function pu(){if(Kn)return Kn;var e,t=Er,l=t.length,s,n="value"in Wa?Wa.value:Wa.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var o=l-e;for(s=1;s<=o&&t[l-s]===n[i-s];s++);return Kn=n.slice(e,1<s?1-s:void 0)}function Wn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function In(){return!0}function gu(){return!1}function Rt(e){function t(l,s,n,i,o){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(l=e[h],this[h]=l?l(i):i[h]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?In:gu,this.isPropagationStopped=gu,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=In)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=In)},persist:function(){},isPersistent:In}),t}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pn=Rt(kl),qs=M({},kl,{view:0,detail:0}),Gf=Rt(qs),Ar,Mr,Ys,ei=M({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(Ar=e.screenX-Ys.screenX,Mr=e.screenY-Ys.screenY):Mr=Ar=0,Ys=e),Ar)},movementY:function(e){return"movementY"in e?e.movementY:Mr}}),vu=Rt(ei),Qf=M({},ei,{dataTransfer:0}),Jf=Rt(Qf),Ff=M({},qs,{relatedTarget:0}),_r=Rt(Ff),Kf=M({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=Rt(Kf),If=M({},kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pf=Rt(If),ex=M({},kl,{data:0}),yu=Rt(ex),tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lx[e])?!!t[e]:!1}function Tr(){return sx}var nx=M({},qs,{key:function(e){if(e.key){var t=tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ax[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ix=Rt(nx),rx=M({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Rt(rx),ox=M({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),cx=Rt(ox),ux=M({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dx=Rt(ux),mx=M({},ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hx=Rt(mx),fx=M({},kl,{newState:0,oldState:0}),xx=Rt(fx),px=[9,13,27,32],Dr=Aa&&"CompositionEvent"in window,Xs=null;Aa&&"documentMode"in document&&(Xs=document.documentMode);var gx=Aa&&"TextEvent"in window&&!Xs,ju=Aa&&(!Dr||Xs&&8<Xs&&11>=Xs),Nu=" ",wu=!1;function Su(e,t){switch(e){case"keyup":return px.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function vx(e,t){switch(e){case"compositionend":return Cu(t);case"keypress":return t.which!==32?null:(wu=!0,Nu);case"textInput":return e=t.data,e===Nu&&wu?null:e;default:return null}}function yx(e,t){if(as)return e==="compositionend"||!Dr&&Su(e,t)?(e=pu(),Kn=Er=Wa=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ju&&t.locale!=="ko"?null:t.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bx[e.type]:t==="textarea"}function zu(e,t,l,s){es?ts?ts.push(s):ts=[s]:es=s,t=qi(t,"onChange"),0<t.length&&(l=new Pn("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Gs=null,Qs=null;function jx(e){ch(e,0)}function ti(e){var t=Hs(e);if(ou(t))return e}function Eu(e,t){if(e==="change")return t}var Au=!1;if(Aa){var Lr;if(Aa){var Br="oninput"in document;if(!Br){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),Br=typeof Mu.oninput=="function"}Lr=Br}else Lr=!1;Au=Lr&&(!document.documentMode||9<document.documentMode)}function _u(){Gs&&(Gs.detachEvent("onpropertychange",Tu),Qs=Gs=null)}function Tu(e){if(e.propertyName==="value"&&ti(Qs)){var t=[];zu(t,Qs,e,Cr(e)),xu(jx,t)}}function Nx(e,t,l){e==="focusin"?(_u(),Gs=t,Qs=l,Gs.attachEvent("onpropertychange",Tu)):e==="focusout"&&_u()}function wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ti(Qs)}function Sx(e,t){if(e==="click")return ti(t)}function Cx(e,t){if(e==="input"||e==="change")return ti(t)}function kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:kx;function Js(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!ge.call(t,n)||!Yt(e[n],t[n]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var l=Du(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Du(l)}}function Bu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $u(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Jn(e.document)}return t}function $r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zx=Aa&&"documentMode"in document&&11>=document.documentMode,ls=null,Or=null,Fs=null,Rr=!1;function Ou(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rr||ls==null||ls!==Jn(s)||(s=ls,"selectionStart"in s&&$r(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fs&&Js(Fs,s)||(Fs=s,s=qi(Or,"onSelect"),0<s.length&&(t=new Pn("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=ls)))}function zl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ss={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},Ur={},Ru={};Aa&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function El(e){if(Ur[e])return Ur[e];if(!ss[e])return e;var t=ss[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Ru)return Ur[e]=t[l];return e}var Uu=El("animationend"),Hu=El("animationiteration"),Zu=El("animationstart"),Ex=El("transitionrun"),Ax=El("transitionstart"),Mx=El("transitioncancel"),Vu=El("transitionend"),qu=new Map,Hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hr.push("scrollEnd");function ca(e,t){qu.set(e,t),Cl(t,[e])}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ta=[],ns=0,Zr=0;function li(){for(var e=ns,t=Zr=ns=0;t<e;){var l=ta[t];ta[t++]=null;var s=ta[t];ta[t++]=null;var n=ta[t];ta[t++]=null;var i=ta[t];if(ta[t++]=null,s!==null&&n!==null){var o=s.pending;o===null?n.next=n:(n.next=o.next,o.next=n),s.pending=n}i!==0&&Yu(l,n,i)}}function si(e,t,l,s){ta[ns++]=e,ta[ns++]=t,ta[ns++]=l,ta[ns++]=s,Zr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Vr(e,t,l,s){return si(e,t,l,s),ni(e)}function Al(e,t){return si(e,null,null,t),ni(e)}function Yu(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,s=i.alternate,s!==null&&(s.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Dt(l),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=l|536870912),i):null}function ni(e){if(50<vn)throw vn=0,Io=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var is={};function _x(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,l,s){return new _x(e,t,l,s)}function qr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ma(e,t){var l=e.alternate;return l===null?(l=Xt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Xu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ii(e,t,l,s,n,i){var o=0;if(s=e,typeof e=="function")qr(e)&&(o=1);else if(typeof e=="string")o=$0(e,l,S.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=Xt(31,l,t,n),e.elementType=j,e.lanes=i,e;case G:return Ml(l.children,n,i,t);case F:o=8,n|=24;break;case L:return e=Xt(12,l,t,n|2),e.elementType=L,e.lanes=i,e;case q:return e=Xt(13,l,t,n),e.elementType=q,e.lanes=i,e;case Z:return e=Xt(19,l,t,n),e.elementType=Z,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:o=10;break e;case le:o=9;break e;case ie:o=11;break e;case z:o=14;break e;case A:o=16,s=null;break e}o=29,l=Error(u(130,e===null?"null":typeof e,"")),s=null}return t=Xt(o,l,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function Ml(e,t,l,s){return e=Xt(7,e,s,t),e.lanes=l,e}function Yr(e,t,l){return e=Xt(6,e,null,t),e.lanes=l,e}function Gu(e){var t=Xt(18,null,null,0);return t.stateNode=e,t}function Xr(e,t,l){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qu=new WeakMap;function aa(e,t){if(typeof e=="object"&&e!==null){var l=Qu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:he(t)},Qu.set(e,t),t)}return{value:e,source:t,stack:he(t)}}var rs=[],os=0,ri=null,Ks=0,la=[],sa=0,Ia=null,ba=1,ja="";function _a(e,t){rs[os++]=Ks,rs[os++]=ri,ri=e,Ks=t}function Ju(e,t,l){la[sa++]=ba,la[sa++]=ja,la[sa++]=Ia,Ia=e;var s=ba;e=ja;var n=32-Dt(s)-1;s&=~(1<<n),l+=1;var i=32-Dt(t)+n;if(30<i){var o=n-n%5;i=(s&(1<<o)-1).toString(32),s>>=o,n-=o,ba=1<<32-Dt(t)+n|l<<n|s,ja=i+e}else ba=1<<i|l<<n|s,ja=e}function Gr(e){e.return!==null&&(_a(e,1),Ju(e,1,0))}function Qr(e){for(;e===ri;)ri=rs[--os],rs[os]=null,Ks=rs[--os],rs[os]=null;for(;e===Ia;)Ia=la[--sa],la[sa]=null,ja=la[--sa],la[sa]=null,ba=la[--sa],la[sa]=null}function Fu(e,t){la[sa++]=ba,la[sa++]=ja,la[sa++]=Ia,ba=t.id,ja=t.overflow,Ia=e}var bt=null,et=null,Re=!1,Pa=null,na=!1,Jr=Error(u(519));function el(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ws(aa(t,e)),Jr}function Ku(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[Ve]=e,t[Ot]=s,l){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(l=0;l<bn.length;l++)Be(bn[l],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),cu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),du(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||hh(t.textContent,l)?(s.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),s.onScroll!=null&&Be("scroll",t),s.onScrollEnd!=null&&Be("scrollend",t),s.onClick!=null&&(t.onclick=Ea),t=!0):t=!1,t||el(e,!0)}function Wu(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:bt=bt.return}}function cs(e){if(e!==bt)return!1;if(!Re)return Wu(e),Re=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||hc(e.type,e.memoizedProps)),l=!l),l&&et&&el(e),Wu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));et=Nh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));et=Nh(e)}else t===27?(t=et,fl(e.type)?(e=vc,vc=null,et=e):et=t):et=bt?ra(e.stateNode.nextSibling):null;return!0}function _l(){et=bt=null,Re=!1}function Fr(){var e=Pa;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),Pa=null),e}function Ws(e){Pa===null?Pa=[e]:Pa.push(e)}var Kr=x(null),Tl=null,Ta=null;function tl(e,t,l){K(Kr,t._currentValue),t._currentValue=l}function Da(e){e._currentValue=Kr.current,U(Kr)}function Wr(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Ir(e,t,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var h=i;i=n;for(var k=0;k<t.length;k++)if(h.context===t[k]){i.lanes|=l,h=i.alternate,h!==null&&(h.lanes|=l),Wr(i.return,l,e),s||(o=null);break e}i=h.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(u(341));o.lanes|=l,i=o.alternate,i!==null&&(i.lanes|=l),Wr(o,l,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function us(e,t,l,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(u(387));if(o=o.memoizedProps,o!==null){var h=n.type;Yt(n.pendingProps.value,o.value)||(e!==null?e.push(h):e=[h])}}else if(n===ye.current){if(o=n.alternate,o===null)throw Error(u(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Cn):e=[Cn])}n=n.return}e!==null&&Ir(t,e,l,s),t.flags|=262144}function oi(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dl(e){Tl=e,Ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return Iu(Tl,e)}function ci(e,t){return Tl===null&&Dl(e),Iu(e,t)}function Iu(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Ta===null){if(e===null)throw Error(u(308));Ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ta=Ta.next=t;return l}var Tx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Dx=r.unstable_scheduleCallback,Lx=r.unstable_NormalPriority,dt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pr(){return{controller:new Tx,data:new Map,refCount:0}}function Is(e){e.refCount--,e.refCount===0&&Dx(Lx,function(){e.controller.abort()})}var Ps=null,eo=0,ds=0,ms=null;function Bx(e,t){if(Ps===null){var l=Ps=[];eo=0,ds=sc(),ms={status:"pending",value:void 0,then:function(s){l.push(s)}}}return eo++,t.then(Pu,Pu),t}function Pu(){if(--eo===0&&Ps!==null){ms!==null&&(ms.status="fulfilled");var e=Ps;Ps=null,ds=0,ms=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $x(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var ed=w.S;w.S=function(e,t){Om=ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Bx(e,t),ed!==null&&ed(e,t)};var Ll=x(null);function to(){var e=Ll.current;return e!==null?e:We.pooledCache}function ui(e,t){t===null?K(Ll,Ll.current):K(Ll,t.pool)}function td(){var e=to();return e===null?null:{parent:dt._currentValue,pool:e}}var hs=Error(u(460)),ao=Error(u(474)),di=Error(u(542)),mi={then:function(){}};function ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ld(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Ea,Ea),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nd(e),e;default:if(typeof t.status=="string")t.then(Ea,Ea);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nd(e),e}throw $l=t,hs}}function Bl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($l=l,hs):l}}var $l=null;function sd(){if($l===null)throw Error(u(459));var e=$l;return $l=null,e}function nd(e){if(e===hs||e===di)throw Error(u(483))}var fs=null,en=0;function hi(e){var t=en;return en+=1,fs===null&&(fs=[]),ld(fs,e,t)}function tn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fi(e,t){throw t.$$typeof===D?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function id(e){function t(Y,B){if(e){var I=Y.deletions;I===null?(Y.deletions=[B],Y.flags|=16):I.push(B)}}function l(Y,B){if(!e)return null;for(;B!==null;)t(Y,B),B=B.sibling;return null}function s(Y){for(var B=new Map;Y!==null;)Y.key!==null?B.set(Y.key,Y):B.set(Y.index,Y),Y=Y.sibling;return B}function n(Y,B){return Y=Ma(Y,B),Y.index=0,Y.sibling=null,Y}function i(Y,B,I){return Y.index=I,e?(I=Y.alternate,I!==null?(I=I.index,I<B?(Y.flags|=67108866,B):I):(Y.flags|=67108866,B)):(Y.flags|=1048576,B)}function o(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function h(Y,B,I,de){return B===null||B.tag!==6?(B=Yr(I,Y.mode,de),B.return=Y,B):(B=n(B,I),B.return=Y,B)}function k(Y,B,I,de){var ze=I.type;return ze===G?ce(Y,B,I.props.children,de,I.key):B!==null&&(B.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===A&&Bl(ze)===B.type)?(B=n(B,I.props),tn(B,I),B.return=Y,B):(B=ii(I.type,I.key,I.props,null,Y.mode,de),tn(B,I),B.return=Y,B)}function P(Y,B,I,de){return B===null||B.tag!==4||B.stateNode.containerInfo!==I.containerInfo||B.stateNode.implementation!==I.implementation?(B=Xr(I,Y.mode,de),B.return=Y,B):(B=n(B,I.children||[]),B.return=Y,B)}function ce(Y,B,I,de,ze){return B===null||B.tag!==7?(B=Ml(I,Y.mode,de,ze),B.return=Y,B):(B=n(B,I),B.return=Y,B)}function me(Y,B,I){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Yr(""+B,Y.mode,I),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return I=ii(B.type,B.key,B.props,null,Y.mode,I),tn(I,B),I.return=Y,I;case te:return B=Xr(B,Y.mode,I),B.return=Y,B;case A:return B=Bl(B),me(Y,B,I)}if(J(B)||H(B))return B=Ml(B,Y.mode,I,null),B.return=Y,B;if(typeof B.then=="function")return me(Y,hi(B),I);if(B.$$typeof===O)return me(Y,ci(Y,B),I);fi(Y,B)}return null}function ee(Y,B,I,de){var ze=B!==null?B.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ze!==null?null:h(Y,B,""+I,de);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case W:return I.key===ze?k(Y,B,I,de):null;case te:return I.key===ze?P(Y,B,I,de):null;case A:return I=Bl(I),ee(Y,B,I,de)}if(J(I)||H(I))return ze!==null?null:ce(Y,B,I,de,null);if(typeof I.then=="function")return ee(Y,B,hi(I),de);if(I.$$typeof===O)return ee(Y,B,ci(Y,I),de);fi(Y,I)}return null}function se(Y,B,I,de,ze){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Y=Y.get(I)||null,h(B,Y,""+de,ze);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case W:return Y=Y.get(de.key===null?I:de.key)||null,k(B,Y,de,ze);case te:return Y=Y.get(de.key===null?I:de.key)||null,P(B,Y,de,ze);case A:return de=Bl(de),se(Y,B,I,de,ze)}if(J(de)||H(de))return Y=Y.get(I)||null,ce(B,Y,de,ze,null);if(typeof de.then=="function")return se(Y,B,I,hi(de),ze);if(de.$$typeof===O)return se(Y,B,I,ci(B,de),ze);fi(B,de)}return null}function je(Y,B,I,de){for(var ze=null,He=null,Se=B,Te=B=0,Oe=null;Se!==null&&Te<I.length;Te++){Se.index>Te?(Oe=Se,Se=null):Oe=Se.sibling;var Ze=ee(Y,Se,I[Te],de);if(Ze===null){Se===null&&(Se=Oe);break}e&&Se&&Ze.alternate===null&&t(Y,Se),B=i(Ze,B,Te),He===null?ze=Ze:He.sibling=Ze,He=Ze,Se=Oe}if(Te===I.length)return l(Y,Se),Re&&_a(Y,Te),ze;if(Se===null){for(;Te<I.length;Te++)Se=me(Y,I[Te],de),Se!==null&&(B=i(Se,B,Te),He===null?ze=Se:He.sibling=Se,He=Se);return Re&&_a(Y,Te),ze}for(Se=s(Se);Te<I.length;Te++)Oe=se(Se,Y,Te,I[Te],de),Oe!==null&&(e&&Oe.alternate!==null&&Se.delete(Oe.key===null?Te:Oe.key),B=i(Oe,B,Te),He===null?ze=Oe:He.sibling=Oe,He=Oe);return e&&Se.forEach(function(yl){return t(Y,yl)}),Re&&_a(Y,Te),ze}function Ee(Y,B,I,de){if(I==null)throw Error(u(151));for(var ze=null,He=null,Se=B,Te=B=0,Oe=null,Ze=I.next();Se!==null&&!Ze.done;Te++,Ze=I.next()){Se.index>Te?(Oe=Se,Se=null):Oe=Se.sibling;var yl=ee(Y,Se,Ze.value,de);if(yl===null){Se===null&&(Se=Oe);break}e&&Se&&yl.alternate===null&&t(Y,Se),B=i(yl,B,Te),He===null?ze=yl:He.sibling=yl,He=yl,Se=Oe}if(Ze.done)return l(Y,Se),Re&&_a(Y,Te),ze;if(Se===null){for(;!Ze.done;Te++,Ze=I.next())Ze=me(Y,Ze.value,de),Ze!==null&&(B=i(Ze,B,Te),He===null?ze=Ze:He.sibling=Ze,He=Ze);return Re&&_a(Y,Te),ze}for(Se=s(Se);!Ze.done;Te++,Ze=I.next())Ze=se(Se,Y,Te,Ze.value,de),Ze!==null&&(e&&Ze.alternate!==null&&Se.delete(Ze.key===null?Te:Ze.key),B=i(Ze,B,Te),He===null?ze=Ze:He.sibling=Ze,He=Ze);return e&&Se.forEach(function(Q0){return t(Y,Q0)}),Re&&_a(Y,Te),ze}function Ke(Y,B,I,de){if(typeof I=="object"&&I!==null&&I.type===G&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case W:e:{for(var ze=I.key;B!==null;){if(B.key===ze){if(ze=I.type,ze===G){if(B.tag===7){l(Y,B.sibling),de=n(B,I.props.children),de.return=Y,Y=de;break e}}else if(B.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===A&&Bl(ze)===B.type){l(Y,B.sibling),de=n(B,I.props),tn(de,I),de.return=Y,Y=de;break e}l(Y,B);break}else t(Y,B);B=B.sibling}I.type===G?(de=Ml(I.props.children,Y.mode,de,I.key),de.return=Y,Y=de):(de=ii(I.type,I.key,I.props,null,Y.mode,de),tn(de,I),de.return=Y,Y=de)}return o(Y);case te:e:{for(ze=I.key;B!==null;){if(B.key===ze)if(B.tag===4&&B.stateNode.containerInfo===I.containerInfo&&B.stateNode.implementation===I.implementation){l(Y,B.sibling),de=n(B,I.children||[]),de.return=Y,Y=de;break e}else{l(Y,B);break}else t(Y,B);B=B.sibling}de=Xr(I,Y.mode,de),de.return=Y,Y=de}return o(Y);case A:return I=Bl(I),Ke(Y,B,I,de)}if(J(I))return je(Y,B,I,de);if(H(I)){if(ze=H(I),typeof ze!="function")throw Error(u(150));return I=ze.call(I),Ee(Y,B,I,de)}if(typeof I.then=="function")return Ke(Y,B,hi(I),de);if(I.$$typeof===O)return Ke(Y,B,ci(Y,I),de);fi(Y,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,B!==null&&B.tag===6?(l(Y,B.sibling),de=n(B,I),de.return=Y,Y=de):(l(Y,B),de=Yr(I,Y.mode,de),de.return=Y,Y=de),o(Y)):l(Y,B)}return function(Y,B,I,de){try{en=0;var ze=Ke(Y,B,I,de);return fs=null,ze}catch(Se){if(Se===hs||Se===di)throw Se;var He=Xt(29,Se,null,Y.mode);return He.lanes=de,He.return=Y,He}finally{}}}var Ol=id(!0),rd=id(!1),al=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ll(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sl(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(qe&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=ni(e),Yu(e,null,l),t}return si(e,s,t,l),ni(e)}function an(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Xn(e,l)}}function no(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var o={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var io=!1;function ln(){if(io){var e=ms;if(e!==null)throw e}}function sn(e,t,l,s){io=!1;var n=e.updateQueue;al=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,h=n.shared.pending;if(h!==null){n.shared.pending=null;var k=h,P=k.next;k.next=null,o===null?i=P:o.next=P,o=k;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,h=ce.lastBaseUpdate,h!==o&&(h===null?ce.firstBaseUpdate=P:h.next=P,ce.lastBaseUpdate=k))}if(i!==null){var me=n.baseState;o=0,ce=P=k=null,h=i;do{var ee=h.lane&-536870913,se=ee!==h.lane;if(se?($e&ee)===ee:(s&ee)===ee){ee!==0&&ee===ds&&(io=!0),ce!==null&&(ce=ce.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var je=e,Ee=h;ee=t;var Ke=l;switch(Ee.tag){case 1:if(je=Ee.payload,typeof je=="function"){me=je.call(Ke,me,ee);break e}me=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ee.payload,ee=typeof je=="function"?je.call(Ke,me,ee):je,ee==null)break e;me=M({},me,ee);break e;case 2:al=!0}}ee=h.callback,ee!==null&&(e.flags|=64,se&&(e.flags|=8192),se=n.callbacks,se===null?n.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:h.tag,payload:h.payload,callback:h.callback,next:null},ce===null?(P=ce=se,k=me):ce=ce.next=se,o|=ee;if(h=h.next,h===null){if(h=n.shared.pending,h===null)break;se=h,h=se.next,se.next=null,n.lastBaseUpdate=se,n.shared.pending=null}}while(!0);ce===null&&(k=me),n.baseState=k,n.firstBaseUpdate=P,n.lastBaseUpdate=ce,i===null&&(n.shared.lanes=0),cl|=o,e.lanes=o,e.memoizedState=me}}function od(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function cd(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)od(l[e],t)}var xs=x(null),xi=x(0);function ud(e,t){e=Va,K(xi,e),K(xs,t),Va=e|t.baseLanes}function ro(){K(xi,Va),K(xs,xs.current)}function oo(){Va=xi.current,U(xs),U(xi)}var Gt=x(null),ia=null;function nl(e){var t=e.alternate;K(ct,ct.current&1),K(Gt,e),ia===null&&(t===null||xs.current!==null||t.memoizedState!==null)&&(ia=e)}function co(e){K(ct,ct.current),K(Gt,e),ia===null&&(ia=e)}function dd(e){e.tag===22?(K(ct,ct.current),K(Gt,e),ia===null&&(ia=e)):il()}function il(){K(ct,ct.current),K(Gt,Gt.current)}function Qt(e){U(Gt),ia===e&&(ia=null),U(ct)}var ct=x(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||pc(l)||gc(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=0,_e=null,Je=null,mt=null,gi=!1,ps=!1,Rl=!1,vi=0,nn=0,gs=null,Ox=0;function it(){throw Error(u(321))}function uo(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Yt(e[l],t[l]))return!1;return!0}function mo(e,t,l,s,n,i){return La=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Jd:zo,Rl=!1,i=l(s,n),Rl=!1,ps&&(i=hd(t,l,s,n)),md(e),i}function md(e){w.H=cn;var t=Je!==null&&Je.next!==null;if(La=0,mt=Je=_e=null,gi=!1,nn=0,gs=null,t)throw Error(u(300));e===null||ht||(e=e.dependencies,e!==null&&oi(e)&&(ht=!0))}function hd(e,t,l,s){_e=e;var n=0;do{if(ps&&(gs=null),nn=0,ps=!1,25<=n)throw Error(u(301));if(n+=1,mt=Je=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}w.H=Fd,i=t(l,s)}while(ps);return i}function Rx(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?rn(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(_e.flags|=1024),t}function ho(){var e=vi!==0;return vi=0,e}function fo(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function xo(e){if(gi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gi=!1}La=0,mt=Je=_e=null,ps=!1,nn=vi=0,gs=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?_e.memoizedState=mt=e:mt=mt.next=e,mt}function ut(){if(Je===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=mt===null?_e.memoizedState:mt.next;if(t!==null)mt=t,Je=e;else{if(e===null)throw _e.alternate===null?Error(u(467)):Error(u(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},mt===null?_e.memoizedState=mt=e:mt=mt.next=e}return mt}function yi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rn(e){var t=nn;return nn+=1,gs===null&&(gs=[]),e=ld(gs,e,t),t=_e,(mt===null?t.memoizedState:mt.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Jd:zo),e}function bi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rn(e);if(e.$$typeof===O)return jt(e)}throw Error(u(438,String(e)))}function po(e){var t=null,l=_e.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=_e.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=yi(),_e.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=T;return t.index++,l}function Ba(e,t){return typeof t=="function"?t(e):t}function ji(e){var t=ut();return go(t,Je,e)}function go(e,t,l){var s=e.queue;if(s===null)throw Error(u(311));s.lastRenderedReducer=l;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var h=o=null,k=null,P=t,ce=!1;do{var me=P.lane&-536870913;if(me!==P.lane?($e&me)===me:(La&me)===me){var ee=P.revertLane;if(ee===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),me===ds&&(ce=!0);else if((La&ee)===ee){P=P.next,ee===ds&&(ce=!0);continue}else me={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},k===null?(h=k=me,o=i):k=k.next=me,_e.lanes|=ee,cl|=ee;me=P.action,Rl&&l(i,me),i=P.hasEagerState?P.eagerState:l(i,me)}else ee={lane:me,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},k===null?(h=k=ee,o=i):k=k.next=ee,_e.lanes|=me,cl|=me;P=P.next}while(P!==null&&P!==t);if(k===null?o=i:k.next=h,!Yt(i,e.memoizedState)&&(ht=!0,ce&&(l=ms,l!==null)))throw l;e.memoizedState=i,e.baseState=o,e.baseQueue=k,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function vo(e){var t=ut(),l=t.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);Yt(i,t.memoizedState)||(ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,s]}function fd(e,t,l){var s=_e,n=ut(),i=Re;if(i){if(l===void 0)throw Error(u(407));l=l()}else l=t();var o=!Yt((Je||n).memoizedState,l);if(o&&(n.memoizedState=l,ht=!0),n=n.queue,jo(gd.bind(null,s,n,e),[e]),n.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(s.flags|=2048,vs(9,{destroy:void 0},pd.bind(null,s,n,l,t),null),We===null)throw Error(u(349));i||(La&127)!==0||xd(s,t,l)}return l}function xd(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=_e.updateQueue,t===null?(t=yi(),_e.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function pd(e,t,l,s){t.value=l,t.getSnapshot=s,vd(t)&&yd(e)}function gd(e,t,l){return l(function(){vd(t)&&yd(e)})}function vd(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Yt(e,l)}catch{return!0}}function yd(e){var t=Al(e,2);t!==null&&qt(t,e,2)}function yo(e){var t=Lt();if(typeof e=="function"){var l=e;if(e=l(),Rl){ya(!0);try{l()}finally{ya(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t}function bd(e,t,l,s){return e.baseState=l,go(e,Je,typeof s=="function"?s:Ba)}function Ux(e,t,l,s,n){if(Si(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};w.T!==null?l(!0):i.isTransition=!1,s(i),l=t.pending,l===null?(i.next=t.pending=i,jd(t,i)):(i.next=l.next,t.pending=l.next=i)}}function jd(e,t){var l=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=w.T,o={};w.T=o;try{var h=l(n,s),k=w.S;k!==null&&k(o,h),Nd(e,t,h)}catch(P){bo(e,t,P)}finally{i!==null&&o.types!==null&&(i.types=o.types),w.T=i}}else try{i=l(n,s),Nd(e,t,i)}catch(P){bo(e,t,P)}}function Nd(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){wd(e,t,s)},function(s){return bo(e,t,s)}):wd(e,t,l)}function wd(e,t,l){t.status="fulfilled",t.value=l,Sd(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,jd(e,l)))}function bo(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,Sd(t),t=t.next;while(t!==s)}e.action=null}function Sd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cd(e,t){return t}function kd(e,t){if(Re){var l=We.formState;if(l!==null){e:{var s=_e;if(Re){if(et){t:{for(var n=et,i=na;n.nodeType!==8;){if(!i){n=null;break t}if(n=ra(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){et=ra(n.nextSibling),s=n.data==="F!";break e}}el(s)}s=!1}s&&(t=l[0])}}return l=Lt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},l.queue=s,l=Xd.bind(null,_e,s),s.dispatch=l,s=yo(!1),i=ko.bind(null,_e,!1,s.queue),s=Lt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,l=Ux.bind(null,_e,n,i,l),n.dispatch=l,s.memoizedState=e,[t,l,!1]}function zd(e){var t=ut();return Ed(t,Je,e)}function Ed(e,t,l){if(t=go(e,t,Cd)[0],e=ji(Ba)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=rn(t)}catch(o){throw o===hs?di:o}else s=t;t=ut();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(_e.flags|=2048,vs(9,{destroy:void 0},Hx.bind(null,n,l),null)),[s,i,e]}function Hx(e,t){e.action=t}function Ad(e){var t=ut(),l=Je;if(l!==null)return Ed(t,l,e);ut(),t=t.memoizedState,l=ut();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function vs(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=_e.updateQueue,t===null&&(t=yi(),_e.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function Md(){return ut().memoizedState}function Ni(e,t,l,s){var n=Lt();_e.flags|=e,n.memoizedState=vs(1|t,{destroy:void 0},l,s===void 0?null:s)}function wi(e,t,l,s){var n=ut();s=s===void 0?null:s;var i=n.memoizedState.inst;Je!==null&&s!==null&&uo(s,Je.memoizedState.deps)?n.memoizedState=vs(t,i,l,s):(_e.flags|=e,n.memoizedState=vs(1|t,i,l,s))}function _d(e,t){Ni(8390656,8,e,t)}function jo(e,t){wi(2048,8,e,t)}function Zx(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=yi(),_e.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Td(e){var t=ut().memoizedState;return Zx({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function Dd(e,t){return wi(4,2,e,t)}function Ld(e,t){return wi(4,4,e,t)}function Bd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $d(e,t,l){l=l!=null?l.concat([e]):null,wi(4,4,Bd.bind(null,t,e),l)}function No(){}function Od(e,t){var l=ut();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&uo(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Rd(e,t){var l=ut();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&uo(t,s[1]))return s[0];if(s=e(),Rl){ya(!0);try{e()}finally{ya(!1)}}return l.memoizedState=[s,t],s}function wo(e,t,l){return l===void 0||(La&1073741824)!==0&&($e&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Um(),_e.lanes|=e,cl|=e,l)}function Ud(e,t,l,s){return Yt(l,t)?l:xs.current!==null?(e=wo(e,l,s),Yt(e,t)||(ht=!0),e):(La&42)===0||(La&1073741824)!==0&&($e&261930)===0?(ht=!0,e.memoizedState=l):(e=Um(),_e.lanes|=e,cl|=e,t)}function Hd(e,t,l,s,n){var i=E.p;E.p=i!==0&&8>i?i:8;var o=w.T,h={};w.T=h,ko(e,!1,t,l);try{var k=n(),P=w.S;if(P!==null&&P(h,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ce=$x(k,s);on(e,t,ce,Kt(e))}else on(e,t,s,Kt(e))}catch(me){on(e,t,{then:function(){},status:"rejected",reason:me},Kt())}finally{E.p=i,o!==null&&h.types!==null&&(o.types=h.types),w.T=o}}function Vx(){}function So(e,t,l,s){if(e.tag!==5)throw Error(u(476));var n=Zd(e).queue;Hd(e,n,t,ae,l===null?Vx:function(){return Vd(e),l(s)})}function Zd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:ae},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Zd(e);t.next===null&&(t=e.alternate.memoizedState),on(e,t.next.queue,{},Kt())}function Co(){return jt(Cn)}function qd(){return ut().memoizedState}function Yd(){return ut().memoizedState}function qx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Kt();e=ll(l);var s=sl(t,e,l);s!==null&&(qt(s,t,l),an(s,t,l)),t={cache:Pr()},e.payload=t;return}t=t.return}}function Yx(e,t,l){var s=Kt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Si(e)?Gd(t,l):(l=Vr(e,t,l,s),l!==null&&(qt(l,e,s),Qd(l,t,s)))}function Xd(e,t,l){var s=Kt();on(e,t,l,s)}function on(e,t,l,s){var n={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Si(e))Gd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,h=i(o,l);if(n.hasEagerState=!0,n.eagerState=h,Yt(h,o))return si(e,t,n,0),We===null&&li(),!1}catch{}finally{}if(l=Vr(e,t,n,s),l!==null)return qt(l,e,s),Qd(l,t,s),!0}return!1}function ko(e,t,l,s){if(s={lane:2,revertLane:sc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Si(e)){if(t)throw Error(u(479))}else t=Vr(e,l,s,2),t!==null&&qt(t,e,2)}function Si(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Gd(e,t){ps=gi=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Qd(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Xn(e,l)}}var cn={readContext:jt,use:bi,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};cn.useEffectEvent=it;var Jd={readContext:jt,use:bi,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:_d,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Ni(4194308,4,Bd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){Ni(4,2,e,t)},useMemo:function(e,t){var l=Lt();t=t===void 0?null:t;var s=e();if(Rl){ya(!0);try{e()}finally{ya(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=Lt();if(l!==void 0){var n=l(t);if(Rl){ya(!0);try{l(t)}finally{ya(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Yx.bind(null,_e,e),[s.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=yo(e);var t=e.queue,l=Xd.bind(null,_e,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:No,useDeferredValue:function(e,t){var l=Lt();return wo(l,e,t)},useTransition:function(){var e=yo(!1);return e=Hd.bind(null,_e,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=_e,n=Lt();if(Re){if(l===void 0)throw Error(u(407));l=l()}else{if(l=t(),We===null)throw Error(u(349));($e&127)!==0||xd(s,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,_d(gd.bind(null,s,i,e),[e]),s.flags|=2048,vs(9,{destroy:void 0},pd.bind(null,s,i,l,t),null),l},useId:function(){var e=Lt(),t=We.identifierPrefix;if(Re){var l=ja,s=ba;l=(s&~(1<<32-Dt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=vi++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Ox++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Co,useFormState:kd,useActionState:kd,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=ko.bind(null,_e,!0,l),l.dispatch=t,[e,t]},useMemoCache:po,useCacheRefresh:function(){return Lt().memoizedState=qx.bind(null,_e)},useEffectEvent:function(e){var t=Lt(),l={impl:e};return t.memoizedState=l,function(){if((qe&2)!==0)throw Error(u(440));return l.impl.apply(void 0,arguments)}}},zo={readContext:jt,use:bi,useCallback:Od,useContext:jt,useEffect:jo,useImperativeHandle:$d,useInsertionEffect:Dd,useLayoutEffect:Ld,useMemo:Rd,useReducer:ji,useRef:Md,useState:function(){return ji(Ba)},useDebugValue:No,useDeferredValue:function(e,t){var l=ut();return Ud(l,Je.memoizedState,e,t)},useTransition:function(){var e=ji(Ba)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:rn(e),t]},useSyncExternalStore:fd,useId:qd,useHostTransitionStatus:Co,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var l=ut();return bd(l,Je,e,t)},useMemoCache:po,useCacheRefresh:Yd};zo.useEffectEvent=Td;var Fd={readContext:jt,use:bi,useCallback:Od,useContext:jt,useEffect:jo,useImperativeHandle:$d,useInsertionEffect:Dd,useLayoutEffect:Ld,useMemo:Rd,useReducer:vo,useRef:Md,useState:function(){return vo(Ba)},useDebugValue:No,useDeferredValue:function(e,t){var l=ut();return Je===null?wo(l,e,t):Ud(l,Je.memoizedState,e,t)},useTransition:function(){var e=vo(Ba)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:rn(e),t]},useSyncExternalStore:fd,useId:qd,useHostTransitionStatus:Co,useFormState:Ad,useActionState:Ad,useOptimistic:function(e,t){var l=ut();return Je!==null?bd(l,Je,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:po,useCacheRefresh:Yd};Fd.useEffectEvent=Td;function Eo(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:M({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ao={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Kt(),n=ll(s);n.payload=t,l!=null&&(n.callback=l),t=sl(e,n,s),t!==null&&(qt(t,e,s),an(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Kt(),n=ll(s);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=sl(e,n,s),t!==null&&(qt(t,e,s),an(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Kt(),s=ll(l);s.tag=2,t!=null&&(s.callback=t),t=sl(e,s,l),t!==null&&(qt(t,e,l),an(t,e,l))}};function Kd(e,t,l,s,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Js(l,s)||!Js(n,i):!0}function Wd(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function Ul(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=M({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function Id(e){ai(e)}function Pd(e){console.error(e)}function em(e){ai(e)}function Ci(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function tm(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Mo(e,t,l){return l=ll(l),l.tag=3,l.payload={element:null},l.callback=function(){Ci(e,t)},l}function am(e){return e=ll(e),e.tag=3,e}function lm(e,t,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){tm(t,l,s)}}var o=l.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){tm(t,l,s),typeof n!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var h=s.stack;this.componentDidCatch(s.value,{componentStack:h!==null?h:""})})}function Xx(e,t,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&us(t,l,n,!0),l=Gt.current,l!==null){switch(l.tag){case 31:case 13:return ia===null?Oi():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===mi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),tc(e,s,n)),!1;case 22:return l.flags|=65536,s===mi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),tc(e,s,n)),!1}throw Error(u(435,l.tag))}return tc(e,s,n),Oi(),!1}if(Re)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Jr&&(e=Error(u(422),{cause:s}),Ws(aa(e,l)))):(s!==Jr&&(t=Error(u(423),{cause:s}),Ws(aa(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=aa(s,l),n=Mo(e.stateNode,s,n),no(e,n),rt!==4&&(rt=2)),!1;var i=Error(u(520),{cause:s});if(i=aa(i,l),gn===null?gn=[i]:gn.push(i),rt!==4&&(rt=2),t===null)return!0;s=aa(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Mo(l.stateNode,s,e),no(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ul===null||!ul.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=am(n),lm(n,e,l,s),no(l,n),!1}l=l.return}while(l!==null);return!1}var _o=Error(u(461)),ht=!1;function Nt(e,t,l,s){t.child=e===null?rd(t,null,l,s):Ol(t,e.child,l,s)}function sm(e,t,l,s,n){l=l.render;var i=t.ref;if("ref"in s){var o={};for(var h in s)h!=="ref"&&(o[h]=s[h])}else o=s;return Dl(t),s=mo(e,t,l,o,i,n),h=ho(),e!==null&&!ht?(fo(e,t,n),$a(e,t,n)):(Re&&h&&Gr(t),t.flags|=1,Nt(e,t,s,n),t.child)}function nm(e,t,l,s,n){if(e===null){var i=l.type;return typeof i=="function"&&!qr(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,im(e,t,i,s,n)):(e=ii(l.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Uo(e,n)){var o=i.memoizedProps;if(l=l.compare,l=l!==null?l:Js,l(o,s)&&e.ref===t.ref)return $a(e,t,n)}return t.flags|=1,e=Ma(i,s),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,l,s,n){if(e!==null){var i=e.memoizedProps;if(Js(i,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=i,Uo(e,n))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,$a(e,t,n)}return To(e,t,l,s,n)}function rm(e,t,l,s){var n=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~i}else s=0,t.child=null;return om(e,t,i,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ui(t,i!==null?i.cachePool:null),i!==null?ud(t,i):ro(),dd(t);else return s=t.lanes=536870912,om(e,t,i!==null?i.baseLanes|l:l,l,s)}else i!==null?(ui(t,i.cachePool),ud(t,i),il(),t.memoizedState=null):(e!==null&&ui(t,null),ro(),il());return Nt(e,t,n,l),t.child}function un(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function om(e,t,l,s,n){var i=to();return i=i===null?null:{parent:dt._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&ui(t,null),ro(),dd(t),e!==null&&us(e,t,s,!0),t.childLanes=n,null}function ki(e,t){return t=Ei({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function cm(e,t,l){return Ol(t,e.child,null,l),e=ki(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function Gx(e,t,l){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(s.mode==="hidden")return e=ki(t,s),t.lanes=536870912,un(null,e);if(co(t),(e=et)?(e=jh(e,na),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ba,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},l=Gu(e),l.return=t,t.child=l,bt=t,et=null)):e=null,e===null)throw el(t);return t.lanes=536870912,null}return ki(t,s)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(co(t),n)if(t.flags&256)t.flags&=-257,t=cm(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(ht||us(e,t,l,!1),n=(l&e.childLanes)!==0,ht||n){if(s=We,s!==null&&(o=ne(s,l),o!==0&&o!==i.retryLane))throw i.retryLane=o,Al(e,o),qt(s,e,o),_o;Oi(),t=cm(e,t,l)}else e=i.treeContext,et=ra(o.nextSibling),bt=t,Re=!0,Pa=null,na=!1,e!==null&&Fu(t,e),t=ki(t,s),t.flags|=4096;return t}return e=Ma(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function zi(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(u(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function To(e,t,l,s,n){return Dl(t),l=mo(e,t,l,s,void 0,n),s=ho(),e!==null&&!ht?(fo(e,t,n),$a(e,t,n)):(Re&&s&&Gr(t),t.flags|=1,Nt(e,t,l,n),t.child)}function um(e,t,l,s,n,i){return Dl(t),t.updateQueue=null,l=hd(t,s,l,n),md(e),s=ho(),e!==null&&!ht?(fo(e,t,i),$a(e,t,i)):(Re&&s&&Gr(t),t.flags|=1,Nt(e,t,l,i),t.child)}function dm(e,t,l,s,n){if(Dl(t),t.stateNode===null){var i=is,o=l.contextType;typeof o=="object"&&o!==null&&(i=jt(o)),i=new l(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ao,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},lo(t),o=l.contextType,i.context=typeof o=="object"&&o!==null?jt(o):is,i.state=t.memoizedState,o=l.getDerivedStateFromProps,typeof o=="function"&&(Eo(t,l,o,s),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Ao.enqueueReplaceState(i,i.state,null),sn(t,s,i,n),ln(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var h=t.memoizedProps,k=Ul(l,h);i.props=k;var P=i.context,ce=l.contextType;o=is,typeof ce=="object"&&ce!==null&&(o=jt(ce));var me=l.getDerivedStateFromProps;ce=typeof me=="function"||typeof i.getSnapshotBeforeUpdate=="function",h=t.pendingProps!==h,ce||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(h||P!==o)&&Wd(t,i,s,o),al=!1;var ee=t.memoizedState;i.state=ee,sn(t,s,i,n),ln(),P=t.memoizedState,h||ee!==P||al?(typeof me=="function"&&(Eo(t,l,me,s),P=t.memoizedState),(k=al||Kd(t,l,k,s,ee,P,o))?(ce||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=P),i.props=s,i.state=P,i.context=o,s=k):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,so(e,t),o=t.memoizedProps,ce=Ul(l,o),i.props=ce,me=t.pendingProps,ee=i.context,P=l.contextType,k=is,typeof P=="object"&&P!==null&&(k=jt(P)),h=l.getDerivedStateFromProps,(P=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==me||ee!==k)&&Wd(t,i,s,k),al=!1,ee=t.memoizedState,i.state=ee,sn(t,s,i,n),ln();var se=t.memoizedState;o!==me||ee!==se||al||e!==null&&e.dependencies!==null&&oi(e.dependencies)?(typeof h=="function"&&(Eo(t,l,h,s),se=t.memoizedState),(ce=al||Kd(t,l,ce,s,ee,se,k)||e!==null&&e.dependencies!==null&&oi(e.dependencies))?(P||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,se,k),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,se,k)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=se),i.props=s,i.state=se,i.context=k,s=ce):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,zi(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=Ol(t,e.child,null,n),t.child=Ol(t,null,l,n)):Nt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=$a(e,t,n),e}function mm(e,t,l,s){return _l(),t.flags|=256,Nt(e,t,l,s),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lo(e){return{baseLanes:e,cachePool:td()}}function Bo(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ft),e}function hm(e,t,l){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(ct.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(n?nl(t):il(),(e=et)?(e=jh(e,na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ba,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},l=Gu(e),l.return=t,t.child=l,bt=t,et=null)):e=null,e===null)throw el(t);return gc(e)?t.lanes=32:t.lanes=536870912,null}var h=s.children;return s=s.fallback,n?(il(),n=t.mode,h=Ei({mode:"hidden",children:h},n),s=Ml(s,n,l,null),h.return=t,s.return=t,h.sibling=s,t.child=h,s=t.child,s.memoizedState=Lo(l),s.childLanes=Bo(e,o,l),t.memoizedState=Do,un(null,s)):(nl(t),$o(t,h))}var k=e.memoizedState;if(k!==null&&(h=k.dehydrated,h!==null)){if(i)t.flags&256?(nl(t),t.flags&=-257,t=Oo(e,t,l)):t.memoizedState!==null?(il(),t.child=e.child,t.flags|=128,t=null):(il(),h=s.fallback,n=t.mode,s=Ei({mode:"visible",children:s.children},n),h=Ml(h,n,l,null),h.flags|=2,s.return=t,h.return=t,s.sibling=h,t.child=s,Ol(t,e.child,null,l),s=t.child,s.memoizedState=Lo(l),s.childLanes=Bo(e,o,l),t.memoizedState=Do,t=un(null,s));else if(nl(t),gc(h)){if(o=h.nextSibling&&h.nextSibling.dataset,o)var P=o.dgst;o=P,s=Error(u(419)),s.stack="",s.digest=o,Ws({value:s,source:null,stack:null}),t=Oo(e,t,l)}else if(ht||us(e,t,l,!1),o=(l&e.childLanes)!==0,ht||o){if(o=We,o!==null&&(s=ne(o,l),s!==0&&s!==k.retryLane))throw k.retryLane=s,Al(e,s),qt(o,e,s),_o;pc(h)||Oi(),t=Oo(e,t,l)}else pc(h)?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,et=ra(h.nextSibling),bt=t,Re=!0,Pa=null,na=!1,e!==null&&Fu(t,e),t=$o(t,s.children),t.flags|=4096);return t}return n?(il(),h=s.fallback,n=t.mode,k=e.child,P=k.sibling,s=Ma(k,{mode:"hidden",children:s.children}),s.subtreeFlags=k.subtreeFlags&65011712,P!==null?h=Ma(P,h):(h=Ml(h,n,l,null),h.flags|=2),h.return=t,s.return=t,s.sibling=h,t.child=s,un(null,s),s=t.child,h=e.child.memoizedState,h===null?h=Lo(l):(n=h.cachePool,n!==null?(k=dt._currentValue,n=n.parent!==k?{parent:k,pool:k}:n):n=td(),h={baseLanes:h.baseLanes|l,cachePool:n}),s.memoizedState=h,s.childLanes=Bo(e,o,l),t.memoizedState=Do,un(e.child,s)):(nl(t),l=e.child,e=l.sibling,l=Ma(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=l,t.memoizedState=null,l)}function $o(e,t){return t=Ei({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ei(e,t){return e=Xt(22,e,null,t),e.lanes=0,e}function Oo(e,t,l){return Ol(t,e.child,null,l),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fm(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wr(e.return,t,l)}function Ro(e,t,l,s,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=l,o.tailMode=n,o.treeForkCount=i)}function xm(e,t,l){var s=t.pendingProps,n=s.revealOrder,i=s.tail;s=s.children;var o=ct.current,h=(o&2)!==0;if(h?(o=o&1|2,t.flags|=128):o&=1,K(ct,o),Nt(e,t,s,l),s=Re?Ks:0,!h&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fm(e,l,t);else if(e.tag===19)fm(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&pi(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Ro(t,!1,n,l,i,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&pi(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Ro(t,!0,l,null,i,s);break;case"together":Ro(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function $a(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),cl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(us(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,l=Ma(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Ma(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Uo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&oi(e)))}function Qx(e,t,l){switch(t.tag){case 3:ue(t,t.stateNode.containerInfo),tl(t,dt,e.memoizedState.cache),_l();break;case 27:case 5:Ae(t);break;case 4:ue(t,t.stateNode.containerInfo);break;case 10:tl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,co(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(nl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?hm(e,t,l):(nl(t),e=$a(e,t,l),e!==null?e.sibling:null);nl(t);break;case 19:var n=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(us(e,t,l,!1),s=(l&t.childLanes)!==0),n){if(s)return xm(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),K(ct,ct.current),s)break;return null;case 22:return t.lanes=0,rm(e,t,l,t.pendingProps);case 24:tl(t,dt,e.memoizedState.cache)}return $a(e,t,l)}function pm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Uo(e,l)&&(t.flags&128)===0)return ht=!1,Qx(e,t,l);ht=(e.flags&131072)!==0}else ht=!1,Re&&(t.flags&1048576)!==0&&Ju(t,Ks,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Bl(t.elementType),t.type=e,typeof e=="function")qr(e)?(s=Ul(e,s),t.tag=1,t=dm(null,t,e,s,l)):(t.tag=0,t=To(null,t,e,s,l));else{if(e!=null){var n=e.$$typeof;if(n===ie){t.tag=11,t=sm(null,t,e,s,l);break e}else if(n===z){t.tag=14,t=nm(null,t,e,s,l);break e}}throw t=V(e)||e,Error(u(306,t,""))}}return t;case 0:return To(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,n=Ul(s,t.pendingProps),dm(e,t,s,n,l);case 3:e:{if(ue(t,t.stateNode.containerInfo),e===null)throw Error(u(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,so(e,t),sn(t,s,null,l);var o=t.memoizedState;if(s=o.cache,tl(t,dt,s),s!==i.cache&&Ir(t,[dt],l,!0),ln(),s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=mm(e,t,s,l);break e}else if(s!==n){n=aa(Error(u(424)),t),Ws(n),t=mm(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=ra(e.firstChild),bt=t,Re=!0,Pa=null,na=!0,l=rd(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_l(),s===n){t=$a(e,t,l);break e}Nt(e,t,s,l)}t=t.child}return t;case 26:return zi(e,t),e===null?(l=zh(t.type,null,t.pendingProps,null))?t.memoizedState=l:Re||(l=t.type,e=t.pendingProps,s=Yi(xe.current).createElement(l),s[Ve]=t,s[Ot]=e,wt(s,l,e),gt(s),t.stateNode=s):t.memoizedState=zh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ae(t),e===null&&Re&&(s=t.stateNode=Sh(t.type,t.pendingProps,xe.current),bt=t,na=!0,n=et,fl(t.type)?(vc=n,et=ra(s.firstChild)):et=n),Nt(e,t,t.pendingProps.children,l),zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((n=s=et)&&(s=w0(s,t.type,t.pendingProps,na),s!==null?(t.stateNode=s,bt=t,et=ra(s.firstChild),na=!1,n=!0):n=!1),n||el(t)),Ae(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,hc(n,i)?s=null:o!==null&&hc(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=mo(e,t,Rx,null,null,l),Cn._currentValue=n),zi(e,t),Nt(e,t,s,l),t.child;case 6:return e===null&&Re&&((e=l=et)&&(l=S0(l,t.pendingProps,na),l!==null?(t.stateNode=l,bt=t,et=null,e=!0):e=!1),e||el(t)),null;case 13:return hm(e,t,l);case 4:return ue(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ol(t,null,s,l):Nt(e,t,s,l),t.child;case 11:return sm(e,t,t.type,t.pendingProps,l);case 7:return Nt(e,t,t.pendingProps,l),t.child;case 8:return Nt(e,t,t.pendingProps.children,l),t.child;case 12:return Nt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,tl(t,t.type,s.value),Nt(e,t,s.children,l),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Dl(t),n=jt(n),s=s(n),t.flags|=1,Nt(e,t,s,l),t.child;case 14:return nm(e,t,t.type,t.pendingProps,l);case 15:return im(e,t,t.type,t.pendingProps,l);case 19:return xm(e,t,l);case 31:return Gx(e,t,l);case 22:return rm(e,t,l,t.pendingProps);case 24:return Dl(t),s=jt(dt),e===null?(n=to(),n===null&&(n=We,i=Pr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:s,cache:n},lo(t),tl(t,dt,n)):((e.lanes&l)!==0&&(so(e,t),sn(t,null,null,l),ln()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),tl(t,dt,s)):(s=i.cache,tl(t,dt,s),s!==n.cache&&Ir(t,[dt],l,!0))),Nt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Oa(e){e.flags|=4}function Ho(e,t,l,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(qm())e.flags|=8192;else throw $l=mi,ao}else e.flags&=-16777217}function gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Th(t))if(qm())e.flags|=8192;else throw $l=mi,ao}function Ai(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Yn():536870912,e.lanes|=t,Ns|=t)}function dn(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function Jx(e,t,l){var s=t.pendingProps;switch(Qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Da(dt),Ne(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(cs(t)?Oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fr())),tt(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Oa(t),i!==null?(tt(t),gm(t,i)):(tt(t),Ho(t,n,null,s,l))):i?i!==e.memoizedState?(Oa(t),tt(t),gm(t,i)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Oa(t),tt(t),Ho(t,n,e,s,l)),null;case 27:if(Ie(t),l=xe.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Oa(t);else{if(!s){if(t.stateNode===null)throw Error(u(166));return tt(t),null}e=S.current,cs(t)?Ku(t):(e=Sh(n,s,l),t.stateNode=e,Oa(t))}return tt(t),null;case 5:if(Ie(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Oa(t);else{if(!s){if(t.stateNode===null)throw Error(u(166));return tt(t),null}if(i=S.current,cs(t))Ku(t);else{var o=Yi(xe.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?o.createElement(n,{is:s.is}):o.createElement(n)}}i[Ve]=t,i[Ot]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(wt(i,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Oa(t)}}return tt(t),Ho(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Oa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(u(166));if(e=xe.current,cs(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,n=bt,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[Ve]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||hh(e.nodeValue,l)),e||el(t,!0)}else e=Yi(e).createTextNode(s),e[Ve]=t,t.stateNode=e}return tt(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=cs(t),l!==null){if(e===null){if(!s)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[Ve]=t}else _l(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else l=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return tt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=cs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[Ve]=t}else _l(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),n=!1}else n=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ai(t,t.updateQueue),tt(t),null);case 4:return Ne(),e===null&&oc(t.stateNode.containerInfo),tt(t),null;case 10:return Da(t.type),tt(t),null;case 19:if(U(ct),s=t.memoizedState,s===null)return tt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)dn(s,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=pi(e),i!==null){for(t.flags|=128,dn(s,!1),e=i.updateQueue,t.updateQueue=e,Ai(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Xu(l,e),l=l.sibling;return K(ct,ct.current&1|2),Re&&_a(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ot()>Li&&(t.flags|=128,n=!0,dn(s,!1),t.lanes=4194304)}else{if(!n)if(e=pi(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ai(t,e),dn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Re)return tt(t),null}else 2*ot()-s.renderingStartTime>Li&&l!==536870912&&(t.flags|=128,n=!0,dn(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,l=ct.current,K(ct,n?l&1|2:l&1),Re&&_a(t,s.treeForkCount),e):(tt(t),null);case 22:case 23:return Qt(t),oo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),l=t.updateQueue,l!==null&&Ai(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&U(Ll),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Da(dt),tt(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Fx(e,t){switch(Qr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(dt),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ie(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(u(340));_l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));_l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(ct),null;case 4:return Ne(),null;case 10:return Da(t.type),null;case 22:case 23:return Qt(t),oo(),e!==null&&U(Ll),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Da(dt),null;case 25:return null;default:return null}}function vm(e,t){switch(Qr(t),t.tag){case 3:Da(dt),Ne();break;case 26:case 27:case 5:Ie(t);break;case 4:Ne();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:U(ct);break;case 10:Da(t.type);break;case 22:case 23:Qt(t),oo(),e!==null&&U(Ll);break;case 24:Da(dt)}}function mn(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var i=l.create,o=l.inst;s=i(),o.destroy=s}l=l.next}while(l!==n)}}catch(h){Qe(t,t.return,h)}}function rl(e,t,l){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var o=s.inst,h=o.destroy;if(h!==void 0){o.destroy=void 0,n=t;var k=l,P=h;try{P()}catch(ce){Qe(n,k,ce)}}}s=s.next}while(s!==i)}}catch(ce){Qe(t,t.return,ce)}}function ym(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{cd(t,l)}catch(s){Qe(e,e.return,s)}}}function bm(e,t,l){l.props=Ul(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Qe(e,t,s)}}function hn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){Qe(e,t,n)}}function Na(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){Qe(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Qe(e,t,n)}else l.current=null}function jm(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){Qe(e,e.return,n)}}function Zo(e,t,l){try{var s=e.stateNode;g0(s,e.type,l,t),s[Ot]=t}catch(n){Qe(e,e.return,n)}}function Nm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fl(e.type)||e.tag===4}function Vo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qo(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Ea));else if(s!==4&&(s===27&&fl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(qo(e,t,l),e=e.sibling;e!==null;)qo(e,t,l),e=e.sibling}function Mi(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&fl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Mi(e,t,l),e=e.sibling;e!==null;)Mi(e,t,l),e=e.sibling}function wm(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wt(t,s,l),t[Ve]=e,t[Ot]=l}catch(i){Qe(e,e.return,i)}}var Ra=!1,ft=!1,Yo=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Kx(e,t){if(e=e.containerInfo,dc=Wi,e=$u(e),$r(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var o=0,h=-1,k=-1,P=0,ce=0,me=e,ee=null;t:for(;;){for(var se;me!==l||n!==0&&me.nodeType!==3||(h=o+n),me!==i||s!==0&&me.nodeType!==3||(k=o+s),me.nodeType===3&&(o+=me.nodeValue.length),(se=me.firstChild)!==null;)ee=me,me=se;for(;;){if(me===e)break t;if(ee===l&&++P===n&&(h=o),ee===i&&++ce===s&&(k=o),(se=me.nextSibling)!==null)break;me=ee,ee=me.parentNode}me=se}l=h===-1||k===-1?null:{start:h,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(mc={focusedElem:e,selectionRange:l},Wi=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,s=l.stateNode;try{var je=Ul(l.type,n);e=s.getSnapshotBeforeUpdate(je,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){Qe(l,l.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)xc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function Cm(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Ha(e,l),s&4&&mn(5,l);break;case 1:if(Ha(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(o){Qe(l,l.return,o)}else{var n=Ul(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Qe(l,l.return,o)}}s&64&&ym(l),s&512&&hn(l,l.return);break;case 3:if(Ha(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{cd(e,t)}catch(o){Qe(l,l.return,o)}}break;case 27:t===null&&s&4&&wm(l);case 26:case 5:Ha(e,l),t===null&&s&4&&jm(l),s&512&&hn(l,l.return);break;case 12:Ha(e,l);break;case 31:Ha(e,l),s&4&&Em(e,l);break;case 13:Ha(e,l),s&4&&Am(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=n0.bind(null,l),C0(e,l))));break;case 22:if(s=l.memoizedState!==null||Ra,!s){t=t!==null&&t.memoizedState!==null||ft,n=Ra;var i=ft;Ra=s,(ft=t)&&!i?Za(e,l,(l.subtreeFlags&8772)!==0):Ha(e,l),Ra=n,ft=i}break;case 30:break;default:Ha(e,l)}}function km(e){var t=e.alternate;t!==null&&(e.alternate=null,km(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,Ut=!1;function Ua(e,t,l){for(l=l.child;l!==null;)zm(e,t,l),l=l.sibling}function zm(e,t,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(wl,l)}catch{}switch(l.tag){case 26:ft||Na(l,t),Ua(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ft||Na(l,t);var s=lt,n=Ut;fl(l.type)&&(lt=l.stateNode,Ut=!1),Ua(e,t,l),Nn(l.stateNode),lt=s,Ut=n;break;case 5:ft||Na(l,t);case 6:if(s=lt,n=Ut,lt=null,Ua(e,t,l),lt=s,Ut=n,lt!==null)if(Ut)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(i){Qe(l,t,i)}else try{lt.removeChild(l.stateNode)}catch(i){Qe(l,t,i)}break;case 18:lt!==null&&(Ut?(e=lt,yh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ms(e)):yh(lt,l.stateNode));break;case 4:s=lt,n=Ut,lt=l.stateNode.containerInfo,Ut=!0,Ua(e,t,l),lt=s,Ut=n;break;case 0:case 11:case 14:case 15:rl(2,l,t),ft||rl(4,l,t),Ua(e,t,l);break;case 1:ft||(Na(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&bm(l,t,s)),Ua(e,t,l);break;case 21:Ua(e,t,l);break;case 22:ft=(s=ft)||l.memoizedState!==null,Ua(e,t,l),ft=s;break;default:Ua(e,t,l)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ms(e)}catch(l){Qe(t,t.return,l)}}}function Am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ms(e)}catch(l){Qe(t,t.return,l)}}function Wx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sm),t;default:throw Error(u(435,e.tag))}}function _i(e,t){var l=Wx(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var n=i0.bind(null,e,s);s.then(n,n)}})}function Ht(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],i=e,o=t,h=o;e:for(;h!==null;){switch(h.tag){case 27:if(fl(h.type)){lt=h.stateNode,Ut=!1;break e}break;case 5:lt=h.stateNode,Ut=!1;break e;case 3:case 4:lt=h.stateNode.containerInfo,Ut=!0;break e}h=h.return}if(lt===null)throw Error(u(160));zm(i,o,n),lt=null,Ut=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Mm(t,e),t=t.sibling}var ua=null;function Mm(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),Zt(e),s&4&&(rl(3,e,e.return),mn(3,e),rl(5,e,e.return));break;case 1:Ht(t,e),Zt(e),s&512&&(ft||l===null||Na(l,l.return)),s&64&&Ra&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=ua;if(Ht(t,e),Zt(e),s&512&&(ft||l===null||Na(l,l.return)),s&4){var i=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Us]||i[Ve]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),wt(i,s,l),i[Ve]=e,gt(i),s=i;break e;case"link":var o=Mh("link","href",n).get(s+(l.href||""));if(o){for(var h=0;h<o.length;h++)if(i=o[h],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){o.splice(h,1);break t}}i=n.createElement(s),wt(i,s,l),n.head.appendChild(i);break;case"meta":if(o=Mh("meta","content",n).get(s+(l.content||""))){for(h=0;h<o.length;h++)if(i=o[h],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){o.splice(h,1);break t}}i=n.createElement(s),wt(i,s,l),n.head.appendChild(i);break;default:throw Error(u(468,s))}i[Ve]=e,gt(i),s=i}e.stateNode=s}else _h(n,e.type,e.stateNode);else e.stateNode=Ah(n,s,e.memoizedProps);else i!==s?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,s===null?_h(n,e.type,e.stateNode):Ah(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Zo(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ht(t,e),Zt(e),s&512&&(ft||l===null||Na(l,l.return)),l!==null&&s&4&&Zo(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ht(t,e),Zt(e),s&512&&(ft||l===null||Na(l,l.return)),e.flags&32){n=e.stateNode;try{Pl(n,"")}catch(je){Qe(e,e.return,je)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Zo(e,n,l!==null?l.memoizedProps:n)),s&1024&&(Yo=!0);break;case 6:if(Ht(t,e),Zt(e),s&4){if(e.stateNode===null)throw Error(u(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(je){Qe(e,e.return,je)}}break;case 3:if(Qi=null,n=ua,ua=Xi(t.containerInfo),Ht(t,e),ua=n,Zt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Ms(t.containerInfo)}catch(je){Qe(e,e.return,je)}Yo&&(Yo=!1,_m(e));break;case 4:s=ua,ua=Xi(e.stateNode.containerInfo),Ht(t,e),Zt(e),ua=s;break;case 12:Ht(t,e),Zt(e);break;case 31:Ht(t,e),Zt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_i(e,s)));break;case 13:Ht(t,e),Zt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Di=ot()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_i(e,s)));break;case 22:n=e.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,P=Ra,ce=ft;if(Ra=P||n,ft=ce||k,Ht(t,e),ft=ce,Ra=P,Zt(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||k||Ra||ft||Hl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){k=l=t;try{if(i=k.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{h=k.stateNode;var me=k.memoizedProps.style,ee=me!=null&&me.hasOwnProperty("display")?me.display:null;h.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(je){Qe(k,k.return,je)}}}else if(t.tag===6){if(l===null){k=t;try{k.stateNode.nodeValue=n?"":k.memoizedProps}catch(je){Qe(k,k.return,je)}}}else if(t.tag===18){if(l===null){k=t;try{var se=k.stateNode;n?bh(se,!0):bh(k.stateNode,!1)}catch(je){Qe(k,k.return,je)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,_i(e,l))));break;case 19:Ht(t,e),Zt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_i(e,s)));break;case 30:break;case 21:break;default:Ht(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(Nm(s)){l=s;break}s=s.return}if(l==null)throw Error(u(160));switch(l.tag){case 27:var n=l.stateNode,i=Vo(e);Mi(e,i,n);break;case 5:var o=l.stateNode;l.flags&32&&(Pl(o,""),l.flags&=-33);var h=Vo(e);Mi(e,h,o);break;case 3:case 4:var k=l.stateNode.containerInfo,P=Vo(e);qo(e,P,k);break;default:throw Error(u(161))}}catch(ce){Qe(e,e.return,ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_m(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cm(e,t.alternate,t),t=t.sibling}function Hl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:rl(4,t,t.return),Hl(t);break;case 1:Na(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&bm(t,t.return,l),Hl(t);break;case 27:Nn(t.stateNode);case 26:case 5:Na(t,t.return),Hl(t);break;case 22:t.memoizedState===null&&Hl(t);break;case 30:Hl(t);break;default:Hl(t)}e=e.sibling}}function Za(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Za(n,i,l),mn(4,i);break;case 1:if(Za(n,i,l),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(P){Qe(s,s.return,P)}if(s=i,n=s.updateQueue,n!==null){var h=s.stateNode;try{var k=n.shared.hiddenCallbacks;if(k!==null)for(n.shared.hiddenCallbacks=null,n=0;n<k.length;n++)od(k[n],h)}catch(P){Qe(s,s.return,P)}}l&&o&64&&ym(i),hn(i,i.return);break;case 27:wm(i);case 26:case 5:Za(n,i,l),l&&s===null&&o&4&&jm(i),hn(i,i.return);break;case 12:Za(n,i,l);break;case 31:Za(n,i,l),l&&o&4&&Em(n,i);break;case 13:Za(n,i,l),l&&o&4&&Am(n,i);break;case 22:i.memoizedState===null&&Za(n,i,l),hn(i,i.return);break;case 30:break;default:Za(n,i,l)}t=t.sibling}}function Xo(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Is(l))}function Go(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e))}function da(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tm(e,t,l,s),t=t.sibling}function Tm(e,t,l,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,l,s),n&2048&&mn(9,t);break;case 1:da(e,t,l,s);break;case 3:da(e,t,l,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e)));break;case 12:if(n&2048){da(e,t,l,s),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,h=i.onPostCommit;typeof h=="function"&&h(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Qe(t,t.return,k)}}else da(e,t,l,s);break;case 31:da(e,t,l,s);break;case 13:da(e,t,l,s);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?da(e,t,l,s):fn(e,t):i._visibility&2?da(e,t,l,s):(i._visibility|=2,ys(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Xo(o,t);break;case 24:da(e,t,l,s),n&2048&&Go(t.alternate,t);break;default:da(e,t,l,s)}}function ys(e,t,l,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,h=l,k=s,P=o.flags;switch(o.tag){case 0:case 11:case 15:ys(i,o,h,k,n),mn(8,o);break;case 23:break;case 22:var ce=o.stateNode;o.memoizedState!==null?ce._visibility&2?ys(i,o,h,k,n):fn(i,o):(ce._visibility|=2,ys(i,o,h,k,n)),n&&P&2048&&Xo(o.alternate,o);break;case 24:ys(i,o,h,k,n),n&&P&2048&&Go(o.alternate,o);break;default:ys(i,o,h,k,n)}t=t.sibling}}function fn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,n=s.flags;switch(s.tag){case 22:fn(l,s),n&2048&&Xo(s.alternate,s);break;case 24:fn(l,s),n&2048&&Go(s.alternate,s);break;default:fn(l,s)}t=t.sibling}}var xn=8192;function bs(e,t,l){if(e.subtreeFlags&xn)for(e=e.child;e!==null;)Dm(e,t,l),e=e.sibling}function Dm(e,t,l){switch(e.tag){case 26:bs(e,t,l),e.flags&xn&&e.memoizedState!==null&&O0(l,ua,e.memoizedState,e.memoizedProps);break;case 5:bs(e,t,l);break;case 3:case 4:var s=ua;ua=Xi(e.stateNode.containerInfo),bs(e,t,l),ua=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=xn,xn=16777216,bs(e,t,l),xn=s):bs(e,t,l));break;default:bs(e,t,l)}}function Lm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];vt=s,$m(s,e)}Lm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bm(e),e=e.sibling}function Bm(e){switch(e.tag){case 0:case 11:case 15:pn(e),e.flags&2048&&rl(9,e,e.return);break;case 3:pn(e);break;case 12:pn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ti(e)):pn(e);break;default:pn(e)}}function Ti(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];vt=s,$m(s,e)}Lm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:rl(8,t,t.return),Ti(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Ti(t));break;default:Ti(t)}e=e.sibling}}function $m(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:rl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Is(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,vt=s;else e:for(l=e;vt!==null;){s=vt;var n=s.sibling,i=s.return;if(km(s),s===l){vt=null;break e}if(n!==null){n.return=i,vt=n;break e}vt=i}}}var Ix={getCacheForType:function(e){var t=jt(dt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return jt(dt).controller.signal}},Px=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,Le=null,$e=0,Ge=0,Jt=null,ol=!1,js=!1,Qo=!1,Va=0,rt=0,cl=0,Zl=0,Jo=0,Ft=0,Ns=0,gn=null,Vt=null,Fo=!1,Di=0,Om=0,Li=1/0,Bi=null,ul=null,xt=0,dl=null,ws=null,qa=0,Ko=0,Wo=null,Rm=null,vn=0,Io=null;function Kt(){return(qe&2)!==0&&$e!==0?$e&-$e:w.T!==null?sc():Q()}function Um(){if(Ft===0)if(($e&536870912)===0||Re){var e=Gl;Gl<<=1,(Gl&3932160)===0&&(Gl=262144),Ft=e}else Ft=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Ft}function qt(e,t,l){(e===We&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),ml(e,$e,Ft,!1)),zt(e,l),((qe&2)===0||e!==We)&&(e===We&&((qe&2)===0&&(Zl|=l),rt===4&&ml(e,$e,Ft,!1)),wa(e))}function Hm(e,t,l){if((qe&6)!==0)throw Error(u(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Sl(e,t),n=s?a0(e,t):ec(e,t,!0),i=s;do{if(n===0){js&&!s&&ml(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!e0(l)){n=ec(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var h=e;n=gn;var k=h.current.memoizedState.isDehydrated;if(k&&(Ss(h,o).flags|=256),o=ec(h,o,!1),o!==2){if(Qo&&!k){h.errorRecoveryDisabledLanes|=i,Zl|=i,n=4;break e}i=Vt,Vt=n,i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){Ss(e,0),ml(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:ml(s,t,Ft,!ol);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=Di+300-ot(),10<n)){if(ml(s,t,Ft,!ol),Fa(s,0,!0)!==0)break e;qa=t,s.timeoutHandle=gh(Zm.bind(null,s,l,Vt,Bi,Fo,t,Ft,Zl,Ns,ol,i,"Throttled",-0,0),n);break e}Zm(s,l,Vt,Bi,Fo,t,Ft,Zl,Ns,ol,i,null,-0,0)}}break}while(!0);wa(e)}function Zm(e,t,l,s,n,i,o,h,k,P,ce,me,ee,se){if(e.timeoutHandle=-1,me=t.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},Dm(t,i,me);var je=(i&62914560)===i?Di-ot():(i&4194048)===i?Om-ot():0;if(je=R0(me,je),je!==null){qa=i,e.cancelPendingCommit=je(Fm.bind(null,e,t,i,l,s,n,o,h,k,ce,me,null,ee,se)),ml(e,i,o,!P);return}}Fm(e,t,i,l,s,n,o,h,k)}function e0(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],i=n.getSnapshot;n=n.value;try{if(!Yt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t,l,s){t&=~Jo,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-Dt(n),o=1<<i;s[i]=-1,n&=~o}l!==0&&Et(e,l,t)}function $i(){return(qe&6)===0?(yn(0),!1):!0}function Po(){if(Le!==null){if(Ge===0)var e=Le.return;else e=Le,Ta=Tl=null,xo(e),fs=null,en=0,e=Le;for(;e!==null;)vm(e.alternate,e),e=e.return;Le=null}}function Ss(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,b0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),qa=0,Po(),We=e,Le=l=Ma(e.current,null),$e=t,Ge=0,Jt=null,ol=!1,js=Sl(e,t),Qo=!1,Ns=Ft=Jo=Zl=cl=rt=0,Vt=gn=null,Fo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-Dt(s),i=1<<n;t|=e[n],s&=~i}return Va=t,li(),l}function Vm(e,t){_e=null,w.H=cn,t===hs||t===di?(t=sd(),Ge=3):t===ao?(t=sd(),Ge=4):Ge=t===_o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,Le===null&&(rt=1,Ci(e,aa(t,e.current)))}function qm(){var e=Gt.current;return e===null?!0:($e&4194048)===$e?ia===null:($e&62914560)===$e||($e&536870912)!==0?e===ia:!1}function Ym(){var e=w.H;return w.H=cn,e===null?cn:e}function Xm(){var e=w.A;return w.A=Ix,e}function Oi(){rt=4,ol||($e&4194048)!==$e&&Gt.current!==null||(js=!0),(cl&134217727)===0&&(Zl&134217727)===0||We===null||ml(We,$e,Ft,!1)}function ec(e,t,l){var s=qe;qe|=2;var n=Ym(),i=Xm();(We!==e||$e!==t)&&(Bi=null,Ss(e,t)),t=!1;var o=rt;e:do try{if(Ge!==0&&Le!==null){var h=Le,k=Jt;switch(Ge){case 8:Po(),o=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var P=Ge;if(Ge=0,Jt=null,Cs(e,h,k,P),l&&js){o=0;break e}break;default:P=Ge,Ge=0,Jt=null,Cs(e,h,k,P)}}t0(),o=rt;break}catch(ce){Vm(e,ce)}while(!0);return t&&e.shellSuspendCounter++,Ta=Tl=null,qe=s,w.H=n,w.A=i,Le===null&&(We=null,$e=0,li()),o}function t0(){for(;Le!==null;)Gm(Le)}function a0(e,t){var l=qe;qe|=2;var s=Ym(),n=Xm();We!==e||$e!==t?(Bi=null,Li=ot()+500,Ss(e,t)):js=Sl(e,t);e:do try{if(Ge!==0&&Le!==null){t=Le;var i=Jt;t:switch(Ge){case 1:Ge=0,Jt=null,Cs(e,t,i,1);break;case 2:case 9:if(ad(i)){Ge=0,Jt=null,Qm(t);break}t=function(){Ge!==2&&Ge!==9||We!==e||(Ge=7),wa(e)},i.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:ad(i)?(Ge=0,Jt=null,Qm(t)):(Ge=0,Jt=null,Cs(e,t,i,7));break;case 5:var o=null;switch(Le.tag){case 26:o=Le.memoizedState;case 5:case 27:var h=Le;if(o?Th(o):h.stateNode.complete){Ge=0,Jt=null;var k=h.sibling;if(k!==null)Le=k;else{var P=h.return;P!==null?(Le=P,Ri(P)):Le=null}break t}}Ge=0,Jt=null,Cs(e,t,i,5);break;case 6:Ge=0,Jt=null,Cs(e,t,i,6);break;case 8:Po(),rt=6;break e;default:throw Error(u(462))}}l0();break}catch(ce){Vm(e,ce)}while(!0);return Ta=Tl=null,w.H=s,w.A=n,qe=l,Le!==null?0:(We=null,$e=0,li(),rt)}function l0(){for(;Le!==null&&!Xe();)Gm(Le)}function Gm(e){var t=pm(e.alternate,e,Va);e.memoizedProps=e.pendingProps,t===null?Ri(e):Le=t}function Qm(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=um(l,t,t.pendingProps,t.type,void 0,$e);break;case 11:t=um(l,t,t.pendingProps,t.type.render,t.ref,$e);break;case 5:xo(t);default:vm(l,t),t=Le=Xu(t,Va),t=pm(l,t,Va)}e.memoizedProps=e.pendingProps,t===null?Ri(e):Le=t}function Cs(e,t,l,s){Ta=Tl=null,xo(t),fs=null,en=0;var n=t.return;try{if(Xx(e,n,t,l,$e)){rt=1,Ci(e,aa(l,e.current)),Le=null;return}}catch(i){if(n!==null)throw Le=n,i;rt=1,Ci(e,aa(l,e.current)),Le=null;return}t.flags&32768?(Re||s===1?e=!0:js||($e&536870912)!==0?e=!1:(ol=e=!0,(s===2||s===9||s===3||s===6)&&(s=Gt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Jm(t,e)):Ri(t)}function Ri(e){var t=e;do{if((t.flags&32768)!==0){Jm(t,ol);return}e=t.return;var l=Jx(t.alternate,t,Va);if(l!==null){Le=l;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);rt===0&&(rt=5)}function Jm(e,t){do{var l=Fx(e.alternate,e);if(l!==null){l.flags&=32767,Le=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Le=e;return}Le=e=l}while(e!==null);rt=6,Le=null}function Fm(e,t,l,s,n,i,o,h,k){e.cancelPendingCommit=null;do Ui();while(xt!==0);if((qe&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=Zr,$t(e,l,i,o,h,k),e===We&&(Le=We=null,$e=0),ws=t,dl=e,qa=l,Ko=i,Wo=n,Rm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,r0(va,function(){return eh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=w.T,w.T=null,n=E.p,E.p=2,o=qe,qe|=4;try{Kx(e,t,l)}finally{qe=o,E.p=n,w.T=s}}xt=1,Km(),Wm(),Im()}}function Km(){if(xt===1){xt=0;var e=dl,t=ws,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null;var s=E.p;E.p=2;var n=qe;qe|=4;try{Mm(t,e);var i=mc,o=$u(e.containerInfo),h=i.focusedElem,k=i.selectionRange;if(o!==h&&h&&h.ownerDocument&&Bu(h.ownerDocument.documentElement,h)){if(k!==null&&$r(h)){var P=k.start,ce=k.end;if(ce===void 0&&(ce=P),"selectionStart"in h)h.selectionStart=P,h.selectionEnd=Math.min(ce,h.value.length);else{var me=h.ownerDocument||document,ee=me&&me.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),je=h.textContent.length,Ee=Math.min(k.start,je),Ke=k.end===void 0?Ee:Math.min(k.end,je);!se.extend&&Ee>Ke&&(o=Ke,Ke=Ee,Ee=o);var Y=Lu(h,Ee),B=Lu(h,Ke);if(Y&&B&&(se.rangeCount!==1||se.anchorNode!==Y.node||se.anchorOffset!==Y.offset||se.focusNode!==B.node||se.focusOffset!==B.offset)){var I=me.createRange();I.setStart(Y.node,Y.offset),se.removeAllRanges(),Ee>Ke?(se.addRange(I),se.extend(B.node,B.offset)):(I.setEnd(B.node,B.offset),se.addRange(I))}}}}for(me=[],se=h;se=se.parentNode;)se.nodeType===1&&me.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<me.length;h++){var de=me[h];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Wi=!!dc,mc=dc=null}finally{qe=n,E.p=s,w.T=l}}e.current=t,xt=2}}function Wm(){if(xt===2){xt=0;var e=dl,t=ws,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=w.T,w.T=null;var s=E.p;E.p=2;var n=qe;qe|=4;try{Cm(e,t.alternate,t)}finally{qe=n,E.p=s,w.T=l}}xt=3}}function Im(){if(xt===4||xt===3){xt=0,It();var e=dl,t=ws,l=qa,s=Rm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,ws=dl=null,Pm(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ul=null),C(l),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(wl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=w.T,n=E.p,E.p=2,w.T=null;try{for(var i=e.onRecoverableError,o=0;o<s.length;o++){var h=s[o];i(h.value,{componentStack:h.stack})}}finally{w.T=t,E.p=n}}(qa&3)!==0&&Ui(),wa(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===Io?vn++:(vn=0,Io=e):vn=0,yn(0)}}function Pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Is(t)))}function Ui(){return Km(),Wm(),Im(),eh()}function eh(){if(xt!==5)return!1;var e=dl,t=Ko;Ko=0;var l=C(qa),s=w.T,n=E.p;try{E.p=32>l?32:l,w.T=null,l=Wo,Wo=null;var i=dl,o=qa;if(xt=0,ws=dl=null,qa=0,(qe&6)!==0)throw Error(u(331));var h=qe;if(qe|=4,Bm(i.current),Tm(i,i.current,o,l),qe=h,yn(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(wl,i)}catch{}return!0}finally{E.p=n,w.T=s,Pm(e,t)}}function th(e,t,l){t=aa(l,t),t=Mo(e.stateNode,t,2),e=sl(e,t,2),e!==null&&(zt(e,2),wa(e))}function Qe(e,t,l){if(e.tag===3)th(e,e,l);else for(;t!==null;){if(t.tag===3){th(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ul===null||!ul.has(s))){e=aa(l,e),l=am(2),s=sl(t,l,2),s!==null&&(lm(l,s,t,e),zt(s,2),wa(s));break}}t=t.return}}function tc(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Px;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(l)||(Qo=!0,n.add(l),e=s0.bind(null,e,t,l),t.then(e,e))}function s0(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,We===e&&($e&l)===l&&(rt===4||rt===3&&($e&62914560)===$e&&300>ot()-Di?(qe&2)===0&&Ss(e,0):Jo|=l,Ns===$e&&(Ns=0)),wa(e)}function ah(e,t){t===0&&(t=Yn()),e=Al(e,t),e!==null&&(zt(e,t),wa(e))}function n0(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ah(e,l)}function i0(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(u(314))}s!==null&&s.delete(t),ah(e,l)}function r0(e,t){return be(e,t)}var Hi=null,ks=null,ac=!1,Zi=!1,lc=!1,hl=0;function wa(e){e!==ks&&e.next===null&&(ks===null?Hi=ks=e:ks=ks.next=e),Zi=!0,ac||(ac=!0,c0())}function yn(e,t){if(!lc&&Zi){lc=!0;do for(var l=!1,s=Hi;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var o=s.suspendedLanes,h=s.pingedLanes;i=(1<<31-Dt(42|e)+1)-1,i&=n&~(o&~h),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,ih(s,i))}else i=$e,i=Fa(s,s===We?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||Sl(s,i)||(l=!0,ih(s,i));s=s.next}while(l);lc=!1}}function o0(){lh()}function lh(){Zi=ac=!1;var e=0;hl!==0&&y0()&&(e=hl);for(var t=ot(),l=null,s=Hi;s!==null;){var n=s.next,i=sh(s,t);i===0?(s.next=null,l===null?Hi=n:l.next=n,n===null&&(ks=l)):(l=s,(e!==0||(i&3)!==0)&&(Zi=!0)),s=n}xt!==0&&xt!==5||yn(e),hl!==0&&(hl=0)}function sh(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-Dt(i),h=1<<o,k=n[o];k===-1?((h&l)===0||(h&s)!==0)&&(n[o]=qn(h,t)):k<=t&&(e.expiredLanes|=h),i&=~h}if(t=We,l=$e,l=Fa(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ke(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Sl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&ke(s),C(l)){case 2:case 8:l=Nl;break;case 32:l=va;break;case 268435456:l=fe;break;default:l=va}return s=nh.bind(null,e),l=be(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&ke(s),e.callbackPriority=2,e.callbackNode=null,2}function nh(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ui()&&e.callbackNode!==l)return null;var s=$e;return s=Fa(e,e===We?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Hm(e,s,t),sh(e,ot()),e.callbackNode!=null&&e.callbackNode===l?nh.bind(null,e):null)}function ih(e,t){if(Ui())return null;Hm(e,t,!0)}function c0(){j0(function(){(qe&6)!==0?be(Ct,o0):lh()})}function sc(){if(hl===0){var e=ds;e===0&&(e=Xl,Xl<<=1,(Xl&261888)===0&&(Xl=256)),hl=e}return hl}function rh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fn(""+e)}function oh(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function u0(e,t,l,s,n){if(t==="submit"&&l&&l.stateNode===n){var i=rh((n[Ot]||null).action),o=s.submitter;o&&(t=(t=o[Ot]||null)?rh(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var h=new Pn("action","action",null,s,n);e.push({event:h,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(hl!==0){var k=o?oh(n,o):new FormData(n);So(l,{pending:!0,data:k,method:n.method,action:i},null,k)}}else typeof i=="function"&&(h.preventDefault(),k=o?oh(n,o):new FormData(n),So(l,{pending:!0,data:k,method:n.method,action:i},i,k))},currentTarget:n}]})}}for(var nc=0;nc<Hr.length;nc++){var ic=Hr[nc],d0=ic.toLowerCase(),m0=ic[0].toUpperCase()+ic.slice(1);ca(d0,"on"+m0)}ca(Uu,"onAnimationEnd"),ca(Hu,"onAnimationIteration"),ca(Zu,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(Ex,"onTransitionRun"),ca(Ax,"onTransitionStart"),ca(Mx,"onTransitionCancel"),ca(Vu,"onTransitionEnd"),Wl("onMouseEnter",["mouseout","mouseover"]),Wl("onMouseLeave",["mouseout","mouseover"]),Wl("onPointerEnter",["pointerout","pointerover"]),Wl("onPointerLeave",["pointerout","pointerover"]),Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bn));function ch(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var h=s[o],k=h.instance,P=h.currentTarget;if(h=h.listener,k!==i&&n.isPropagationStopped())break e;i=h,n.currentTarget=P;try{i(n)}catch(ce){ai(ce)}n.currentTarget=null,i=k}else for(o=0;o<s.length;o++){if(h=s[o],k=h.instance,P=h.currentTarget,h=h.listener,k!==i&&n.isPropagationStopped())break e;i=h,n.currentTarget=P;try{i(n)}catch(ce){ai(ce)}n.currentTarget=null,i=k}}}}function Be(e,t){var l=t[vr];l===void 0&&(l=t[vr]=new Set);var s=e+"__bubble";l.has(s)||(uh(t,e,2,!1),l.add(s))}function rc(e,t,l){var s=0;t&&(s|=4),uh(l,e,s,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[Vi]){e[Vi]=!0,lu.forEach(function(l){l!=="selectionchange"&&(h0.has(l)||rc(l,!1,e),rc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,rc("selectionchange",!1,t))}}function uh(e,t,l,s){switch(Uh(t)){case 2:var n=Z0;break;case 8:n=V0;break;default:n=wc}l=n.bind(null,t,l,e),n=void 0,!zr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function cc(e,t,l,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var h=s.stateNode.containerInfo;if(h===n)break;if(o===4)for(o=s.return;o!==null;){var k=o.tag;if((k===3||k===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;h!==null;){if(o=Jl(h),o===null)return;if(k=o.tag,k===5||k===6||k===26||k===27){s=i=o;continue e}h=h.parentNode}}s=s.return}xu(function(){var P=i,ce=Cr(l),me=[];e:{var ee=qu.get(e);if(ee!==void 0){var se=Pn,je=e;switch(e){case"keypress":if(Wn(l)===0)break e;case"keydown":case"keyup":se=ix;break;case"focusin":je="focus",se=_r;break;case"focusout":je="blur",se=_r;break;case"beforeblur":case"afterblur":se=_r;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=cx;break;case Uu:case Hu:case Zu:se=Wf;break;case Vu:se=dx;break;case"scroll":case"scrollend":se=Gf;break;case"wheel":se=hx;break;case"copy":case"cut":case"paste":se=Pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=bu;break;case"toggle":case"beforetoggle":se=xx}var Ee=(t&4)!==0,Ke=!Ee&&(e==="scroll"||e==="scrollend"),Y=Ee?ee!==null?ee+"Capture":null:ee;Ee=[];for(var B=P,I;B!==null;){var de=B;if(I=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||I===null||Y===null||(de=Zs(B,Y),de!=null&&Ee.push(jn(B,de,I))),Ke)break;B=B.return}0<Ee.length&&(ee=new se(ee,je,null,l,ce),me.push({event:ee,listeners:Ee}))}}if((t&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",ee&&l!==Sr&&(je=l.relatedTarget||l.fromElement)&&(Jl(je)||je[Ql]))break e;if((se||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(je=l.relatedTarget||l.toElement,se=P,je=je?Jl(je):null,je!==null&&(Ke=g(je),Ee=je.tag,je!==Ke||Ee!==5&&Ee!==27&&Ee!==6)&&(je=null)):(se=null,je=P),se!==je)){if(Ee=vu,de="onMouseLeave",Y="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=bu,de="onPointerLeave",Y="onPointerEnter",B="pointer"),Ke=se==null?ee:Hs(se),I=je==null?ee:Hs(je),ee=new Ee(de,B+"leave",se,l,ce),ee.target=Ke,ee.relatedTarget=I,de=null,Jl(ce)===P&&(Ee=new Ee(Y,B+"enter",je,l,ce),Ee.target=I,Ee.relatedTarget=Ke,de=Ee),Ke=de,se&&je)t:{for(Ee=f0,Y=se,B=je,I=0,de=Y;de;de=Ee(de))I++;de=0;for(var ze=B;ze;ze=Ee(ze))de++;for(;0<I-de;)Y=Ee(Y),I--;for(;0<de-I;)B=Ee(B),de--;for(;I--;){if(Y===B||B!==null&&Y===B.alternate){Ee=Y;break t}Y=Ee(Y),B=Ee(B)}Ee=null}else Ee=null;se!==null&&dh(me,ee,se,Ee,!1),je!==null&&Ke!==null&&dh(me,Ke,je,Ee,!0)}}e:{if(ee=P?Hs(P):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var He=Eu;else if(ku(ee))if(Au)He=Cx;else{He=wx;var Se=Nx}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?P&&wr(P.elementType)&&(He=Eu):He=Sx;if(He&&(He=He(e,P))){zu(me,He,l,ce);break e}Se&&Se(e,ee,P),e==="focusout"&&P&&ee.type==="number"&&P.memoizedProps.value!=null&&Nr(ee,"number",ee.value)}switch(Se=P?Hs(P):window,e){case"focusin":(ku(Se)||Se.contentEditable==="true")&&(ls=Se,Or=P,Fs=null);break;case"focusout":Fs=Or=ls=null;break;case"mousedown":Rr=!0;break;case"contextmenu":case"mouseup":case"dragend":Rr=!1,Ou(me,l,ce);break;case"selectionchange":if(zx)break;case"keydown":case"keyup":Ou(me,l,ce)}var Te;if(Dr)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else as?Su(e,l)&&(Oe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(ju&&l.locale!=="ko"&&(as||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&as&&(Te=pu()):(Wa=ce,Er="value"in Wa?Wa.value:Wa.textContent,as=!0)),Se=qi(P,Oe),0<Se.length&&(Oe=new yu(Oe,e,null,l,ce),me.push({event:Oe,listeners:Se}),Te?Oe.data=Te:(Te=Cu(l),Te!==null&&(Oe.data=Te)))),(Te=gx?vx(e,l):yx(e,l))&&(Oe=qi(P,"onBeforeInput"),0<Oe.length&&(Se=new yu("onBeforeInput","beforeinput",null,l,ce),me.push({event:Se,listeners:Oe}),Se.data=Te)),u0(me,e,P,l,ce)}ch(me,t)})}function jn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function qi(e,t){for(var l=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Zs(e,l),n!=null&&s.unshift(jn(e,n,i)),n=Zs(e,t),n!=null&&s.push(jn(e,n,i))),e.tag===3)return s;e=e.return}return[]}function f0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dh(e,t,l,s,n){for(var i=t._reactName,o=[];l!==null&&l!==s;){var h=l,k=h.alternate,P=h.stateNode;if(h=h.tag,k!==null&&k===s)break;h!==5&&h!==26&&h!==27||P===null||(k=P,n?(P=Zs(l,i),P!=null&&o.unshift(jn(l,P,k))):n||(P=Zs(l,i),P!=null&&o.push(jn(l,P,k)))),l=l.return}o.length!==0&&e.push({event:t,listeners:o})}var x0=/\r\n?/g,p0=/\u0000|\uFFFD/g;function mh(e){return(typeof e=="string"?e:""+e).replace(x0,`
`).replace(p0,"")}function hh(e,t){return t=mh(t),mh(e)===t}function Fe(e,t,l,s,n,i){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Pl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Pl(e,""+s);break;case"className":Qn(e,"class",s);break;case"tabIndex":Qn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,l,s);break;case"style":hu(e,s,i);break;case"data":if(t!=="object"){Qn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Fn(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Fe(e,t,"name",n.name,n,null),Fe(e,t,"formEncType",n.formEncType,n,null),Fe(e,t,"formMethod",n.formMethod,n,null),Fe(e,t,"formTarget",n.formTarget,n,null)):(Fe(e,t,"encType",n.encType,n,null),Fe(e,t,"method",n.method,n,null),Fe(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Fn(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Ea);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(u(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Fn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Be("beforetoggle",e),Be("toggle",e),Gn(e,"popover",s);break;case"xlinkActuate":za(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":za(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":za(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":za(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":za(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":za(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":za(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":za(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":za(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Gn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Yf.get(l)||l,Gn(e,l,s))}}function uc(e,t,l,s,n,i){switch(l){case"style":hu(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(u(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Pl(e,s):(typeof s=="number"||typeof s=="bigint")&&Pl(e,""+s);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!su.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Ot]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Gn(e,l,s)}}}function wt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var s=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var o=l[i];if(o!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Fe(e,t,i,o,l,null)}}n&&Fe(e,t,"srcSet",l.srcSet,l,null),s&&Fe(e,t,"src",l.src,l,null);return;case"input":Be("invalid",e);var h=i=o=n=null,k=null,P=null;for(s in l)if(l.hasOwnProperty(s)){var ce=l[s];if(ce!=null)switch(s){case"name":n=ce;break;case"type":o=ce;break;case"checked":k=ce;break;case"defaultChecked":P=ce;break;case"value":i=ce;break;case"defaultValue":h=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(u(137,t));break;default:Fe(e,t,s,ce,l,null)}}cu(e,i,h,k,P,o,n,!1);return;case"select":Be("invalid",e),s=o=i=null;for(n in l)if(l.hasOwnProperty(n)&&(h=l[n],h!=null))switch(n){case"value":i=h;break;case"defaultValue":o=h;break;case"multiple":s=h;default:Fe(e,t,n,h,l,null)}t=i,l=o,e.multiple=!!s,t!=null?Il(e,!!s,t,!1):l!=null&&Il(e,!!s,l,!0);return;case"textarea":Be("invalid",e),i=n=s=null;for(o in l)if(l.hasOwnProperty(o)&&(h=l[o],h!=null))switch(o){case"value":s=h;break;case"defaultValue":n=h;break;case"children":i=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:Fe(e,t,o,h,l,null)}du(e,s,n,i);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(s=l[k],s!=null))switch(k){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Fe(e,t,k,s,l,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(s=0;s<bn.length;s++)Be(bn[s],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in l)if(l.hasOwnProperty(P)&&(s=l[P],s!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Fe(e,t,P,s,l,null)}return;default:if(wr(t)){for(ce in l)l.hasOwnProperty(ce)&&(s=l[ce],s!==void 0&&uc(e,t,ce,s,l,void 0));return}}for(h in l)l.hasOwnProperty(h)&&(s=l[h],s!=null&&Fe(e,t,h,s,l,null))}function g0(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,h=null,k=null,P=null,ce=null;for(se in l){var me=l[se];if(l.hasOwnProperty(se)&&me!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":k=me;default:s.hasOwnProperty(se)||Fe(e,t,se,null,s,me)}}for(var ee in s){var se=s[ee];if(me=l[ee],s.hasOwnProperty(ee)&&(se!=null||me!=null))switch(ee){case"type":i=se;break;case"name":n=se;break;case"checked":P=se;break;case"defaultChecked":ce=se;break;case"value":o=se;break;case"defaultValue":h=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(u(137,t));break;default:se!==me&&Fe(e,t,ee,se,s,me)}}jr(e,o,h,k,P,ce,i,n);return;case"select":se=o=h=ee=null;for(i in l)if(k=l[i],l.hasOwnProperty(i)&&k!=null)switch(i){case"value":break;case"multiple":se=k;default:s.hasOwnProperty(i)||Fe(e,t,i,null,s,k)}for(n in s)if(i=s[n],k=l[n],s.hasOwnProperty(n)&&(i!=null||k!=null))switch(n){case"value":ee=i;break;case"defaultValue":h=i;break;case"multiple":o=i;default:i!==k&&Fe(e,t,n,i,s,k)}t=h,l=o,s=se,ee!=null?Il(e,!!l,ee,!1):!!s!=!!l&&(t!=null?Il(e,!!l,t,!0):Il(e,!!l,l?[]:"",!1));return;case"textarea":se=ee=null;for(h in l)if(n=l[h],l.hasOwnProperty(h)&&n!=null&&!s.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:Fe(e,t,h,null,s,n)}for(o in s)if(n=s[o],i=l[o],s.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":ee=n;break;case"defaultValue":se=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&Fe(e,t,o,n,s,i)}uu(e,ee,se);return;case"option":for(var je in l)if(ee=l[je],l.hasOwnProperty(je)&&ee!=null&&!s.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:Fe(e,t,je,null,s,ee)}for(k in s)if(ee=s[k],se=l[k],s.hasOwnProperty(k)&&ee!==se&&(ee!=null||se!=null))switch(k){case"selected":e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Fe(e,t,k,ee,s,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)ee=l[Ee],l.hasOwnProperty(Ee)&&ee!=null&&!s.hasOwnProperty(Ee)&&Fe(e,t,Ee,null,s,ee);for(P in s)if(ee=s[P],se=l[P],s.hasOwnProperty(P)&&ee!==se&&(ee!=null||se!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(u(137,t));break;default:Fe(e,t,P,ee,s,se)}return;default:if(wr(t)){for(var Ke in l)ee=l[Ke],l.hasOwnProperty(Ke)&&ee!==void 0&&!s.hasOwnProperty(Ke)&&uc(e,t,Ke,void 0,s,ee);for(ce in s)ee=s[ce],se=l[ce],!s.hasOwnProperty(ce)||ee===se||ee===void 0&&se===void 0||uc(e,t,ce,ee,s,se);return}}for(var Y in l)ee=l[Y],l.hasOwnProperty(Y)&&ee!=null&&!s.hasOwnProperty(Y)&&Fe(e,t,Y,null,s,ee);for(me in s)ee=s[me],se=l[me],!s.hasOwnProperty(me)||ee===se||ee==null&&se==null||Fe(e,t,me,ee,s,se)}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var n=l[s],i=n.transferSize,o=n.initiatorType,h=n.duration;if(i&&h&&fh(o)){for(o=0,h=n.responseEnd,s+=1;s<l.length;s++){var k=l[s],P=k.startTime;if(P>h)break;var ce=k.transferSize,me=k.initiatorType;ce&&fh(me)&&(k=k.responseEnd,o+=ce*(k<h?1:(h-P)/(k-P)))}if(--s,t+=8*(i+o)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dc=null,mc=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function xh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ph(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fc=null;function y0(){var e=window.event;return e&&e.type==="popstate"?e===fc?!1:(fc=e,!0):(fc=null,!1)}var gh=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0,vh=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof vh<"u"?function(e){return vh.resolve(null).then(e).catch(N0)}:gh;function N0(e){setTimeout(function(){throw e})}function fl(e){return e==="head"}function yh(e,t){var l=t,s=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(n),Ms(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Nn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Nn(l);for(var i=l.firstChild;i;){var o=i.nextSibling,h=i.nodeName;i[Us]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=o}}else l==="body"&&Nn(e.ownerDocument.body);l=n}while(l);Ms(t)}function bh(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function xc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xc(l),yr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function w0(e,t,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=ra(e.nextSibling),e===null)break}return null}function S0(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=ra(e.nextSibling),e===null))return null;return e}function jh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ra(e.nextSibling),e===null))return null;return e}function pc(e){return e.data==="$?"||e.data==="$~"}function gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function C0(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vc=null;function Nh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return ra(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function wh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Sh(e,t,l){switch(t=Yi(l),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Nn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yr(e)}var oa=new Map,Ch=new Set;function Xi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ya=E.d;E.d={f:k0,r:z0,D:E0,C:A0,L:M0,m:_0,X:D0,S:T0,M:L0};function k0(){var e=Ya.f(),t=$i();return e||t}function z0(e){var t=Fl(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):Ya.r(e)}var zs=typeof document>"u"?null:document;function kh(e,t,l){var s=zs;if(s&&typeof t=="string"&&t){var n=ea(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Ch.has(n)||(Ch.add(n),e={rel:e,crossOrigin:l,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),wt(t,"link",e),gt(t),s.head.appendChild(t)))}}function E0(e){Ya.D(e),kh("dns-prefetch",e,null)}function A0(e,t){Ya.C(e,t),kh("preconnect",e,t)}function M0(e,t,l){Ya.L(e,t,l);var s=zs;if(s&&e&&t){var n='link[rel="preload"][as="'+ea(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+ea(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+ea(l.imageSizes)+'"]')):n+='[href="'+ea(e)+'"]';var i=n;switch(t){case"style":i=Es(e);break;case"script":i=As(e)}oa.has(i)||(e=M({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),oa.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(wn(i))||t==="script"&&s.querySelector(Sn(i))||(t=s.createElement("link"),wt(t,"link",e),gt(t),s.head.appendChild(t)))}}function _0(e,t){Ya.m(e,t);var l=zs;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ea(s)+'"][href="'+ea(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=As(e)}if(!oa.has(i)&&(e=M({rel:"modulepreload",href:e},t),oa.set(i,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Sn(i)))return}s=l.createElement("link"),wt(s,"link",e),gt(s),l.head.appendChild(s)}}}function T0(e,t,l){Ya.S(e,t,l);var s=zs;if(s&&e){var n=Kl(s).hoistableStyles,i=Es(e);t=t||"default";var o=n.get(i);if(!o){var h={loading:0,preload:null};if(o=s.querySelector(wn(i)))h.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":t},l),(l=oa.get(i))&&yc(e,l);var k=o=s.createElement("link");gt(k),wt(k,"link",e),k._p=new Promise(function(P,ce){k.onload=P,k.onerror=ce}),k.addEventListener("load",function(){h.loading|=1}),k.addEventListener("error",function(){h.loading|=2}),h.loading|=4,Gi(o,t,s)}o={type:"stylesheet",instance:o,count:1,state:h},n.set(i,o)}}}function D0(e,t){Ya.X(e,t);var l=zs;if(l&&e){var s=Kl(l).hoistableScripts,n=As(e),i=s.get(n);i||(i=l.querySelector(Sn(n)),i||(e=M({src:e,async:!0},t),(t=oa.get(n))&&bc(e,t),i=l.createElement("script"),gt(i),wt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function L0(e,t){Ya.M(e,t);var l=zs;if(l&&e){var s=Kl(l).hoistableScripts,n=As(e),i=s.get(n);i||(i=l.querySelector(Sn(n)),i||(e=M({src:e,async:!0,type:"module"},t),(t=oa.get(n))&&bc(e,t),i=l.createElement("script"),gt(i),wt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function zh(e,t,l,s){var n=(n=xe.current)?Xi(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Es(l.href),l=Kl(n).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Es(l.href);var i=Kl(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(wn(e)))&&!i._p&&(o.instance=i,o.state.loading=5),oa.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},oa.set(e,l),i||B0(n,e,l,o.state))),t&&s===null)throw Error(u(528,""));return o}if(t&&s!==null)throw Error(u(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=As(l),l=Kl(n).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Es(e){return'href="'+ea(e)+'"'}function wn(e){return'link[rel="stylesheet"]['+e+"]"}function Eh(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function B0(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),wt(t,"link",l),gt(t),e.head.appendChild(t))}function As(e){return'[src="'+ea(e)+'"]'}function Sn(e){return"script[async]"+e}function Ah(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ea(l.href)+'"]');if(s)return t.instance=s,gt(s),s;var n=M({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),gt(s),wt(s,"style",n),Gi(s,l.precedence,e),t.instance=s;case"stylesheet":n=Es(l.href);var i=e.querySelector(wn(n));if(i)return t.state.loading|=4,t.instance=i,gt(i),i;s=Eh(l),(n=oa.get(n))&&yc(s,n),i=(e.ownerDocument||e).createElement("link"),gt(i);var o=i;return o._p=new Promise(function(h,k){o.onload=h,o.onerror=k}),wt(i,"link",s),t.state.loading|=4,Gi(i,l.precedence,e),t.instance=i;case"script":return i=As(l.src),(n=e.querySelector(Sn(i)))?(t.instance=n,gt(n),n):(s=l,(n=oa.get(i))&&(s=M({},l),bc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),gt(n),wt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Gi(s,l.precedence,e));return t.instance}function Gi(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,o=0;o<s.length;o++){var h=s[o];if(h.dataset.precedence===t)i=h;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qi=null;function Mh(e,t,l){if(Qi===null){var s=new Map,n=Qi=new Map;n.set(l,s)}else n=Qi,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Us]||i[Ve]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var h=s.get(o);h?h.push(i):s.set(o,[i])}}return s}function _h(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function $0(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Th(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function O0(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Es(s.href),i=t.querySelector(wn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ji.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,gt(i);return}i=t.ownerDocument||t,s=Eh(s),(n=oa.get(n))&&yc(s,n),i=i.createElement("link"),gt(i);var o=i;o._p=new Promise(function(h,k){o.onload=h,o.onerror=k}),wt(i,"link",s),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ji.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var jc=0;function R0(e,t){return e.stylesheets&&e.count===0&&Ki(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ki(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&jc===0&&(jc=62500*v0());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ki(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>jc?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ki(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fi=null;function Ki(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fi=new Map,t.forEach(U0,e),Fi=null,Ji.call(e))}function U0(e,t){if(!(t.state.loading&4)){var l=Fi.get(e);if(l)var s=l.get(null);else{l=new Map,Fi.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(l.set(o.dataset.precedence,o),s=o)}s&&l.set(null,s)}n=t.instance,o=n.getAttribute("data-precedence"),i=l.get(o)||s,i===s&&l.set(null,n),l.set(o,n),this.count++,s=Ji.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Cn={$$typeof:O,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function H0(e,t,l,s,n,i,o,h,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Dh(e,t,l,s,n,i,o,h,k,P,ce,me){return e=new H0(e,t,l,o,k,P,ce,me,h),t=1,i===!0&&(t|=24),i=Xt(3,null,null,t),e.current=i,i.stateNode=e,t=Pr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:l,cache:t},lo(i),e}function Lh(e){return e?(e=is,e):is}function Bh(e,t,l,s,n,i){n=Lh(n),s.context===null?s.context=n:s.pendingContext=n,s=ll(t),s.payload={element:l},i=i===void 0?null:i,i!==null&&(s.callback=i),l=sl(e,s,t),l!==null&&(qt(l,e,t),an(l,e,t))}function $h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Nc(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function Oh(e){if(e.tag===13||e.tag===31){var t=Al(e,67108864);t!==null&&qt(t,e,67108864),Nc(e,67108864)}}function Rh(e){if(e.tag===13||e.tag===31){var t=Kt();t=oe(t);var l=Al(e,t);l!==null&&qt(l,e,t),Nc(e,t)}}var Wi=!0;function Z0(e,t,l,s){var n=w.T;w.T=null;var i=E.p;try{E.p=2,wc(e,t,l,s)}finally{E.p=i,w.T=n}}function V0(e,t,l,s){var n=w.T;w.T=null;var i=E.p;try{E.p=8,wc(e,t,l,s)}finally{E.p=i,w.T=n}}function wc(e,t,l,s){if(Wi){var n=Sc(s);if(n===null)cc(e,t,s,Ii,l),Hh(e,s);else if(Y0(n,e,t,l,s))s.stopPropagation();else if(Hh(e,s),t&4&&-1<q0.indexOf(e)){for(;n!==null;){var i=Fl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=ka(i.pendingLanes);if(o!==0){var h=i;for(h.pendingLanes|=2,h.entangledLanes|=2;o;){var k=1<<31-Dt(o);h.entanglements[1]|=k,o&=~k}wa(i),(qe&6)===0&&(Li=ot()+500,yn(0))}}break;case 31:case 13:h=Al(i,2),h!==null&&qt(h,i,2),$i(),Nc(i,2)}if(i=Sc(s),i===null&&cc(e,t,s,Ii,l),i===n)break;n=i}n!==null&&s.stopPropagation()}else cc(e,t,s,null,l)}}function Sc(e){return e=Cr(e),Cc(e)}var Ii=null;function Cc(e){if(Ii=null,e=Jl(e),e!==null){var t=g(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=y(t),e!==null)return e;e=null}else if(l===31){if(e=b(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ii=e,null}function Uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case Ct:return 2;case Nl:return 8;case va:case Vn:return 32;case fe:return 268435456;default:return 32}default:return 32}}var kc=!1,xl=null,pl=null,gl=null,kn=new Map,zn=new Map,vl=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hh(e,t){switch(e){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":kn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(t.pointerId)}}function En(e,t,l,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Fl(t),t!==null&&Oh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Y0(e,t,l,s,n){switch(t){case"focusin":return xl=En(xl,e,t,l,s,n),!0;case"dragenter":return pl=En(pl,e,t,l,s,n),!0;case"mouseover":return gl=En(gl,e,t,l,s,n),!0;case"pointerover":var i=n.pointerId;return kn.set(i,En(kn.get(i)||null,e,t,l,s,n)),!0;case"gotpointercapture":return i=n.pointerId,zn.set(i,En(zn.get(i)||null,e,t,l,s,n)),!0}return!1}function Zh(e){var t=Jl(e.target);if(t!==null){var l=g(t);if(l!==null){if(t=l.tag,t===13){if(t=y(l),t!==null){e.blockedOn=t,Ce(e.priority,function(){Rh(l)});return}}else if(t===31){if(t=b(l),t!==null){e.blockedOn=t,Ce(e.priority,function(){Rh(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Sc(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Sr=s,l.target.dispatchEvent(s),Sr=null}else return t=Fl(l),t!==null&&Oh(t),e.blockedOn=l,!1;t.shift()}return!0}function Vh(e,t,l){Pi(e)&&l.delete(t)}function X0(){kc=!1,xl!==null&&Pi(xl)&&(xl=null),pl!==null&&Pi(pl)&&(pl=null),gl!==null&&Pi(gl)&&(gl=null),kn.forEach(Vh),zn.forEach(Vh)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,X0)))}var tr=null;function qh(e){tr!==e&&(tr=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tr===e&&(tr=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Cc(s||l)===null)continue;break}var i=Fl(l);i!==null&&(e.splice(t,3),t-=3,So(i,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function Ms(e){function t(k){return er(k,e)}xl!==null&&er(xl,e),pl!==null&&er(pl,e),gl!==null&&er(gl,e),kn.forEach(t),zn.forEach(t);for(var l=0;l<vl.length;l++){var s=vl[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<vl.length&&(l=vl[0],l.blockedOn===null);)Zh(l),l.blockedOn===null&&vl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],i=l[s+1],o=n[Ot]||null;if(typeof i=="function")o||qh(l);else if(o){var h=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[Ot]||null)h=o.formAction;else if(Cc(n)!==null)continue}else h=o.action;typeof h=="function"?l[s+1]=h:(l.splice(s,3),s-=3),qh(l)}}}function Yh(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return n=o})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function zc(e){this._internalRoot=e}ar.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var l=t.current,s=Kt();Bh(l,s,e,t,null,null)},ar.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bh(e.current,2,null,e,null,null),$i(),t[Ql]=null}};function ar(e){this._internalRoot=e}ar.prototype.unstable_scheduleHydration=function(e){if(e){var t=Q();e={blockedOn:null,target:e,priority:t};for(var l=0;l<vl.length&&t!==0&&t<vl[l].priority;l++);vl.splice(l,0,e),l===0&&Zh(e)}};var Xh=m.version;if(Xh!=="19.2.0")throw Error(u(527,Xh,"19.2.0"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=p(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var G0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{wl=lr.inject(G0),kt=lr}catch{}}return Mn.createRoot=function(e,t){if(!f(e))throw Error(u(299));var l=!1,s="",n=Id,i=Pd,o=em;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Dh(e,1,!1,null,null,l,s,null,n,i,o,Yh),e[Ql]=t.current,oc(e),new zc(t)},Mn.hydrateRoot=function(e,t,l){if(!f(e))throw Error(u(299));var s=!1,n="",i=Id,o=Pd,h=em,k=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(o=l.onCaughtError),l.onRecoverableError!==void 0&&(h=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),t=Dh(e,1,!0,t,l??null,s,n,k,i,o,h,Yh),t.context=Lh(null),l=t.current,s=Kt(),s=oe(s),n=ll(s),n.callback=null,sl(l,n,s),l=s,t.current.lanes=l,zt(t,l),wa(t),e[Ql]=t.current,oc(e),new ar(t)},Mn.version="19.2.0",Mn}var tf;function lp(){if(tf)return Mc.exports;tf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(m){console.error(m)}}return r(),Mc.exports=ap(),Mc.exports}var sp=lp();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var af="popstate";function np(r={}){function m(u,f){let{pathname:g,search:y,hash:b}=u.location;return Hc("",{pathname:g,search:y,hash:b},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function d(u,f){return typeof f=="string"?f:Rn(f)}return rp(m,d,null,r)}function st(r,m){if(r===!1||r===null||typeof r>"u")throw new Error(m)}function ma(r,m){if(!r){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function ip(){return Math.random().toString(36).substring(2,10)}function lf(r,m){return{usr:r.state,key:r.key,idx:m}}function Hc(r,m,d=null,u){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof m=="string"?$s(m):m,state:d,key:m&&m.key||u||ip()}}function Rn({pathname:r="/",search:m="",hash:d=""}){return m&&m!=="?"&&(r+=m.charAt(0)==="?"?m:"?"+m),d&&d!=="#"&&(r+=d.charAt(0)==="#"?d:"#"+d),r}function $s(r){let m={};if(r){let d=r.indexOf("#");d>=0&&(m.hash=r.substring(d),r=r.substring(0,d));let u=r.indexOf("?");u>=0&&(m.search=r.substring(u),r=r.substring(0,u)),r&&(m.pathname=r)}return m}function rp(r,m,d,u={}){let{window:f=document.defaultView,v5Compat:g=!1}=u,y=f.history,b="POP",v=null,p=N();p==null&&(p=0,y.replaceState({...y.state,idx:p},""));function N(){return(y.state||{idx:null}).idx}function M(){b="POP";let F=N(),L=F==null?null:F-p;p=F,v&&v({action:b,location:G.location,delta:L})}function D(F,L){b="PUSH";let le=Hc(G.location,F,L);p=N()+1;let O=lf(le,p),ie=G.createHref(le);try{y.pushState(O,"",ie)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;f.location.assign(ie)}g&&v&&v({action:b,location:G.location,delta:1})}function W(F,L){b="REPLACE";let le=Hc(G.location,F,L);p=N();let O=lf(le,p),ie=G.createHref(le);y.replaceState(O,"",ie),g&&v&&v({action:b,location:G.location,delta:0})}function te(F){return op(F)}let G={get action(){return b},get location(){return r(f,y)},listen(F){if(v)throw new Error("A history only accepts one active listener");return f.addEventListener(af,M),v=F,()=>{f.removeEventListener(af,M),v=null}},createHref(F){return m(f,F)},createURL:te,encodeLocation(F){let L=te(F);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:D,replace:W,go(F){return y.go(F)}};return G}function op(r,m=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),st(d,"No window.location.(origin|href) available to create URL");let u=typeof r=="string"?r:Rn(r);return u=u.replace(/ $/,"%20"),!m&&u.startsWith("//")&&(u=d+u),new URL(u,d)}function Nf(r,m,d="/"){return cp(r,m,d,!1)}function cp(r,m,d,u){let f=typeof m=="string"?$s(m):m,g=Ga(f.pathname||"/",d);if(g==null)return null;let y=wf(r);up(y);let b=null;for(let v=0;b==null&&v<y.length;++v){let p=jp(g);b=yp(y[v],p,u)}return b}function wf(r,m=[],d=[],u="",f=!1){let g=(y,b,v=f,p)=>{let N={relativePath:p===void 0?y.path||"":p,caseSensitive:y.caseSensitive===!0,childrenIndex:b,route:y};if(N.relativePath.startsWith("/")){if(!N.relativePath.startsWith(u)&&v)return;st(N.relativePath.startsWith(u),`Absolute route path "${N.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),N.relativePath=N.relativePath.slice(u.length)}let M=Xa([u,N.relativePath]),D=d.concat(N);y.children&&y.children.length>0&&(st(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${M}".`),wf(y.children,m,D,M,v)),!(y.path==null&&!y.index)&&m.push({path:M,score:gp(M,y.index),routesMeta:D})};return r.forEach((y,b)=>{var v;if(y.path===""||!((v=y.path)!=null&&v.includes("?")))g(y,b);else for(let p of Sf(y.path))g(y,b,!0,p)}),m}function Sf(r){let m=r.split("/");if(m.length===0)return[];let[d,...u]=m,f=d.endsWith("?"),g=d.replace(/\?$/,"");if(u.length===0)return f?[g,""]:[g];let y=Sf(u.join("/")),b=[];return b.push(...y.map(v=>v===""?g:[g,v].join("/"))),f&&b.push(...y),b.map(v=>r.startsWith("/")&&v===""?"/":v)}function up(r){r.sort((m,d)=>m.score!==d.score?d.score-m.score:vp(m.routesMeta.map(u=>u.childrenIndex),d.routesMeta.map(u=>u.childrenIndex)))}var dp=/^:[\w-]+$/,mp=3,hp=2,fp=1,xp=10,pp=-2,sf=r=>r==="*";function gp(r,m){let d=r.split("/"),u=d.length;return d.some(sf)&&(u+=pp),m&&(u+=hp),d.filter(f=>!sf(f)).reduce((f,g)=>f+(dp.test(g)?mp:g===""?fp:xp),u)}function vp(r,m){return r.length===m.length&&r.slice(0,-1).every((u,f)=>u===m[f])?r[r.length-1]-m[m.length-1]:0}function yp(r,m,d=!1){let{routesMeta:u}=r,f={},g="/",y=[];for(let b=0;b<u.length;++b){let v=u[b],p=b===u.length-1,N=g==="/"?m:m.slice(g.length)||"/",M=dr({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},N),D=v.route;if(!M&&p&&d&&!u[u.length-1].route.index&&(M=dr({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},N)),!M)return null;Object.assign(f,M.params),y.push({params:f,pathname:Xa([g,M.pathname]),pathnameBase:Cp(Xa([g,M.pathnameBase])),route:D}),M.pathnameBase!=="/"&&(g=Xa([g,M.pathnameBase]))}return y}function dr(r,m){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[d,u]=bp(r.path,r.caseSensitive,r.end),f=m.match(d);if(!f)return null;let g=f[0],y=g.replace(/(.)\/+$/,"$1"),b=f.slice(1);return{params:u.reduce((p,{paramName:N,isOptional:M},D)=>{if(N==="*"){let te=b[D]||"";y=g.slice(0,g.length-te.length).replace(/(.)\/+$/,"$1")}const W=b[D];return M&&!W?p[N]=void 0:p[N]=(W||"").replace(/%2F/g,"/"),p},{}),pathname:g,pathnameBase:y,pattern:r}}function bp(r,m=!1,d=!0){ma(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let u=[],f="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,b,v)=>(u.push({paramName:b,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(u.push({paramName:"*"}),f+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?f+="\\/*$":r!==""&&r!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,m?void 0:"i"),u]}function jp(r){try{return r.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return ma(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${m}).`),r}}function Ga(r,m){if(m==="/")return r;if(!r.toLowerCase().startsWith(m.toLowerCase()))return null;let d=m.endsWith("/")?m.length-1:m.length,u=r.charAt(d);return u&&u!=="/"?null:r.slice(d)||"/"}function Np(r,m="/"){let{pathname:d,search:u="",hash:f=""}=typeof r=="string"?$s(r):r;return{pathname:d?d.startsWith("/")?d:wp(d,m):m,search:kp(u),hash:zp(f)}}function wp(r,m){let d=m.replace(/\/+$/,"").split("/");return r.split("/").forEach(f=>{f===".."?d.length>1&&d.pop():f!=="."&&d.push(f)}),d.length>1?d.join("/"):"/"}function Lc(r,m,d,u){return`Cannot include a '${r}' character in a manually specified \`to.${m}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sp(r){return r.filter((m,d)=>d===0||m.route.path&&m.route.path.length>0)}function Qc(r){let m=Sp(r);return m.map((d,u)=>u===m.length-1?d.pathname:d.pathnameBase)}function Jc(r,m,d,u=!1){let f;typeof r=="string"?f=$s(r):(f={...r},st(!f.pathname||!f.pathname.includes("?"),Lc("?","pathname","search",f)),st(!f.pathname||!f.pathname.includes("#"),Lc("#","pathname","hash",f)),st(!f.search||!f.search.includes("#"),Lc("#","search","hash",f)));let g=r===""||f.pathname==="",y=g?"/":f.pathname,b;if(y==null)b=d;else{let M=m.length-1;if(!u&&y.startsWith("..")){let D=y.split("/");for(;D[0]==="..";)D.shift(),M-=1;f.pathname=D.join("/")}b=M>=0?m[M]:"/"}let v=Np(f,b),p=y&&y!=="/"&&y.endsWith("/"),N=(g||y===".")&&d.endsWith("/");return!v.pathname.endsWith("/")&&(p||N)&&(v.pathname+="/"),v}var Xa=r=>r.join("/").replace(/\/\/+/g,"/"),Cp=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kp=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zp=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ep(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cf=["POST","PUT","PATCH","DELETE"];new Set(Cf);var Ap=["GET",...Cf];new Set(Ap);var Os=c.createContext(null);Os.displayName="DataRouter";var mr=c.createContext(null);mr.displayName="DataRouterState";c.createContext(!1);var kf=c.createContext({isTransitioning:!1});kf.displayName="ViewTransition";var Mp=c.createContext(new Map);Mp.displayName="Fetchers";var _p=c.createContext(null);_p.displayName="Await";var ha=c.createContext(null);ha.displayName="Navigation";var Un=c.createContext(null);Un.displayName="Location";var fa=c.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var Fc=c.createContext(null);Fc.displayName="RouteError";function Tp(r,{relative:m}={}){st(Rs(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:u}=c.useContext(ha),{hash:f,pathname:g,search:y}=Zn(r,{relative:m}),b=g;return d!=="/"&&(b=g==="/"?d:Xa([d,g])),u.createHref({pathname:b,search:y,hash:f})}function Rs(){return c.useContext(Un)!=null}function Bt(){return st(Rs(),"useLocation() may be used only in the context of a <Router> component."),c.useContext(Un).location}var zf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ef(r){c.useContext(ha).static||c.useLayoutEffect(r)}function xa(){let{isDataRoute:r}=c.useContext(fa);return r?Xp():Dp()}function Dp(){st(Rs(),"useNavigate() may be used only in the context of a <Router> component.");let r=c.useContext(Os),{basename:m,navigator:d}=c.useContext(ha),{matches:u}=c.useContext(fa),{pathname:f}=Bt(),g=JSON.stringify(Qc(u)),y=c.useRef(!1);return Ef(()=>{y.current=!0}),c.useCallback((v,p={})=>{if(ma(y.current,zf),!y.current)return;if(typeof v=="number"){d.go(v);return}let N=Jc(v,JSON.parse(g),f,p.relative==="path");r==null&&m!=="/"&&(N.pathname=N.pathname==="/"?m:Xa([m,N.pathname])),(p.replace?d.replace:d.push)(N,p.state,p)},[m,d,g,f,r])}c.createContext(null);function Hn(){let{matches:r}=c.useContext(fa),m=r[r.length-1];return m?m.params:{}}function Zn(r,{relative:m}={}){let{matches:d}=c.useContext(fa),{pathname:u}=Bt(),f=JSON.stringify(Qc(d));return c.useMemo(()=>Jc(r,JSON.parse(f),u,m==="path"),[r,f,u,m])}function Lp(r,m){return Af(r,m)}function Af(r,m,d,u,f){var le;st(Rs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:g}=c.useContext(ha),{matches:y}=c.useContext(fa),b=y[y.length-1],v=b?b.params:{},p=b?b.pathname:"/",N=b?b.pathnameBase:"/",M=b&&b.route;{let O=M&&M.path||"";Mf(p,!M||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let D=Bt(),W;if(m){let O=typeof m=="string"?$s(m):m;st(N==="/"||((le=O.pathname)==null?void 0:le.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${O.pathname}" was given in the \`location\` prop.`),W=O}else W=D;let te=W.pathname||"/",G=te;if(N!=="/"){let O=N.replace(/^\//,"").split("/");G="/"+te.replace(/^\//,"").split("/").slice(O.length).join("/")}let F=Nf(r,{pathname:G});ma(M||F!=null,`No routes matched location "${W.pathname}${W.search}${W.hash}" `),ma(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${W.pathname}${W.search}${W.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Up(F&&F.map(O=>Object.assign({},O,{params:Object.assign({},v,O.params),pathname:Xa([N,g.encodeLocation?g.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?N:Xa([N,g.encodeLocation?g.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),y,d,u,f);return m&&L?c.createElement(Un.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...W},navigationType:"POP"}},L):L}function Bp(){let r=Yp(),m=Ep(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),d=r instanceof Error?r.stack:null,u="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:u},g={padding:"2px 4px",backgroundColor:u},y=null;return console.error("Error handled by React Router default ErrorBoundary:",r),y=c.createElement(c.Fragment,null,c.createElement("p",null," Hey developer "),c.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",c.createElement("code",{style:g},"ErrorBoundary")," or"," ",c.createElement("code",{style:g},"errorElement")," prop on your route.")),c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},m),d?c.createElement("pre",{style:f},d):null,y)}var $p=c.createElement(Bp,null),Op=class extends c.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,m){return m.location!==r.location||m.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:m.error,location:m.location,revalidation:r.revalidation||m.revalidation}}componentDidCatch(r,m){this.props.unstable_onError?this.props.unstable_onError(r,m):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?c.createElement(fa.Provider,{value:this.props.routeContext},c.createElement(Fc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rp({routeContext:r,match:m,children:d}){let u=c.useContext(Os);return u&&u.static&&u.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=m.route.id),c.createElement(fa.Provider,{value:r},d)}function Up(r,m=[],d=null,u=null,f=null){if(r==null){if(!d)return null;if(d.errors)r=d.matches;else if(m.length===0&&!d.initialized&&d.matches.length>0)r=d.matches;else return null}let g=r,y=d==null?void 0:d.errors;if(y!=null){let p=g.findIndex(N=>N.route.id&&(y==null?void 0:y[N.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),g=g.slice(0,Math.min(g.length,p+1))}let b=!1,v=-1;if(d)for(let p=0;p<g.length;p++){let N=g[p];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(v=p),N.route.id){let{loaderData:M,errors:D}=d,W=N.route.loader&&!M.hasOwnProperty(N.route.id)&&(!D||D[N.route.id]===void 0);if(N.route.lazy||W){b=!0,v>=0?g=g.slice(0,v+1):g=[g[0]];break}}}return g.reduceRight((p,N,M)=>{let D,W=!1,te=null,G=null;d&&(D=y&&N.route.id?y[N.route.id]:void 0,te=N.route.errorElement||$p,b&&(v<0&&M===0?(Mf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,G=null):v===M&&(W=!0,G=N.route.hydrateFallbackElement||null)));let F=m.concat(g.slice(0,M+1)),L=()=>{let le;return D?le=te:W?le=G:N.route.Component?le=c.createElement(N.route.Component,null):N.route.element?le=N.route.element:le=p,c.createElement(Rp,{match:N,routeContext:{outlet:p,matches:F,isDataRoute:d!=null},children:le})};return d&&(N.route.ErrorBoundary||N.route.errorElement||M===0)?c.createElement(Op,{location:d.location,revalidation:d.revalidation,component:te,error:D,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:u}):L()},null)}function Kc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hp(r){let m=c.useContext(Os);return st(m,Kc(r)),m}function Zp(r){let m=c.useContext(mr);return st(m,Kc(r)),m}function Vp(r){let m=c.useContext(fa);return st(m,Kc(r)),m}function Wc(r){let m=Vp(r),d=m.matches[m.matches.length-1];return st(d.route.id,`${r} can only be used on routes that contain a unique "id"`),d.route.id}function qp(){return Wc("useRouteId")}function Yp(){var u;let r=c.useContext(Fc),m=Zp("useRouteError"),d=Wc("useRouteError");return r!==void 0?r:(u=m.errors)==null?void 0:u[d]}function Xp(){let{router:r}=Hp("useNavigate"),m=Wc("useNavigate"),d=c.useRef(!1);return Ef(()=>{d.current=!0}),c.useCallback(async(f,g={})=>{ma(d.current,zf),d.current&&(typeof f=="number"?r.navigate(f):await r.navigate(f,{fromRouteId:m,...g}))},[r,m])}var nf={};function Mf(r,m,d){!m&&!nf[r]&&(nf[r]=!0,ma(!1,d))}c.memo(Gp);function Gp({routes:r,future:m,state:d,unstable_onError:u}){return Af(r,void 0,d,u,m)}function _s({to:r,replace:m,state:d,relative:u}){st(Rs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=c.useContext(ha);ma(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:g}=c.useContext(fa),{pathname:y}=Bt(),b=xa(),v=Jc(r,Qc(g),y,u==="path"),p=JSON.stringify(v);return c.useEffect(()=>{b(JSON.parse(p),{replace:m,state:d,relative:u})},[b,p,u,m,d]),null}function Ye(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qp({basename:r="/",children:m=null,location:d,navigationType:u="POP",navigator:f,static:g=!1}){st(!Rs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),b=c.useMemo(()=>({basename:y,navigator:f,static:g,future:{}}),[y,f,g]);typeof d=="string"&&(d=$s(d));let{pathname:v="/",search:p="",hash:N="",state:M=null,key:D="default"}=d,W=c.useMemo(()=>{let te=Ga(v,y);return te==null?null:{location:{pathname:te,search:p,hash:N,state:M,key:D},navigationType:u}},[y,v,p,N,M,D,u]);return ma(W!=null,`<Router basename="${y}"> is not able to match the URL "${v}${p}${N}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:c.createElement(ha.Provider,{value:b},c.createElement(Un.Provider,{children:m,value:W}))}function Jp({children:r,location:m}){return Lp(Zc(r),m)}function Zc(r,m=[]){let d=[];return c.Children.forEach(r,(u,f)=>{if(!c.isValidElement(u))return;let g=[...m,f];if(u.type===c.Fragment){d.push.apply(d,Zc(u.props.children,g));return}st(u.type===Ye,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!u.props.index||!u.props.children,"An index route cannot have child routes.");let y={id:u.props.id||g.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(y.children=Zc(u.props.children,g)),d.push(y)}),d}var cr="get",ur="application/x-www-form-urlencoded";function hr(r){return r!=null&&typeof r.tagName=="string"}function Fp(r){return hr(r)&&r.tagName.toLowerCase()==="button"}function Kp(r){return hr(r)&&r.tagName.toLowerCase()==="form"}function Wp(r){return hr(r)&&r.tagName.toLowerCase()==="input"}function Ip(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Pp(r,m){return r.button===0&&(!m||m==="_self")&&!Ip(r)}var sr=null;function eg(){if(sr===null)try{new FormData(document.createElement("form"),0),sr=!1}catch{sr=!0}return sr}var tg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bc(r){return r!=null&&!tg.has(r)?(ma(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ur}"`),null):r}function ag(r,m){let d,u,f,g,y;if(Kp(r)){let b=r.getAttribute("action");u=b?Ga(b,m):null,d=r.getAttribute("method")||cr,f=Bc(r.getAttribute("enctype"))||ur,g=new FormData(r)}else if(Fp(r)||Wp(r)&&(r.type==="submit"||r.type==="image")){let b=r.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||b.getAttribute("action");if(u=v?Ga(v,m):null,d=r.getAttribute("formmethod")||b.getAttribute("method")||cr,f=Bc(r.getAttribute("formenctype"))||Bc(b.getAttribute("enctype"))||ur,g=new FormData(b,r),!eg()){let{name:p,type:N,value:M}=r;if(N==="image"){let D=p?`${p}.`:"";g.append(`${D}x`,"0"),g.append(`${D}y`,"0")}else p&&g.append(p,M)}}else{if(hr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=cr,u=null,f=ur,y=r}return g&&f==="text/plain"&&(y=g,g=void 0),{action:u,method:d.toLowerCase(),encType:f,formData:g,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ic(r,m){if(r===!1||r===null||typeof r>"u")throw new Error(m)}function lg(r,m,d){let u=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return u.pathname==="/"?u.pathname=`_root.${d}`:m&&Ga(u.pathname,m)==="/"?u.pathname=`${m.replace(/\/$/,"")}/_root.${d}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${d}`,u}async function sg(r,m){if(r.id in m)return m[r.id];try{let d=await import(r.module);return m[r.id]=d,d}catch(d){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ng(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ig(r,m,d){let u=await Promise.all(r.map(async f=>{let g=m.routes[f.route.id];if(g){let y=await sg(g,d);return y.links?y.links():[]}return[]}));return ug(u.flat(1).filter(ng).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function rf(r,m,d,u,f,g){let y=(v,p)=>d[p]?v.route.id!==d[p].route.id:!0,b=(v,p)=>{var N;return d[p].pathname!==v.pathname||((N=d[p].route.path)==null?void 0:N.endsWith("*"))&&d[p].params["*"]!==v.params["*"]};return g==="assets"?m.filter((v,p)=>y(v,p)||b(v,p)):g==="data"?m.filter((v,p)=>{var M;let N=u.routes[v.route.id];if(!N||!N.hasLoader)return!1;if(y(v,p)||b(v,p))return!0;if(v.route.shouldRevalidate){let D=v.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:((M=d[0])==null?void 0:M.params)||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function rg(r,m,{includeHydrateFallback:d}={}){return og(r.map(u=>{let f=m.routes[u.route.id];if(!f)return[];let g=[f.module];return f.clientActionModule&&(g=g.concat(f.clientActionModule)),f.clientLoaderModule&&(g=g.concat(f.clientLoaderModule)),d&&f.hydrateFallbackModule&&(g=g.concat(f.hydrateFallbackModule)),f.imports&&(g=g.concat(f.imports)),g}).flat(1))}function og(r){return[...new Set(r)]}function cg(r){let m={},d=Object.keys(r).sort();for(let u of d)m[u]=r[u];return m}function ug(r,m){let d=new Set;return new Set(m),r.reduce((u,f)=>{let g=JSON.stringify(cg(f));return d.has(g)||(d.add(g),u.push({key:g,link:f})),u},[])}function _f(){let r=c.useContext(Os);return Ic(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dg(){let r=c.useContext(mr);return Ic(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Pc=c.createContext(void 0);Pc.displayName="FrameworkContext";function Tf(){let r=c.useContext(Pc);return Ic(r,"You must render this element inside a <HydratedRouter> element"),r}function mg(r,m){let d=c.useContext(Pc),[u,f]=c.useState(!1),[g,y]=c.useState(!1),{onFocus:b,onBlur:v,onMouseEnter:p,onMouseLeave:N,onTouchStart:M}=m,D=c.useRef(null);c.useEffect(()=>{if(r==="render"&&y(!0),r==="viewport"){let G=L=>{L.forEach(le=>{y(le.isIntersecting)})},F=new IntersectionObserver(G,{threshold:.5});return D.current&&F.observe(D.current),()=>{F.disconnect()}}},[r]),c.useEffect(()=>{if(u){let G=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(G)}}},[u]);let W=()=>{f(!0)},te=()=>{f(!1),y(!1)};return d?r!=="intent"?[g,D,{}]:[g,D,{onFocus:_n(b,W),onBlur:_n(v,te),onMouseEnter:_n(p,W),onMouseLeave:_n(N,te),onTouchStart:_n(M,W)}]:[!1,D,{}]}function _n(r,m){return d=>{r&&r(d),d.defaultPrevented||m(d)}}function hg({page:r,...m}){let{router:d}=_f(),u=c.useMemo(()=>Nf(d.routes,r,d.basename),[d.routes,r,d.basename]);return u?c.createElement(xg,{page:r,matches:u,...m}):null}function fg(r){let{manifest:m,routeModules:d}=Tf(),[u,f]=c.useState([]);return c.useEffect(()=>{let g=!1;return ig(r,m,d).then(y=>{g||f(y)}),()=>{g=!0}},[r,m,d]),u}function xg({page:r,matches:m,...d}){let u=Bt(),{manifest:f,routeModules:g}=Tf(),{basename:y}=_f(),{loaderData:b,matches:v}=dg(),p=c.useMemo(()=>rf(r,m,v,f,u,"data"),[r,m,v,f,u]),N=c.useMemo(()=>rf(r,m,v,f,u,"assets"),[r,m,v,f,u]),M=c.useMemo(()=>{if(r===u.pathname+u.search+u.hash)return[];let te=new Set,G=!1;if(m.forEach(L=>{var O;let le=f.routes[L.route.id];!le||!le.hasLoader||(!p.some(ie=>ie.route.id===L.route.id)&&L.route.id in b&&((O=g[L.route.id])!=null&&O.shouldRevalidate)||le.hasClientLoader?G=!0:te.add(L.route.id))}),te.size===0)return[];let F=lg(r,y,"data");return G&&te.size>0&&F.searchParams.set("_routes",m.filter(L=>te.has(L.route.id)).map(L=>L.route.id).join(",")),[F.pathname+F.search]},[y,b,u,f,p,m,r,g]),D=c.useMemo(()=>rg(N,f),[N,f]),W=fg(N);return c.createElement(c.Fragment,null,M.map(te=>c.createElement("link",{key:te,rel:"prefetch",as:"fetch",href:te,...d})),D.map(te=>c.createElement("link",{key:te,rel:"modulepreload",href:te,...d})),W.map(({key:te,link:G})=>c.createElement("link",{key:te,nonce:d.nonce,...G})))}function pg(...r){return m=>{r.forEach(d=>{typeof d=="function"?d(m):d!=null&&(d.current=m)})}}var Df=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Df&&(window.__reactRouterVersion="7.9.5")}catch{}function gg({basename:r,children:m,window:d}){let u=c.useRef();u.current==null&&(u.current=np({window:d,v5Compat:!0}));let f=u.current,[g,y]=c.useState({action:f.action,location:f.location}),b=c.useCallback(v=>{c.startTransition(()=>y(v))},[y]);return c.useLayoutEffect(()=>f.listen(b),[f,b]),c.createElement(Qp,{basename:r,children:m,location:g.location,navigationType:g.action,navigator:f})}var Lf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=c.forwardRef(function({onClick:m,discover:d="render",prefetch:u="none",relative:f,reloadDocument:g,replace:y,state:b,target:v,to:p,preventScrollReset:N,viewTransition:M,...D},W){let{basename:te}=c.useContext(ha),G=typeof p=="string"&&Lf.test(p),F,L=!1;if(typeof p=="string"&&G&&(F=p,Df))try{let j=new URL(window.location.href),T=p.startsWith("//")?new URL(j.protocol+p):new URL(p),R=Ga(T.pathname,te);T.origin===j.origin&&R!=null?p=R+T.search+T.hash:L=!0}catch{ma(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=Tp(p,{relative:f}),[O,ie,q]=mg(u,D),Z=bg(p,{replace:y,state:b,target:v,preventScrollReset:N,relative:f,viewTransition:M});function z(j){m&&m(j),j.defaultPrevented||Z(j)}let A=c.createElement("a",{...D,...q,href:F||le,onClick:L||g?m:z,ref:pg(W,ie),target:v,"data-discover":!G&&d==="render"?"true":void 0});return O&&!G?c.createElement(c.Fragment,null,A,c.createElement(hg,{page:le})):A});St.displayName="Link";var Vc=c.forwardRef(function({"aria-current":m="page",caseSensitive:d=!1,className:u="",end:f=!1,style:g,to:y,viewTransition:b,children:v,...p},N){let M=Zn(y,{relative:p.relative}),D=Bt(),W=c.useContext(mr),{navigator:te,basename:G}=c.useContext(ha),F=W!=null&&Cg(M)&&b===!0,L=te.encodeLocation?te.encodeLocation(M).pathname:M.pathname,le=D.pathname,O=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;d||(le=le.toLowerCase(),O=O?O.toLowerCase():null,L=L.toLowerCase()),O&&G&&(O=Ga(O,G)||O);const ie=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let q=le===L||!f&&le.startsWith(L)&&le.charAt(ie)==="/",Z=O!=null&&(O===L||!f&&O.startsWith(L)&&O.charAt(L.length)==="/"),z={isActive:q,isPending:Z,isTransitioning:F},A=q?m:void 0,j;typeof u=="function"?j=u(z):j=[u,q?"active":null,Z?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let T=typeof g=="function"?g(z):g;return c.createElement(St,{...p,"aria-current":A,className:j,ref:N,style:T,to:y,viewTransition:b},typeof v=="function"?v(z):v)});Vc.displayName="NavLink";var vg=c.forwardRef(({discover:r="render",fetcherKey:m,navigate:d,reloadDocument:u,replace:f,state:g,method:y=cr,action:b,onSubmit:v,relative:p,preventScrollReset:N,viewTransition:M,...D},W)=>{let te=wg(),G=Sg(b,{relative:p}),F=y.toLowerCase()==="get"?"get":"post",L=typeof b=="string"&&Lf.test(b),le=O=>{if(v&&v(O),O.defaultPrevented)return;O.preventDefault();let ie=O.nativeEvent.submitter,q=(ie==null?void 0:ie.getAttribute("formmethod"))||y;te(ie||O.currentTarget,{fetcherKey:m,method:q,navigate:d,replace:f,state:g,relative:p,preventScrollReset:N,viewTransition:M})};return c.createElement("form",{ref:W,method:F,action:G,onSubmit:u?v:le,...D,"data-discover":!L&&r==="render"?"true":void 0})});vg.displayName="Form";function yg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bf(r){let m=c.useContext(Os);return st(m,yg(r)),m}function bg(r,{target:m,replace:d,state:u,preventScrollReset:f,relative:g,viewTransition:y}={}){let b=xa(),v=Bt(),p=Zn(r,{relative:g});return c.useCallback(N=>{if(Pp(N,m)){N.preventDefault();let M=d!==void 0?d:Rn(v)===Rn(p);b(r,{replace:M,state:u,preventScrollReset:f,relative:g,viewTransition:y})}},[v,b,p,d,u,m,r,f,g,y])}var jg=0,Ng=()=>`__${String(++jg)}__`;function wg(){let{router:r}=Bf("useSubmit"),{basename:m}=c.useContext(ha),d=qp();return c.useCallback(async(u,f={})=>{let{action:g,method:y,encType:b,formData:v,body:p}=ag(u,m);if(f.navigate===!1){let N=f.fetcherKey||Ng();await r.fetch(N,d,f.action||g,{preventScrollReset:f.preventScrollReset,formData:v,body:p,formMethod:f.method||y,formEncType:f.encType||b,flushSync:f.flushSync})}else await r.navigate(f.action||g,{preventScrollReset:f.preventScrollReset,formData:v,body:p,formMethod:f.method||y,formEncType:f.encType||b,replace:f.replace,state:f.state,fromRouteId:d,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,m,d])}function Sg(r,{relative:m}={}){let{basename:d}=c.useContext(ha),u=c.useContext(fa);st(u,"useFormAction must be used inside a RouteContext");let[f]=u.matches.slice(-1),g={...Zn(r||".",{relative:m})},y=Bt();if(r==null){g.search=y.search;let b=new URLSearchParams(g.search),v=b.getAll("index");if(v.some(N=>N==="")){b.delete("index"),v.filter(M=>M).forEach(M=>b.append("index",M));let N=b.toString();g.search=N?`?${N}`:""}}return(!r||r===".")&&f.route.index&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(g.pathname=g.pathname==="/"?d:Xa([d,g.pathname])),Rn(g)}function Cg(r,{relative:m}={}){let d=c.useContext(kf);st(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Bf("useViewTransitionState"),f=Zn(r,{relative:m});if(!d.isTransitioning)return!1;let g=Ga(d.currentLocation.pathname,u)||d.currentLocation.pathname,y=Ga(d.nextLocation.pathname,u)||d.nextLocation.pathname;return dr(f.pathname,y)!=null||dr(f.pathname,g)!=null}const at={Dashboard:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Workers:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),Supervisor:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Chief:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Client:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Manpower:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),Driver:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),AddUser:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),Vehicle:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Zone:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.447-.894L15 4m0 13V4m0 0L9 7"})}),Profile:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Reports:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Payments:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),Folder:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),ChevronDown:()=>a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),ChevronRight:()=>a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),Logout:()=>a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})},kg=({isOpen:r,onClose:m})=>{var F;function d(){try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch{}window.dispatchEvent(new Event("auth-changed")),window.location.href="/login"}const u=[{name:"Dashboard",icon:a.jsx(at.Dashboard,{}),to:"/"},{name:"Manage Workers",icon:a.jsx(at.Workers,{}),to:"/manage-workers"},{name:"Workers",icon:a.jsx(at.Workers,{}),to:"/workers"},{name:"Supervisor Dashboard",icon:a.jsx(at.Supervisor,{}),to:"/supervisor-dashboard"},{name:"Services Supervision",icon:a.jsx(at.Supervisor,{}),to:"/supervisor/services"},{name:"Chief Dashboard",icon:a.jsx(at.Chief,{}),to:"/chief-dashboard"},{name:"Clients",icon:a.jsx(at.Client,{}),to:"/clients"},{name:"Day of Service Plan",icon:a.jsx(at.Folder,{}),to:"/chief-service-plan"},{name:"Client Dashboard",icon:a.jsx(at.Client,{}),to:"/client-dashboard"},{name:"Manpower Dashboard",icon:a.jsx(at.Manpower,{}),to:"/manpower-dashboard"},{name:"Driver Dashboard",icon:a.jsx(at.Driver,{}),to:"/driver-dashboard"},{name:"Register Client",icon:a.jsx(at.AddUser,{}),to:"/register-client"},{name:"Register Driver",icon:a.jsx(at.Driver,{}),to:"/register-driver"},{name:"Register Vehicle",icon:a.jsx(at.Vehicle,{}),to:"/register-vehicle"},{name:"Register Manpower",icon:a.jsx(at.Manpower,{}),to:"/register-manpower"},{name:"Add New Zone",icon:a.jsx(at.Zone,{}),to:"/add-zone"},{name:"Register Supervisor",icon:a.jsx(at.Supervisor,{}),to:"/register-supervisor"},{name:"Register Chief of Zone",icon:a.jsx(at.Chief,{}),to:"/register-chief"},{name:"My Profile",icon:a.jsx(at.Profile,{}),to:"/profile"},{name:"Reports",icon:a.jsx(at.Reports,{}),to:"/reports"},{name:"Payments",icon:a.jsx(at.Payments,{}),to:"/payments"}],f=typeof localStorage<"u"?localStorage.getItem("user"):null;let g=null;try{g=f?((F=JSON.parse(f))==null?void 0:F.role)??null:null}catch{}const y={manager:new Set(["/","/manage-workers","/workers","/register-supervisor","/register-driver","/register-vehicle","/register-chief","/add-zone","/profile","/reports","/register-manpower","/register-client","/clients","/payments"]),supervisor:new Set(["/supervisor-dashboard","/supervisor/services","/register-client","/profile","/reports","/clients","/payments"]),client:new Set(["/client-dashboard","/profile","/reports","/payments"]),chief:new Set(["/chief-dashboard","/chief-service-plan","/profile","/reports","/clients","/payments"]),manpower:new Set(["/manpower-dashboard","/profile","/reports"]),driver:new Set(["/driver-dashboard","/profile","/reports"])},b=g&&y[g]?y[g]:null,p=g==="supervisor"?"w-72":"w-64",N=b?u.filter(L=>b.has(L.to)):u,M=new Set(["/register-client","/register-driver","/register-vehicle","/register-manpower","/register-supervisor","/register-chief","/add-zone"]),D=N.filter(L=>M.has(L.to)),W=N.filter(L=>!M.has(L.to)),[te,G]=c.useState(!1);return a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-20 lg:hidden backdrop-blur-sm",onClick:m}),a.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-30
        ${p} bg-gradient-to-b from-neutral-900 to-neutral-800 text-gray-200 transform
        ${r?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 transition-all duration-300 ease-in-out
        flex flex-col shadow-2xl border-r border-neutral-700
      `,children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-neutral-700 bg-neutral-900/70",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-amber-600 to-amber-500 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"font-bold text-white text-sm",children:"UCS"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-base font-bold bg-gradient-to-r from-amber-400 to-amber-500 bg-clip-text text-transparent",children:"UCS Company"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Management System"})]})]}),a.jsx("button",{onClick:m,className:"lg:hidden p-2 rounded-lg hover:bg-neutral-800 transition-colors duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto text-sm",children:[W.map((L,le)=>a.jsxs(Vc,{to:L.to,className:({isActive:O})=>`group flex items-center space-x-3 p-2.5 rounded-xl transition-all duration-200 font-medium ${O?"bg-amber-500/10 text-amber-400 border-r-2 border-amber-400 shadow-lg":"text-gray-300 hover:bg-neutral-800/50 hover:text-white hover:translate-x-1"}`,onClick:m,children:[a.jsx("div",{className:"text-gray-400 group-hover:text-amber-400 transition-colors duration-200",children:L.icon}),a.jsx("span",{className:"font-medium tracking-wide",children:L.name})]},le)),D.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{onClick:()=>G(L=>!L),className:"w-full group flex items-center justify-between p-2.5 rounded-xl text-gray-300 hover:bg-neutral-800/50 hover:text-white transition-all duration-200",children:[a.jsxs("span",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-gray-400 group-hover:text-amber-400 transition-colors duration-200",children:a.jsx(at.Folder,{})}),a.jsx("span",{className:"font-medium tracking-wide",children:"Manage Registrations"})]}),a.jsx("span",{className:"text-gray-400 group-hover:text-amber-400 transition-transform duration-200",children:te?a.jsx(at.ChevronDown,{}):a.jsx(at.ChevronRight,{})})]}),te&&a.jsx("div",{className:"mt-1 ml-4 space-y-1 border-l border-neutral-700 pl-2 text-[13px]",children:D.map((L,le)=>a.jsxs(Vc,{to:L.to,className:({isActive:O})=>`group flex items-center space-x-3 p-2 rounded-lg transition-all duration-200 ${O?"bg-amber-500/10 text-amber-400 shadow-md":"text-gray-400 hover:bg-neutral-800/30 hover:text-white"}`,onClick:m,children:[a.jsx("div",{className:"text-gray-500 group-hover:text-amber-400 transition-colors duration-200",children:L.icon}),a.jsx("span",{className:"text-sm font-medium",children:L.name})]},`reg-${le}`))})]})]}),a.jsxs("div",{className:"p-3 border-t border-neutral-700 bg-neutral-900/40",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-2.5 rounded-xl bg-neutral-800/40",children:[a.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-amber-600 to-amber-400 rounded-full flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"font-semibold text-white text-sm",children:"AD"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[13px] font-semibold text-white truncate",children:"Admin User"}),a.jsx("p",{className:"text-xs text-gray-400 truncate",children:"admin@ucs.com"})]})]}),a.jsxs("button",{onClick:d,className:"mt-3 w-full group flex items-center justify-center space-x-2 bg-neutral-800/50 hover:bg-red-600/20 text-gray-300 hover:text-red-400 border border-neutral-700 hover:border-red-500/30 text-sm font-medium py-2 px-3 rounded-xl transition-all duration-200",children:[a.jsx(at.Logout,{}),a.jsx("span",{children:"Logout"})]})]})]})]})},zg=[{id:"c1",name:"Chief A"},{id:"c2",name:"Chief B"},{id:"c3",name:"Chief C"}],Eg=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState(""),[v,p]=c.useState(null),[N,M]=c.useState(null),[D,W]=c.useState(!1),[te,G]=c.useState(null);async function F(L){if(L.preventDefault(),M(null),G(null),!r.trim()||!d.trim()||!f.trim()||!y.trim()){M("All fields except chief assignment are required.");return}const le=localStorage.getItem("token");if(!le){M("You must be logged in to create a zone.");return}const O=v&&/^\d+$/.test(v)?Number(v):null,ie={zoneName:r,cell:d,village:f,description:y,assignedChief:O};try{W(!0);const Z=await fetch("http://localhost:4000/api/zones",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify(ie)}),z=await Z.json();if(!Z.ok)throw new Error((z==null?void 0:z.error)||"Failed to create zone");G("Zone created successfully."),m(""),u(""),g(""),b(""),p(null)}catch(q){M(q.message||"Failed to create zone")}finally{W(!1)}}return a.jsxs("div",{className:"p-6 max-w-3xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create a new one"}),a.jsxs("form",{onSubmit:F,className:"space-y-4",children:[N&&a.jsx("div",{className:"text-red-600",children:N}),te&&a.jsx("div",{className:"text-green-600",children:te}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zone Name"}),a.jsx("input",{value:r,onChange:L=>m(L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cell"}),a.jsx("input",{value:d,onChange:L=>u(L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Village"}),a.jsx("input",{value:f,onChange:L=>g(L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location Description"}),a.jsx("textarea",{value:y,onChange:L=>b(L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",rows:4,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign Chief (optional)"}),a.jsxs("select",{value:v??"",onChange:L=>p(L.target.value||null),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- None --"}),zg.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{type:"submit",disabled:D,className:`px-4 py-2 text-white rounded-md ${D?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:D?"Creating":"Create Zone"})})]})]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mg=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(m,d,u)=>u?u.toUpperCase():d.toLowerCase()),of=r=>{const m=Mg(r);return m.charAt(0).toUpperCase()+m.slice(1)},$f=(...r)=>r.filter((m,d,u)=>!!m&&m.trim()!==""&&u.indexOf(m)===d).join(" ").trim(),_g=r=>{for(const m in r)if(m.startsWith("aria-")||m==="role"||m==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=c.forwardRef(({color:r="currentColor",size:m=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:f="",children:g,iconNode:y,...b},v)=>c.createElement("svg",{ref:v,...Tg,width:m,height:m,stroke:r,strokeWidth:u?Number(d)*24/Number(m):d,className:$f("lucide",f),...!g&&!_g(b)&&{"aria-hidden":"true"},...b},[...y.map(([p,N])=>c.createElement(p,N)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(r,m)=>{const d=c.forwardRef(({className:u,...f},g)=>c.createElement(Dg,{ref:g,iconNode:m,className:$f(`lucide-${Ag(of(r))}`,`lucide-${r}`,u),...f}));return d.displayName=of(r),d};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cf=_t("badge-check",Lg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],$g=_t("briefcase",Bg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Rg=_t("calculator",Og);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Hg=_t("calendar-days",Ug);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Vg=_t("car",Zg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],On=_t("chart-column",qg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xg=_t("circle-check",Yg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Qg=_t("hourglass",Gg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],qc=_t("map-pinned",Jg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Kg=_t("message-square",Fg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ig=_t("receipt",Wg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ev=_t("truck",Pg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uf=_t("user-cog",tv);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eu=_t("user",av);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yc=_t("users",lv);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],tu=_t("wallet",sv),nv="http://localhost:4000",iv=()=>{var F;const[r,m]=c.useState(null),[d,u]=c.useState(!1),[f,g]=c.useState(null);function y(){const L=localStorage.getItem("token");L&&(u(!0),g(null),fetch(`${nv}/api/chief/dashboard`,{headers:{Authorization:`Bearer ${L}`}}).then(async le=>{const O=await le.json();if(!le.ok)throw new Error((O==null?void 0:O.error)||"Failed to load");m(O)}).catch(le=>g((le==null?void 0:le.message)||"Failed to load")).finally(()=>u(!1)))}c.useEffect(()=>{y();function L(){y()}return window.addEventListener("payments-updated",L),()=>{window.removeEventListener("payments-updated",L)}},[]);const b=(r==null?void 0:r.chiefName)||"-",v=(r==null?void 0:r.zoneName)||((F=r==null?void 0:r.zones)!=null&&F.length?"Multiple Zones":"-"),p=(r==null?void 0:r.clientsTotal)||0,N=(r==null?void 0:r.amountTotal)||0,M=(r==null?void 0:r.amountPaid)||0,D=(r==null?void 0:r.amountRemaining)??Math.max(0,N-M),W=(r==null?void 0:r.clientsPaid)||0,te=(r==null?void 0:r.clientsRemaining)??Math.max(0,p-W),G=(r==null?void 0:r.todayPayments)||0;return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[#1E1E1E]",children:"Chief of Zone Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Overview for chief and zone"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Chief"}),a.jsx("p",{className:"text-lg font-semibold text-[#1E1E1E]",children:b}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Zone"}),a.jsx("p",{className:"text-lg font-semibold text-[#1E1E1E]",children:v}),a.jsx("div",{className:"mt-2",children:a.jsx("button",{onClick:y,className:"text-[#D97706] hover:text-[#B45309] underline text-sm transition-colors",children:"Refresh"})})]})]}),f&&a.jsx("div",{className:"text-red-600",children:f}),d?a.jsx("div",{children:"Loading"}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 border border-amber-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Number of Clients"}),a.jsx("p",{className:"text-2xl font-bold text-[#1E1E1E] mt-2",children:p.toLocaleString()}),a.jsx("div",{className:"mt-2",children:a.jsx(St,{to:"/clients?scope=chief&filter=all",className:"text-[#D97706] hover:text-[#B45309] underline text-sm transition-colors",children:"View"})})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-amber-50 text-[#D97706]",children:a.jsx(Yc,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 border border-amber-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount To Be Paid"}),a.jsx("p",{className:"text-2xl font-bold text-[#1E1E1E] mt-2",children:N.toLocaleString()})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-amber-100 text-[#B45309]",children:a.jsx($g,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 border border-green-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Amount Paid"}),a.jsx("p",{className:"text-2xl font-bold text-[#1E1E1E] mt-2",children:M.toLocaleString()}),a.jsx("div",{className:"mt-2",children:a.jsx(St,{to:"/clients?scope=chief&filter=paid",className:"text-[#15803D] hover:text-[#166534] underline text-sm transition-colors",children:"View"})})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-green-50 text-[#15803D]",children:a.jsx(tu,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Remaining Amount"}),a.jsx("p",{className:"text-2xl font-bold text-[#1E1E1E] mt-2",children:D.toLocaleString()})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-amber-50 text-[#D97706]",children:a.jsx(Rg,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 border border-green-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clients Paid"}),a.jsx("p",{className:"text-2xl font-bold text-[#1E1E1E] mt-2",children:W.toLocaleString()}),a.jsx("div",{className:"mt-2",children:a.jsx(St,{to:"/clients?scope=chief&filter=paid",className:"text-[#15803D] hover:text-[#166534] underline text-sm transition-colors",children:"View"})})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-green-50 text-[#15803D]",children:a.jsx(Xg,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 border border-amber-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clients Remaining"}),a.jsx("p",{className:"text-2xl font-bold text-[#1E1E1E] mt-2",children:te.toLocaleString()}),a.jsx("div",{className:"mt-2",children:a.jsx(St,{to:"/clients?scope=chief&filter=remaining",className:"text-[#D97706] hover:text-[#B45309] underline text-sm transition-colors",children:"View"})})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-amber-50 text-[#D97706]",children:a.jsx(Qg,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 border border-green-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Payments"}),a.jsx("p",{className:"text-2xl font-bold text-[#1E1E1E] mt-2",children:G.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Payments received today"}),a.jsx("div",{className:"mt-2",children:a.jsx(St,{to:"/payments?scope=chief&filter=today",className:"text-[#15803D] hover:text-[#166534] underline text-sm transition-colors",children:"View"})})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-green-50 text-[#15803D]",children:a.jsx(Hg,{className:"h-8 w-8"})})]})})]})]})},Ts="http://localhost:4000",Sa={Client:()=>a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Payment:()=>a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),Phone:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),Check:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Loading:()=>a.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v4m0 12v4m8-10h-4M6 12H2"})}),Alert:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},rv=()=>{const r="John Client",[m,d]=c.useState(null),[u,f]=c.useState([]),[g,y]=c.useState([]),[b,v]=c.useState({}),p=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],N=c.useMemo(()=>u.map(j=>p[(Number(j)||1)-1]).filter(Boolean),[u]),[M,D]=c.useState(null),[W,te]=c.useState(0),[G,F]=c.useState(""),[L,le]=c.useState(!1),[O,ie]=c.useState({type:"idle"});c.useEffect(()=>{const j=localStorage.getItem("token");!j||!Ts||(async()=>{var T,R;try{const H=await fetch(`${Ts}/api/clients/me`,{headers:{Authorization:`Bearer ${j}`}}),X=await H.json();if(H.ok&&((T=X==null?void 0:X.client)!=null&&T.zone_id)){d(X.client.id),((R=X==null?void 0:X.client)==null?void 0:R.monthly_amount)!=null&&D(Number(X.client.monthly_amount));const V=await fetch(`${Ts}/api/zones/${X.client.zone_id}/service-days`,{headers:{Authorization:`Bearer ${j}`}}),J=await V.json();V.ok&&Array.isArray(J==null?void 0:J.serviceDays)&&f(J.serviceDays.map(_=>Number(_)).filter(_=>_>=1&&_<=7));const w=await fetch(`${Ts}/api/zones/${X.client.zone_id}/schedule`,{headers:{Authorization:`Bearer ${j}`}}),E=await w.json();w.ok&&Array.isArray(E==null?void 0:E.schedule)&&y(E.schedule);const ae=await fetch(`${Ts}/api/payments/statements`,{headers:{Authorization:`Bearer ${j}`}}),$=await ae.json();if(ae.ok&&Array.isArray($==null?void 0:$.payments)){const _=new Date,x=_.getFullYear(),U=_.getMonth(),K=$.payments.filter(S=>(S==null?void 0:S.client_id)===X.client.id&&(S==null?void 0:S.completed_at)).map(S=>({amt:Number(S.amount)||0,dt:new Date(S.completed_at)})).filter(({dt:S})=>S.getFullYear()===x&&S.getMonth()===U).reduce((S,{amt:re})=>S+re,0);te(K)}}}catch{}})()},[]);const q=j=>{if(!j||j.supervisor_status!=="complete"||!j.supervisor_decided_at)return!1;const T=new Date(j.supervisor_decided_at),R=new Date(T.getTime()+1440*60*1e3),H=new Date<=R,X=(j.complained_client_ids||[]).includes(m||-1);return H&&!X},Z=c.useMemo(()=>{const j=new Date;return g.filter(T=>{if(T.supervisor_status!=="complete"||!T.supervisor_decided_at)return!0;const R=new Date(T.supervisor_decided_at),H=new Date(R.getTime()+1440*60*1e3);return(T.complained_client_ids||[]).includes(m||-1)||j<=H})},[g,m]),z=async j=>{var R;const T=localStorage.getItem("token");if(T)try{v(V=>({...V,[j]:!0}));const H=await fetch(`${Ts}/api/clients/complaints`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({scheduleId:j})}),X=await H.json();H.ok&&((R=X==null?void 0:X.schedule)!=null&&R.complained_client_ids)&&y(V=>V.map(J=>J.id===j?{...J,complained_client_ids:X.schedule.complained_client_ids}:J))}finally{v(H=>({...H,[j]:!1}))}},A=async j=>{if(j.preventDefault(),!/^\+?\d{9,15}$/.test(G)){ie({type:"error",message:"Enter a valid phone number (9-15 digits, optionally starting with +)."});return}le(!0),ie({type:"pending",message:"Payment initiated. Please confirm on your phone"});try{await new Promise(T=>setTimeout(T,1500)),await new Promise(T=>setTimeout(T,3e3)),ie({type:"success",message:"Payment confirmed on your phone. Thank you!"})}catch{ie({type:"error",message:"Payment failed. Please try again."})}finally{le(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent",children:"Client Dashboard"}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Welcome back! Manage your payments and account"})]}),a.jsx("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Account Active"})]})})]}),a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Client Profile"}),a.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full font-medium",children:"Verified"})]}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:r}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Active client since 2024"})]}),a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Sa.Client,{})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center space-x-2 mb-2",children:a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Service Day"})}),a.jsx("p",{className:"text-slate-600",children:"The day of service in your zone is:"}),a.jsx("p",{className:"mt-2 text-2xl font-bold text-slate-900",children:N.length?N.join(", "):"Not set"})]})})}),a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center space-x-2 mb-2",children:a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Amount To Pay"})}),a.jsx("p",{className:"text-3xl font-bold text-slate-900",children:M!=null?`$${M.toLocaleString()}`:""}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Your monthly amount"}),M!=null&&a.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["Remaining this month: $",Math.max(0,M-W).toLocaleString()]})]}),a.jsx("div",{className:"text-4xl opacity-20",children:a.jsx(Sa.Payment,{})})]})}),a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Sa.Payment,{}),a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Amount Paid This Month"})]}),a.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["$",W.toLocaleString()]}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Total paid this month"}),M!=null&&a.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${W>=M?"bg-green-500":"bg-amber-500"}`}),a.jsx("span",{className:`text-sm font-medium ${W>=M?"text-green-600":"text-amber-600"}`,children:W>=M?"Payment up to date":"Payment pending"})]})]}),a.jsx("div",{className:"text-4xl opacity-20",children:a.jsx(Sa.Payment,{})})]})}),a.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"flex items-center space-x-2 mb-4",children:a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Service Schedule"})}),Z.length===0?a.jsx("div",{className:"text-slate-600",children:"No scheduled services yet."}):a.jsx("div",{className:"divide-y divide-slate-200",children:Z.map(j=>{var X,V;const T=p[(Number(j.service_day)||1)-1]||"",R=j.supervisor_status,H=R==null?{text:"Pending",cls:"bg-amber-50 text-amber-700 border-amber-200"}:R==="complete"?{text:"Completed",cls:"bg-emerald-50 text-emerald-700 border-emerald-200"}:{text:"Not Completed",cls:"bg-red-50 text-red-700 border-red-200"};return a.jsxs("div",{className:"py-4 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-900 font-semibold",children:T}),a.jsxs("div",{className:"text-slate-600 text-sm",children:[(X=j.service_start)==null?void 0:X.slice(0,5)," - ",(V=j.service_end)==null?void 0:V.slice(0,5)]}),a.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:[j.vehicle_plate?`Vehicle: ${j.vehicle_plate}`:"",j.vehicle_plate&&j.driver_username?"  ":"",j.driver_username?`Driver: ${j.driver_username}`:""]}),R==="not_complete"&&j.supervisor_reason&&a.jsxs("div",{className:"text-red-600 text-xs mt-1",children:["Reason: ",j.supervisor_reason]}),R==="complete"&&(j.complained_client_ids||[]).includes(m||-1)&&a.jsx("div",{className:"text-amber-700 text-xs mt-1",children:"Complaint submitted. Awaiting review."}),R==="complete"&&q(j)&&a.jsx("button",{className:"text-xs text-red-600 font-medium mt-2",onClick:()=>z(j.id),children:"My home not yet"})]}),a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-lg border ${H.cls}`,children:H.text})]},j.id)})})]}),a.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(Sa.Payment,{}),a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Make a Payment"})]}),O.type!=="idle"&&a.jsx("div",{className:`mb-6 p-4 rounded-xl border backdrop-blur-sm transition-all duration-300 ${O.type==="pending"?"bg-blue-50/80 border-blue-200 text-blue-700":O.type==="success"?"bg-green-50/80 border-green-200 text-green-700":O.type==="error"?"bg-red-50/80 border-red-200 text-red-700":""}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[O.type==="pending"&&a.jsx(Sa.Loading,{}),O.type==="success"&&a.jsx(Sa.Check,{}),O.type==="error"&&a.jsx(Sa.Alert,{}),a.jsx("span",{className:"font-medium",children:O.message})]})}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sa.Phone,{}),a.jsx("span",{children:"Phone Number"})]})}),a.jsx("input",{type:"tel",value:G,onChange:j=>F(j.target.value),placeholder:"e.g. +2507XXXXXXXX",className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",disabled:L}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Enter your mobile money phone number"})]}),a.jsx("button",{type:"submit",disabled:L,className:`w-full flex items-center justify-center space-x-2 py-4 rounded-xl font-semibold shadow-lg transition-all duration-200 ${L?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 hover:shadow-xl"}`,children:L?a.jsxs(a.Fragment,{children:[a.jsx(Sa.Loading,{}),a.jsx("span",{className:"text-white",children:"Processing Payment..."})]}):a.jsx("span",{className:"text-white",children:"Pay Now"})})]}),a.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Payment Information"}),a.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[a.jsx("li",{children:" Payments are processed via mobile money"}),a.jsx("li",{children:" You will receive an STK push notification"}),a.jsx("li",{children:" Standard transaction fees apply"}),a.jsx("li",{children:" Receipts are generated automatically"})]})]})]})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"View Payment History",Icon:On,onClick:()=>{},color:"text-indigo-600 bg-indigo-50"},{label:"Download Receipts",Icon:Ig,onClick:()=>{},color:"text-emerald-600 bg-emerald-50"},{label:"Update Profile",Icon:eu,onClick:()=>{},color:"text-blue-600 bg-blue-50"},{label:"Get Support",Icon:Kg,onClick:()=>{},color:"text-orange-600 bg-orange-50"}].map(({label:j,Icon:T,onClick:R,color:H},X)=>a.jsxs("button",{onClick:R,className:"flex flex-col items-center justify-center p-4 bg-slate-50 rounded-xl hover:bg-white border border-slate-200 hover:border-blue-200 transition-all duration-200 group hover:shadow-md",children:[a.jsx("span",{className:`mb-2 p-2 rounded-lg ${H}`,children:a.jsx(T,{className:"h-6 w-6"})}),a.jsx("span",{className:"text-sm font-medium text-slate-700 text-center group-hover:text-blue-600",children:j})]},X))})]})]})})},Vl="http://localhost:4000",ov=()=>{const r=xa(),m=Bt(),[d,u]=c.useState(null),[f,g]=c.useState([]),[y,b]=c.useState([]),[v,p]=c.useState({}),[N,M]=c.useState(null),[D,W]=c.useState(!1),[te,G]=c.useState(null),[F,L]=c.useState(""),[le,O]=c.useState([]),[ie,q]=c.useState(""),[Z,z]=c.useState(new Set),[A,j]=c.useState("");c.useEffect(()=>{const J=localStorage.getItem("token");J&&fetch(`${Vl}/api/me`,{headers:{Authorization:`Bearer ${J}`}}).then(async w=>{var ae;const E=await w.json();if(!w.ok)throw new Error((E==null?void 0:E.error)||"Failed to load user");u(((ae=E==null?void 0:E.user)==null?void 0:ae.role)??null)}).catch(()=>{})},[]),c.useEffect(()=>{const J=localStorage.getItem("token");!J||d!=="manager"||fetch(`${Vl}/api/report/supervisors`,{headers:{Authorization:`Bearer ${J}`}}).then(async w=>{const E=await w.json();if(!w.ok)throw new Error((E==null?void 0:E.error)||"Failed to load supervisors");O(Array.isArray(E.supervisors)?E.supervisors:[])}).catch(()=>{})},[d]),c.useEffect(()=>{const J=localStorage.getItem("token");if(!J)return;if(W(!0),G(null),d==="chief"){fetch(`${Vl}/api/chief/clients`,{headers:{Authorization:`Bearer ${J}`}}).then(async E=>{const ae=await E.json();if(!E.ok)throw new Error((ae==null?void 0:ae.error)||"Failed to load clients");b(Array.isArray(ae.clients)?ae.clients:[])}).catch(E=>G((E==null?void 0:E.message)||"Failed to load")).finally(()=>W(!1));return}fetch(`${Vl}/api/zones${d==="supervisor"?"?scope=supervisor":""}`,{headers:{Authorization:`Bearer ${J}`}}).then(async E=>{const ae=await E.json();if(!E.ok)throw new Error((ae==null?void 0:ae.error)||"Failed to load zones");let $=(ae.zones||[]).map(_=>({id:_.id,zone_name:_.zone_name,cell:_.cell,village:_.village,chief_username:_.chief_username??null,client_count:Number(_.client_count||0)}));return d==="manager"&&ie&&($=(ae.zones||[]).filter(_=>String(_.supervisor_id||"")===ie).map(_=>({id:_.id,zone_name:_.zone_name,cell:_.cell,village:_.village,chief_username:_.chief_username??null,client_count:Number(_.client_count||0)}))),g($),$}).then(async E=>{const ae=localStorage.getItem("token");if(!ae)return;const $={};for(const _ of E)try{const x=await fetch(`${Vl}/api/clients/by-zone/${_.id}`,{headers:{Authorization:`Bearer ${ae}`}}),U=await x.json();x.ok&&($[_.id]=Array.isArray(U.clients)?U.clients:[])}catch{}p($)}).catch(E=>G((E==null?void 0:E.message)||"Failed to load")).finally(()=>W(!1))},[m.search,d,ie]);const T=c.useMemo(()=>{const J=F.toLowerCase().trim();return J?y.filter(w=>{var E,ae;return(w.username||"").toLowerCase().includes(J)||(w.phone_number||"").toLowerCase().includes(J)||`${((E=w.name)==null?void 0:E.first)||""} ${((ae=w.name)==null?void 0:ae.last)||""}`.trim().toLowerCase().includes(J)}):y},[y,F]),R=c.useMemo(()=>{const J=F.toLowerCase().trim();if(!J)return v;const w={};for(const[E,ae]of Object.entries(v))w[Number(E)]=ae.filter($=>{var _,x;return($.username||"").toLowerCase().includes(J)||($.phone_number||"").toLowerCase().includes(J)||`${((_=$.name)==null?void 0:_.first)||""} ${((x=$.name)==null?void 0:x.last)||""}`.trim().toLowerCase().includes(J)});return w},[v,F]);function H(J){z(w=>{const E=new Set(w);return E.has(J)?E.delete(J):E.add(J),E})}async function X(){const J=localStorage.getItem("token");if(!(!J||!Z.size)&&confirm(`Delete ${Z.size} client(s)?`)){W(!0);try{await Promise.all(Array.from(Z).map(async w=>{await fetch(`${Vl}/api/clients/${w}`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}})})),z(new Set),r(0)}finally{W(!1)}}}async function V(){const J=localStorage.getItem("token"),w=Number(A);if(!(!J||!Z.size||!Number.isFinite(w))){W(!0);try{await Promise.all(Array.from(Z).map(async E=>{await fetch(`${Vl}/api/clients/${E}/zone`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({zoneId:w})})})),z(new Set),r(0)}finally{W(!1)}}}return a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-2",children:a.jsx("button",{onClick:()=>r(-1),className:"text-blue-600 underline text-sm",children:" Back"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Clients"}),a.jsxs("div",{className:"mb-4 flex flex-wrap items-end gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Search"}),a.jsx("input",{value:F,onChange:J=>L(J.target.value),className:"mt-1 border rounded px-3 py-2",placeholder:"Search by name, username or phone"})]}),d==="manager"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Supervisor"}),a.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:ie,onChange:J=>q(J.target.value),children:[a.jsx("option",{value:"",children:"All Supervisors"}),le.map(J=>a.jsx("option",{value:J.id,children:J.username},J.id))]})]})]}),te&&a.jsx("div",{className:"text-red-600 mb-3",children:te}),D?a.jsx("div",{children:"Loading"}):a.jsxs(a.Fragment,{children:[d==="chief"?a.jsx("div",{className:"overflow-x-auto bg-white border rounded shadow",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Photo"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[T.map(J=>{const w=J.name?`${J.name.first||""} ${J.name.last||""}`.trim():"";return a.jsxs("tr",{children:[a.jsx("td",{className:"px-3 py-2",children:J.profile_image_url?a.jsx("img",{src:J.profile_image_url,alt:"",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200"})}),a.jsx("td",{className:"px-3 py-2",children:w||J.username}),a.jsx("td",{className:"px-3 py-2",children:J.username}),a.jsx("td",{className:"px-3 py-2",children:J.phone_number}),a.jsx("td",{className:"px-3 py-2",children:J.monthly_amount!=null?Number(J.monthly_amount).toLocaleString():"-"}),a.jsx("td",{className:"px-3 py-2",children:a.jsx(St,{to:`/payments?scope=chief&clientId=${encodeURIComponent(String(J.id))}&clientName=${encodeURIComponent((J.name?`${J.name.first||""} ${J.name.last||""}`.trim():"")||J.username)}`,className:"px-2 py-1 text-sm bg-amber-500 text-black rounded",children:"Pay"})})]},J.id)}),!T.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-4 text-gray-600",colSpan:5,children:"No clients."})})]})]})}):a.jsxs("div",{className:"overflow-x-auto bg-white border rounded shadow",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10",children:"Sel"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Photo"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zone"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[f.flatMap(J=>{const w=R[J.id]||[],E=a.jsx("tr",{className:"bg-gray-50",children:a.jsx("td",{className:"px-3 py-2 text-gray-600",colSpan:6,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-semibold",children:[J.zone_name," ",a.jsxs("span",{className:"text-xs text-gray-500",children:["(#",J.id,")"]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Clients: ",w.length]})]})})},`zone-${J.id}`),ae=w.map($=>{const _=$.name?`${$.name.first||""} ${$.name.last||""}`.trim():"";return a.jsxs("tr",{children:[a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:Z.has($.id),onChange:()=>H($.id)})}),a.jsx("td",{className:"px-3 py-2",children:$.profile_image_url?a.jsx("img",{src:$.profile_image_url,alt:"",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200"})}),a.jsx("td",{className:"px-3 py-2",children:_||$.username}),a.jsx("td",{className:"px-3 py-2",children:$.username}),a.jsx("td",{className:"px-3 py-2",children:$.phone_number}),a.jsx("td",{className:"px-3 py-2",children:$.monthly_amount!=null?Number($.monthly_amount).toLocaleString():"-"}),a.jsx("td",{className:"px-3 py-2",children:J.zone_name})]},$.id)});return[E,...ae]}),!f.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-4 text-gray-600",colSpan:6,children:"No zones."})})]})]}),(d==="manager"||d==="supervisor")&&a.jsxs("div",{className:"p-3 border-t flex items-center gap-3",children:[a.jsx("button",{disabled:!Z.size,onClick:X,className:`px-3 py-2 rounded text-white ${Z.size?"bg-red-600":"bg-gray-300 cursor-not-allowed"}`,children:"Delete Selected"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border rounded px-2 py-2",value:A,onChange:J=>j(J.target.value),children:[a.jsx("option",{value:"",children:"Move to zone"}),f.map(J=>a.jsx("option",{value:J.id,children:J.zone_name},J.id))]}),a.jsx("button",{disabled:!Z.size||!A,onClick:V,className:`px-3 py-2 rounded text-white ${Z.size&&A?"bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:"Move Selected"})]})]})]}),N&&d==="chief"&&a.jsxs("div",{className:"mt-4 bg-white border rounded shadow p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Make Payment"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["For client: ",a.jsx("span",{className:"font-medium",children:(N.name?`${N.name.first||""} ${N.name.last||""}`.trim():"")||N.username})]})]}),a.jsx("button",{onClick:()=>M(null),className:"text-sm text-gray-600 hover:text-gray-800",children:"Clear"})]}),a.jsx("div",{className:"mt-3",children:a.jsx(St,{to:`/payments?scope=chief&clientId=${encodeURIComponent(String(N.id))}&clientName=${encodeURIComponent((N.name?`${N.name.first||""} ${N.name.last||""}`.trim():"")||N.username)}`,className:"inline-flex items-center px-4 py-2 rounded font-semibold text-black",style:{backgroundColor:"#FFCB05"},children:"Proceed to Payment"})})]})]})]})},df="http://localhost:4000",mf={TrendUp:()=>a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),TrendDown:()=>a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})},cv=()=>{const[r,m]=c.useState("monthly"),[d,u]=c.useState([]),[f,g]=c.useState(!1),[y,b]=c.useState(!1),[v,p]=c.useState([]),[N,M]=c.useState(new Date().getFullYear()),[D,W]=c.useState(new Date().getMonth()+1),te=q=>Number(q??0).toLocaleString(),[G,F]=c.useState({zones:{total:15,supervisors:45,chiefs:15},clients:{total:3247},manpower:{total:15680},vehicles:{total:892,drivers:945},payments:{currentMonth:245670,today:12345}}),[L,le]=c.useState({yearly:[],monthly:[],weekly:[],daily:[]});function O(q,Z,z){const A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j=Array.from({length:12},(S,re)=>({key:`${Z}-${String(re+1).padStart(2,"0")}`,label:A[re],year:Z,monthIdx:re})),T=new Map(j.map(S=>[S.key,0])),R=[0,0,0,0],H=`${Z}-${String(z).padStart(2,"0")}`,X=Array.from({length:5},(S,re)=>String(new Date().getFullYear()-(4-re))),V=new Map(X.map(S=>[S,0])),J=new Date,w=[],E=[];for(let S=6;S>=0;S--){const re=new Date(J);re.setDate(J.getDate()-S);const xe=`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}-${String(re.getDate()).padStart(2,"0")}`;E.push(xe),w.push(`Day ${7-S}`)}const ae=new Map(E.map(S=>[S,0])),$=Array.isArray(q)?q.filter(S=>{const re=String((S==null?void 0:S.status)||"").toLowerCase();return!(S!=null&&S.status)||re==="success"||re==="successful"}):[];for(const S of $){const re=Number(S.amount||0),xe=new Date(S.completed_at||S.created_at||S.updated_at||S.inserted_at||Date.now()),ye=`${xe.getFullYear()}-${String(xe.getMonth()+1).padStart(2,"0")}`;if(T.has(ye)&&T.set(ye,(T.get(ye)||0)+re),ye===H){const Ae=Math.min(4,Math.max(1,Math.ceil(xe.getDate()/7)));R[Ae-1]+=re}const ue=String(xe.getFullYear());V.has(ue)&&V.set(ue,(V.get(ue)||0)+re);const Ne=`${xe.getFullYear()}-${String(xe.getMonth()+1).padStart(2,"0")}-${String(xe.getDate()).padStart(2,"0")}`;ae.has(Ne)&&ae.set(Ne,(ae.get(Ne)||0)+re)}const _=j.map(S=>({month:S.label,amount:T.get(S.key)||0})),x=[{week:"Week 1",amount:R[0]},{week:"Week 2",amount:R[1]},{week:"Week 3",amount:R[2]},{week:"Week 4",amount:R[3]}],U=X.map(S=>({year:S,amount:V.get(S)||0})),K=E.map((S,re)=>({day:w[re],amount:ae.get(S)||0}));return{yearly:U,monthly:_,weekly:x,daily:K}}c.useEffect(()=>{const q={yearly:L.yearly,monthly:L.monthly,weekly:L.weekly,daily:L.daily};u(q[r]||[])},[r,L]),c.useEffect(()=>{let q=!1;async function Z(){try{g(!0);const z=localStorage.getItem("token");if(!z){u([{month:"Jan",amount:4e4},{month:"Feb",amount:32e3},{month:"Mar",amount:28e3},{month:"Apr",amount:35e3},{month:"May",amount:42e3},{month:"Jun",amount:38e3}]);return}const j=await(await fetch(`${df}/api/payments/completed`,{headers:{Authorization:`Bearer ${z}`}})).json(),T=Array.isArray(j==null?void 0:j.payments)?j.payments:[];if(!q){p(T);const R=O(T,N,D);le({yearly:R.yearly,monthly:R.monthly,weekly:R.weekly,daily:R.daily})}}catch{q||u([{month:"Jan",amount:4e4},{month:"Feb",amount:32e3},{month:"Mar",amount:28e3},{month:"Apr",amount:35e3},{month:"May",amount:42e3},{month:"Jun",amount:38e3}])}finally{q||g(!1)}}return Z(),()=>{q=!0}},[]),c.useEffect(()=>{const q=O(v,N,D);le({yearly:q.yearly,monthly:q.monthly,weekly:q.weekly,daily:q.daily})},[v,N,D]),c.useEffect(()=>{const q=localStorage.getItem("token");q&&(b(!0),fetch(`${df}/api/manager/dashboard`,{headers:{Authorization:`Bearer ${q}`}}).then(async Z=>{const z=await Z.json();if(!Z.ok)throw new Error((z==null?void 0:z.error)||"Failed to load dashboard");F(A=>({...A,zones:z.zones??A.zones,clients:z.clients??A.clients,manpower:z.manpower??A.manpower,vehicles:z.vehicles??A.vehicles,payments:z.payments??A.payments}))}).catch(Z=>console.error("Dashboard load error:",Z)).finally(()=>b(!1)))},[]);const ie=({title:q,value:Z,subtitle:z,icon:A,trend:j,trendValue:T,actionLabel:R,actionTo:H,gradient:X="from-amber-500 to-yellow-600"})=>a.jsx("div",{className:"group bg-white rounded-xl shadow-sm border border-zinc-100 p-4 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-zinc-500 mb-1",children:q}),a.jsx("p",{className:"text-2xl font-semibold text-zinc-900",children:y?"...":Z}),z&&a.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:z}),j&&typeof T=="number"&&a.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium mt-2 ${T>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[T>0?a.jsx(mf.TrendUp,{}):a.jsx(mf.TrendDown,{}),a.jsxs("span",{className:"ml-1",children:[Math.abs(T),"%"]})]}),R&&H&&a.jsx(St,{to:H,className:"block text-xs text-amber-600 mt-2 hover:underline transition-colors",children:R})]}),a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${X} shadow-sm`,children:a.jsx("div",{className:"text-white w-5 h-5",children:A})})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-zinc-800",children:"Business Dashboard"}),a.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Here's an overview of your operations today."})]}),a.jsxs("div",{className:"flex items-center mt-3 sm:mt-0 space-x-2 text-sm text-green-600",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"System Online"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[a.jsx(ie,{title:"Zones Managed",value:G.zones.total,subtitle:`${G.zones.supervisors} Supervisors  ${G.zones.chiefs} Chiefs`,icon:a.jsx(qc,{className:"w-5 h-5"}),actionLabel:"Manage zones",actionTo:"/zones",gradient:"from-amber-500 to-orange-500"}),a.jsx(ie,{title:"Total Clients",value:te(G.clients.total),subtitle:"Active clients",icon:a.jsx(Yc,{className:"w-5 h-5"}),trend:!0,trendValue:12.5,actionLabel:"Manage clients",actionTo:"/clients",gradient:"from-green-500 to-emerald-500"}),a.jsx(ie,{title:"Manpower",value:te(G.manpower.total),subtitle:"Total workforce",icon:a.jsx(uf,{className:"w-5 h-5"}),trend:!0,trendValue:8.2,actionLabel:"Manage manpower",actionTo:"/manpower-dashboard",gradient:"from-zinc-700 to-neutral-800"}),a.jsx(ie,{title:"Vehicles & Drivers",value:G.vehicles.total,subtitle:`${G.vehicles.drivers} Drivers`,icon:a.jsx(On,{className:"w-5 h-5"}),actionLabel:"Manage vehicles",actionTo:"/vehicles",gradient:"from-amber-600 to-orange-600"}),a.jsx(ie,{title:"Current Month Payments",value:`$${te(G.payments.currentMonth)}`,subtitle:"Total payments this month",icon:a.jsx(On,{className:"w-5 h-5"}),trend:!0,trendValue:15.3,gradient:"from-emerald-500 to-teal-600"}),a.jsx(ie,{title:"Today's Payments",value:`$${te(G.payments.today)}`,subtitle:"Payments received today",icon:a.jsx(On,{className:"w-5 h-5"}),gradient:"from-amber-600 to-yellow-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-zinc-100 p-5",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-5",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-zinc-800",children:"Payment Trends"}),a.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Visual overview of payment performance"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 md:mt-0",children:[a.jsx("button",{onClick:()=>m("yearly"),className:`px-3 py-1.5 rounded-md text-xs font-semibold ${r==="yearly"?"bg-amber-600 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:"Year"}),a.jsx("button",{onClick:()=>m("monthly"),className:`px-3 py-1.5 rounded-md text-xs font-semibold ${r==="monthly"?"bg-amber-600 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>m("weekly"),className:`px-3 py-1.5 rounded-md text-xs font-semibold ${r==="weekly"?"bg-amber-600 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:"Weekly"}),a.jsx("button",{onClick:()=>m("daily"),className:`px-3 py-1.5 rounded-md text-xs font-semibold ${r==="daily"?"bg-amber-600 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:"Daily"}),r==="yearly"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mx-1 text-zinc-400",children:"|"}),a.jsx("select",{value:N,onChange:q=>M(Number(q.target.value)),className:"text-xs bg-white border border-zinc-200 rounded-md px-2 py-1 text-zinc-700",children:L.yearly.map(q=>a.jsx("option",{value:Number(q.year),children:q.year},q.year))})]}),r==="monthly"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mx-1 text-zinc-400",children:"|"}),a.jsx("select",{value:N,onChange:q=>M(Number(q.target.value)),className:"text-xs bg-white border border-zinc-200 rounded-md px-2 py-1 text-zinc-700",children:L.yearly.map(q=>a.jsx("option",{value:Number(q.year),children:q.year},q.year))}),a.jsx("select",{value:D,onChange:q=>W(Number(q.target.value)),className:"text-xs bg-white border border-zinc-200 rounded-md px-2 py-1 text-zinc-700",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((q,Z)=>a.jsx("option",{value:Z+1,children:q},q))})]})]})]}),a.jsx("div",{className:"h-64 relative",children:f?a.jsx("div",{className:"h-full flex items-center justify-center text-zinc-500 text-sm",children:"Loading payments..."}):d.length===0?a.jsx("div",{className:"h-full flex items-center justify-center text-zinc-500 text-sm",children:"No payments to display"}):(()=>{const q=d.map(R=>Number(R.amount)||0),Z=Math.max(...q,1),z=Math.pow(10,Math.floor(Math.log10(Z))),A=Math.ceil(Z/z)*z,j=6,T=Array.from({length:j},(R,H)=>Math.round(A/(j-1)*H));return a.jsxs("div",{className:"h-full flex",children:[a.jsx("div",{className:"w-14 relative",children:T.map((R,H)=>{const X=100-R/A*100;return a.jsx("div",{className:"absolute left-0 w-full",style:{top:`${X}%`},children:a.jsx("div",{className:"-translate-y-1/2 flex items-center",children:a.jsx("span",{className:"text-[10px] text-zinc-500 w-10 text-right pr-2",children:R.toLocaleString()})})},H)})}),a.jsxs("div",{className:"flex-1 relative",children:[T.map((R,H)=>{const X=100-R/A*100;return a.jsx("div",{className:"absolute left-0 right-0",style:{top:`${X}%`},children:a.jsx("div",{className:`h-px ${H===0?"bg-zinc-300":"bg-zinc-100"}`})},H)}),a.jsx("div",{className:"absolute inset-x-0 bottom-6 top-2",children:a.jsx("div",{className:"h-full flex items-end justify-between px-4 gap-2",children:d.map((R,H)=>{const X=Number(R.amount)||0,V=Math.max(10,Math.min(100,X/A*100));return a.jsxs("div",{className:"flex-1 max-w-[80px] flex flex-col items-center group",children:[a.jsx("div",{className:"text-center mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:a.jsxs("div",{className:"bg-zinc-800 text-white text-xs px-2 py-1 rounded-md shadow-lg",children:["$",X.toLocaleString()]})}),a.jsx("div",{className:"w-3/4 bg-gradient-to-t from-amber-500 to-yellow-500 rounded-t-md transition-all duration-300 hover:opacity-90 cursor-pointer shadow-sm",style:{height:`${V}%`}})]},H)})})}),a.jsx("div",{className:"absolute left-0 right-0 bottom-0",children:a.jsx("div",{className:"flex justify-between items-center px-4",children:d.map((R,H)=>a.jsx("div",{className:"flex-1 text-center",children:a.jsx("p",{className:"text-[11px] font-medium text-zinc-600",children:R.month||R.week||R.year||R.day})},H))})})]})]})})()})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-zinc-100 p-5",children:[a.jsx("h3",{className:"text-base font-semibold text-zinc-800 mb-3",children:"Quick Actions"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Add New Zone",to:"/add-zone",Icon:qc,color:"text-amber-600 bg-amber-50"},{label:"Register Client",to:"/register-client",Icon:Yc,color:"text-emerald-600 bg-emerald-50"},{label:"View Reports",to:"/reports",Icon:On,color:"text-neutral-700 bg-neutral-50"},{label:"Manage Workers",to:"/manage-workers",Icon:uf,color:"text-orange-600 bg-orange-50"}].map(({label:q,to:Z,Icon:z,color:A},j)=>a.jsxs(St,{to:Z,className:"flex flex-col items-center justify-center p-3 bg-zinc-50 rounded-lg hover:bg-white border border-zinc-200 transition-all duration-200 group",children:[a.jsx("span",{className:`mb-1.5 p-1.5 rounded-md ${A}`,children:a.jsx(z,{className:"h-5 w-5"})}),a.jsx("span",{className:"text-xs font-medium text-zinc-700 text-center group-hover:text-amber-600",children:q})]},j))})]})]})},uv="http://localhost:4000",dv=()=>{const[r,m]=c.useState({name:"",plateNumber:null,salary:null,zones:[]}),[d,u]=c.useState(!1);return c.useEffect(()=>{const f=localStorage.getItem("token");f&&(u(!0),fetch(`${uv}/api/me`,{headers:{Authorization:`Bearer ${f}`}}).then(async g=>{const y=await g.json();if(!g.ok)throw new Error((y==null?void 0:y.error)||"Failed to load profile");m(b=>{var v;return{...b,name:((v=y==null?void 0:y.user)==null?void 0:v.username)||"",plateNumber:b.plateNumber,salary:b.salary,zones:b.zones}})}).catch(g=>console.error("Load driver profile error:",g)).finally(()=>u(!1)))},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-zinc-800 to-indigo-600 bg-clip-text text-transparent",children:"Driver Dashboard"}),a.jsx("p",{className:"text-zinc-600 mt-2",children:"Your vehicle assignment and routes overview"})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0 text-sm text-zinc-500",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Profile Active"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Name"}),a.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:d?"":r.name||"-"})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-indigo-50 text-indigo-600",children:a.jsx(eu,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Assigned Car (Plate)"}),a.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:d?"":r.plateNumber??"Not assigned"})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-amber-50 text-amber-600",children:a.jsx(Vg,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Salary"}),a.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:d?"":r.salary!=null?`$${r.salary}`:"Not set"})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-emerald-50 text-emerald-600",children:a.jsx(tu,{className:"h-8 w-8"})})]})})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qc,{className:"h-5 w-5 text-indigo-600"}),a.jsx("div",{className:"text-sm font-semibold text-zinc-700",children:"Assigned Zones"})]})}),d?"":r.zones.length?a.jsx("ul",{className:"list-disc pl-6 text-zinc-800",children:r.zones.map((f,g)=>a.jsx("li",{children:f},g))}):a.jsx("div",{className:"text-zinc-600",children:"None"})]})]})},mv="http://localhost:4000",hv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState(!1),[v,p]=c.useState(!1),[N,M]=c.useState(null),D=xa();async function W(G){G.preventDefault(),M(null),p(!0);try{const F=await fetch(`${mv}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:d})}),L=await F.json();if(!F.ok)throw new Error((L==null?void 0:L.error)||"Login failed");localStorage.setItem("token",L.token),localStorage.setItem("user",JSON.stringify(L.user)),window.dispatchEvent(new Event("auth-changed")),m(""),u(""),D("/")}catch(F){M(F.message||"Login failed")}finally{p(!1)}}function te(G){if(G.preventDefault(),!f.trim()){alert("Enter your email to reset password.");return}console.log("Password reset for",f),alert("Password reset link sent (mock)."),g(""),b(!1)}return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-4",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-cyan-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:a.jsx("span",{className:"text-white font-bold text-xl",children:"UCS"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Welcome Back"}),a.jsx("p",{className:"text-blue-100/80 mt-2",children:"Sign in to your UCS account"})]}),a.jsxs("form",{onSubmit:W,className:"space-y-6",children:[N&&a.jsx("div",{className:"p-4 rounded-2xl bg-red-500/20 border border-red-500/30 backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-2 text-red-200",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm font-medium",children:N})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-blue-100 mb-2",children:"Username or Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("input",{value:r,onChange:G=>m(G.target.value),className:"block w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-blue-300/60 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm transition-all duration-200",placeholder:"Enter your username or email",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-blue-100 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{type:"password",value:d,onChange:G=>u(G.target.value),className:"block w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-blue-300/60 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm transition-all duration-200",placeholder:"Enter your password",required:!0})]})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("button",{type:"submit",disabled:v,className:`relative flex-1 py-3 px-4 rounded-2xl font-semibold transition-all duration-200 ${v?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-blue-500/25"}`,children:v?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{className:"text-white",children:"Signing in..."})]}):a.jsx("span",{className:"text-white",children:"Sign in"})})}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-blue-200/80 hover:text-white text-sm font-medium transition-colors duration-200",children:"Forgot your password?"})})]}),y&&a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm rounded-3xl flex items-center justify-center p-6",children:a.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-2xl p-6 w-full border border-white/10 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Reset Password"}),a.jsx("button",{onClick:()=>b(!1),className:"p-1 hover:bg-white/10 rounded-lg transition-colors duration-200",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:te,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-blue-100 mb-2",children:"Email Address"}),a.jsx("input",{value:f,onChange:G=>g(G.target.value),className:"block w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-blue-300/60 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your email address",type:"email"})]}),a.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[a.jsx("button",{type:"submit",className:"flex-1 py-3 bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-700 hover:to-cyan-700 text-white rounded-2xl font-semibold transition-all duration-200 shadow-lg hover:shadow-green-500/25",children:"Send Reset Link"}),a.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 bg-white/10 hover:bg-white/20 text-white rounded-2xl font-semibold transition-all duration-200 border border-white/10",children:"Cancel"})]})]})]})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsx("p",{className:"text-blue-200/60 text-sm",children:" 2024 UCS Company. Secure Management System"})})]})]})};function Xc({size:r=16,className:m=""}){const d={width:r,height:r,borderWidth:Math.max(2,Math.floor(r/8))};return a.jsx("span",{className:`inline-block align-middle rounded-full border-gray-300 border-t-transparent animate-spin ${m}`,style:d,"aria-label":"Loading",role:"status"})}const pt="http://localhost:4000",fv=()=>{const[r,m]=c.useState([]),[d,u]=c.useState([]),[f,g]=c.useState([]),[y,b]=c.useState([]),[v,p]=c.useState([]),[N,M]=c.useState([]),[D,W]=c.useState(!1),[te,G]=c.useState(null),[F,L]=c.useState(null),[le,O]=c.useState(""),[ie,q]=c.useState(""),[Z,z]=c.useState({}),[A,j]=c.useState({}),[T,R]=c.useState({}),[H,X]=c.useState({}),[V,J]=c.useState(""),[w,E]=c.useState({}),[ae,$]=c.useState({}),[_,x]=c.useState(""),[U,K]=c.useState(""),[S,re]=c.useState(""),[xe,ye]=c.useState(""),[ue,Ne]=c.useState(""),[Ae,Ie]=c.useState(""),[Tt,pa]=c.useState(""),[Pe,Qa]=c.useState(""),[Ue,nt]=c.useState({}),[he,ge]=c.useState({}),[be,ke]=c.useState({}),[Xe,It]=c.useState(""),[ot,ga]=c.useState(""),[Ct,Nl]=c.useState(""),[va,Vn]=c.useState(""),fe={primary:"#D97706",primaryHover:"#B45309",background:"#F3F4F6",cardBg:"#FFFFFF",border:"#E5E7EB",text:"#1E1E1E",textLight:"#6B7280",error:"#DC2626"};function yt(){const ne=localStorage.getItem("token");ne&&(W(!0),G(null),fetch(`${pt}/api/manageworkers/init`,{headers:{Authorization:`Bearer ${ne}`}}).then(async oe=>{const C=await oe.json();if(!oe.ok)throw new Error((C==null?void 0:C.error)||"Failed to load");const Q=(C.supervisors||[]).map(we=>({id:we.id,username:we.username,vehicles:Array.isArray(we.vehicles)?we.vehicles.map(Ve=>({id:Number(Ve.id),plate:String(Ve.plate)})):[],zones:Array.isArray(we.zones)?we.zones.map(Ve=>({id:Number(Ve.id),name:String(Ve.name)})):[]}));m(Q);const Ce=new Map((C.drivers||[]).map(we=>[Number(we.id),String(we.username)]));u((C.vehicles||[]).map(we=>({id:Number(we.id),plate:String(we.plate),manpower:Array.isArray(we.manpower)?we.manpower.map(Ve=>({manpower_id:Number(Ve.manpower_id),username:String(Ve.username)})):[],drivers:Array.isArray(we.drivers)?we.drivers.map(Ve=>({user_id:Number(Ve.user_id),username:Ce.get(Number(Ve.user_id))})):[]}))),g((C.zones||[]).map(we=>({id:Number(we.id),name:String(we.zone_name),assigned_chief:we.assigned_chief??null,supervisor_id:we.supervisor_id??null}))),b((C.chiefs||[]).map(we=>({id:Number(we.id),username:String(we.username)}))),p((C.drivers||[]).map(we=>({id:Number(we.id),username:String(we.username)}))),M((C.manpower||[]).map(we=>({id:Number(we.id),username:String(we.username)})))}).catch(oe=>G((oe==null?void 0:oe.message)||"Failed to load")).finally(()=>W(!1)))}async function fr(ne){const oe=localStorage.getItem("token");oe&&(await fetch(`${pt}/api/manageworkers/manpower/${ne}`,{method:"DELETE",headers:{Authorization:`Bearer ${oe}`}}),yt())}c.useEffect(()=>{yt()},[]);function wl(ne){L(ne.id),O(""),q("")}function kt(){L(null),O(""),q(""),z({})}async function ya(ne){const oe=localStorage.getItem("token");if(oe&&le!=="")try{nt(Q=>({...Q,[`saveVehicle-${ne}`]:!0}));const C=await fetch(`${pt}/api/manageworkers/supervisors/${ne}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`},body:JSON.stringify({vehicleId:Number(le)})});if(C.status===409)if(window.confirm("This vehicle is already assigned to another supervisor. Do you want to move it to this supervisor?"))await fetch(`${pt}/api/manageworkers/supervisors/${ne}/vehicle/move`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`},body:JSON.stringify({vehicleId:Number(le)})});else return;else if(!C.ok){const Q=await C.json().catch(()=>({}));throw new Error((Q==null?void 0:Q.error)||"Failed to assign vehicle")}}catch(C){G((C==null?void 0:C.message)||"Failed to assign/move vehicle")}finally{kt(),yt(),nt(C=>({...C,[`saveVehicle-${ne}`]:!1}))}}async function Dt(ne,oe){const C=localStorage.getItem("token");C&&(await fetch(`${pt}/api/manageworkers/supervisors/${ne}/vehicle/${oe}`,{method:"DELETE",headers:{Authorization:`Bearer ${C}`}}),yt())}async function xr(ne,oe){const C=localStorage.getItem("token");if(C)try{nt(Ce=>({...Ce,assignVehicleNoSup:!0}));const Q=await fetch(`${pt}/api/manageworkers/supervisors/${ne}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({vehicleId:oe})});if(Q.status===409)if(window.confirm("This vehicle is already assigned to another supervisor. Do you want to move it to this supervisor?"))await fetch(`${pt}/api/manageworkers/supervisors/${ne}/vehicle/move`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({vehicleId:oe})});else return;else if(!Q.ok){const Ce=await Q.json().catch(()=>({}));throw new Error((Ce==null?void 0:Ce.error)||"Failed to assign vehicle")}}catch(Q){G((Q==null?void 0:Q.message)||"Failed to assign/move vehicle")}finally{Ne(""),Ie(""),yt(),nt(Q=>({...Q,assignVehicleNoSup:!1}))}}async function pr(ne){const oe=localStorage.getItem("token");if(oe&&ie)try{nt(Q=>({...Q,[`addZone-${ne}`]:!0}));const C=await fetch(`${pt}/api/manageworkers/supervisors/${ne}/zones/add`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`},body:JSON.stringify({zoneId:Number(ie)})});if(C.status===409)if(await C.json().catch(()=>({})),window.confirm("This zone is already assigned to a supervisor. Do you want to move it to this supervisor?"))await fetch(`${pt}/api/manageworkers/supervisors/${ne}/zones/move`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`},body:JSON.stringify({zoneId:Number(ie)})});else return;else if(!C.ok){const Q=await C.json().catch(()=>({}));throw new Error((Q==null?void 0:Q.error)||"Failed to add zone")}}catch(C){G((C==null?void 0:C.message)||"Failed to add/move zone")}finally{q(""),yt(),nt(C=>({...C,[`addZone-${ne}`]:!1}))}}async function gr(ne,oe){const C=localStorage.getItem("token");if(C)try{nt(Ce=>({...Ce,assignZoneNoSup:!0}));const Q=await fetch(`${pt}/api/manageworkers/supervisors/${ne}/zones/add`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({zoneId:oe})});if(Q.status===409)if(await Q.json().catch(()=>({})),window.confirm("This zone is already assigned to a supervisor. Do you want to move it to this supervisor?"))await fetch(`${pt}/api/manageworkers/supervisors/${ne}/zones/move`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({zoneId:oe})});else return;else if(!Q.ok){const Ce=await Q.json().catch(()=>({}));throw new Error((Ce==null?void 0:Ce.error)||"Failed to add zone")}}catch(Q){G((Q==null?void 0:Q.message)||"Failed to add/move zone")}finally{pa(""),Qa(""),yt(),nt(Q=>({...Q,assignZoneNoSup:!1}))}}async function Xl(ne,oe){const C=localStorage.getItem("token");C&&(await fetch(`${pt}/api/manageworkers/supervisors/${ne}/zones/remove`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({zoneId:oe})}),yt())}async function Gl(ne,oe){const C=localStorage.getItem("token");if(!C)return;const Q=Number(oe);Number.isFinite(Q)&&(nt(Ce=>({...Ce,[`moveZone-${ne}`]:!0})),await fetch(`${pt}/api/manageworkers/supervisors/${Q}/zones/move`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({zoneId:ne})}),z(Ce=>({...Ce,[ne]:""})),yt(),nt(Ce=>({...Ce,[`moveZone-${ne}`]:!1})))}async function Ja(ne,oe){const C=localStorage.getItem("token");C&&(nt(Q=>({...Q,[`setChief-${ne}`]:!0})),await fetch(`${pt}/api/manageworkers/zones/${ne}/reassign-chief`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({chiefUserId:oe})}),yt(),nt(Q=>({...Q,[`setChief-${ne}`]:!1})))}async function ka(ne){const oe=localStorage.getItem("token");oe&&(nt(C=>({...C,[`removeChief-${ne}`]:!0})),await fetch(`${pt}/api/manageworkers/zones/${ne}/chief`,{method:"DELETE",headers:{Authorization:`Bearer ${oe}`}}),yt(),nt(C=>({...C,[`removeChief-${ne}`]:!1})))}async function Fa(ne,oe){const C=localStorage.getItem("token");C&&(nt(Q=>({...Q,[`assignDriver-${ne}`]:!0})),await fetch(`${pt}/api/manageworkers/drivers/${ne}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({vehicleId:oe})}),yt(),nt(Q=>({...Q,[`assignDriver-${ne}`]:!1})))}async function Sl(ne){const oe=localStorage.getItem("token");oe&&(await fetch(`${pt}/api/manageworkers/drivers/${ne}/vehicle`,{method:"DELETE",headers:{Authorization:`Bearer ${oe}`}}),yt())}async function qn(ne,oe){const C=localStorage.getItem("token");C&&(nt(Q=>({...Q,[`assignManpower-${ne}`]:!0})),await fetch(`${pt}/api/manageworkers/manpower/${ne}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({vehicleId:oe})}),yt(),nt(Q=>({...Q,[`assignManpower-${ne}`]:!1})))}async function Yn(ne){const oe=localStorage.getItem("token");oe&&(await fetch(`${pt}/api/manageworkers/manpower/${ne}/vehicle`,{method:"DELETE",headers:{Authorization:`Bearer ${oe}`}}),yt())}const Ka=({title:ne,number:oe})=>a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b",style:{borderColor:fe.border},children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white font-bold text-sm",style:{backgroundColor:fe.primary},children:oe}),a.jsx("h2",{className:"text-2xl font-bold",style:{color:fe.text},children:ne})]}),zt=({title:ne})=>a.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",style:{color:fe.text,borderColor:fe.border},children:ne}),$t=({children:ne,className:oe=""})=>a.jsx("div",{className:`rounded-lg shadow-sm border p-6 ${oe}`,style:{backgroundColor:fe.cardBg,borderColor:fe.border},children:ne}),Et=({children:ne,onClick:oe,disabled:C=!1,loading:Q=!1,className:Ce=""})=>a.jsxs("button",{onClick:oe,disabled:C||Q,className:`px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center gap-2 ${Ce}`,style:{backgroundColor:C?fe.textLight:fe.primary,cursor:C?"not-allowed":"pointer"},onMouseOver:we=>{!C&&!Q&&(we.currentTarget.style.backgroundColor=fe.primaryHover)},onMouseOut:we=>{!C&&!Q&&(we.currentTarget.style.backgroundColor=fe.primary)},children:[Q&&a.jsx(Xc,{size:16,className:"border-white/60 border-t-white"}),ne]}),Xn=({children:ne,onClick:oe,disabled:C=!1,className:Q=""})=>a.jsx("button",{onClick:oe,disabled:C,className:`px-4 py-2 rounded-lg font-medium border transition-colors ${Q}`,style:{color:fe.text,borderColor:fe.border,backgroundColor:"transparent",cursor:C?"not-allowed":"pointer"},onMouseOver:Ce=>{C||(Ce.currentTarget.style.backgroundColor=fe.background)},onMouseOut:Ce=>{C||(Ce.currentTarget.style.backgroundColor="transparent")},children:ne});return a.jsxs("div",{className:"p-6 space-y-8 min-h-screen",style:{backgroundColor:fe.background},children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:fe.text},children:"Manage Workers"}),a.jsx("p",{className:"text-lg",style:{color:fe.textLight},children:"Manage supervisors, chiefs, manpower, and drivers across your organization"})]}),te&&a.jsx("div",{className:"p-4 rounded-lg text-white font-medium text-center",style:{backgroundColor:fe.error},children:te}),D?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Xc,{size:32,className:"border-gray-400 border-t-gray-600"})}):a.jsxs("div",{className:"space-y-12 max-w-7xl mx-auto",children:[a.jsxs("section",{children:[a.jsx(Ka,{title:"Manage Supervisors",number:1}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.map(ne=>a.jsxs($t,{className:"hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",style:{color:fe.text},children:ne.username}),a.jsxs("span",{className:"text-sm",style:{color:fe.textLight},children:["ID: #",ne.id]})]}),F===ne.id?a.jsx(Xn,{onClick:kt,className:"text-sm px-3 py-1",children:"Close"}):a.jsx("button",{onClick:()=>wl(ne),className:"text-sm font-medium underline px-3 py-1 rounded",style:{color:fe.primary},children:"Manage"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",style:{color:fe.textLight},children:"Assigned Vehicles:"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:ne.vehicles&&ne.vehicles.length?ne.vehicles.map(oe=>a.jsx("span",{className:"px-2 py-1 text-xs rounded border",style:{borderColor:fe.border},children:oe.plate},oe.id)):a.jsx("span",{className:"text-sm",style:{color:fe.textLight},children:"None"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",style:{color:fe.textLight},children:"Zones:"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:ne.zones&&ne.zones.length?ne.zones.map(oe=>a.jsx("span",{className:"px-2 py-1 text-xs rounded border",style:{borderColor:fe.border},children:oe.name},oe.id)):a.jsx("span",{className:"text-sm",style:{color:fe.textLight},children:"None"})})]})]}),F===ne.id&&a.jsxs("div",{className:"space-y-4 border-t pt-4",style:{borderColor:fe.border},children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:fe.text},children:"Assign Vehicle"}),a.jsxs("select",{value:le,onChange:oe=>O(oe.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:border-amber-600 focus:ring-amber-600",style:{borderColor:fe.border},children:[a.jsx("option",{value:"",children:"Select a vehicle"}),d.map(oe=>a.jsx("option",{value:oe.id,children:oe.plate},oe.id))]}),a.jsx("div",{className:"mt-2",children:a.jsx(Et,{onClick:()=>ya(ne.id),disabled:!le||!!Ue[`saveVehicle-${ne.id}`],loading:!!Ue[`saveVehicle-${ne.id}`],className:"text-sm px-3 py-1",children:"Add Vehicle"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:fe.text},children:"Unassign Vehicles"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[ne.vehicles.map(oe=>a.jsxs("button",{onClick:()=>Dt(ne.id,oe.id),className:"px-3 py-1 text-xs rounded-lg border flex items-center gap-1 transition-colors",style:{borderColor:fe.border},onMouseOver:C=>C.currentTarget.style.backgroundColor=fe.background,onMouseOut:C=>C.currentTarget.style.backgroundColor="transparent",children:[oe.plate," ",a.jsx("span",{children:""})]},oe.id)),!ne.vehicles.length&&a.jsx("div",{className:"text-sm",style:{color:fe.textLight},children:"No vehicles to unassign"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:fe.text},children:"Add Zone"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:ie,onChange:oe=>q(oe.target.value),className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},children:[a.jsx("option",{value:"",children:"Select a zone"}),f.filter(oe=>!ne.zones.some(C=>C.id===oe.id)).map(oe=>a.jsx("option",{value:oe.id,children:oe.name},oe.id))]}),a.jsx(Et,{onClick:()=>pr(ne.id),disabled:!ie||!!Ue[`addZone-${ne.id}`],loading:!!Ue[`addZone-${ne.id}`],className:"text-sm px-3 py-1",children:"Add"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:fe.text},children:"Remove Zones"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[ne.zones.map(oe=>a.jsxs("button",{onClick:()=>Xl(ne.id,oe.id),className:"px-3 py-1 text-xs rounded-lg border flex items-center gap-1 transition-colors",style:{borderColor:fe.border},onMouseOver:C=>C.currentTarget.style.backgroundColor=fe.background,onMouseOut:C=>C.currentTarget.style.backgroundColor="transparent",children:[oe.name," ",a.jsx("span",{children:""})]},oe.id)),!ne.zones.length&&a.jsx("div",{className:"text-sm",style:{color:fe.textLight},children:"No zones to remove"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:fe.text},children:"Move Zones to Another Supervisor"}),a.jsxs("div",{className:"space-y-3",children:[ne.zones.map(oe=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm flex-1",style:{color:fe.text},children:oe.name}),a.jsxs("select",{value:Z[oe.id]||"",onChange:C=>z(Q=>({...Q,[oe.id]:C.target.value})),className:"border rounded-lg px-2 py-1 text-sm",style:{borderColor:fe.border},children:[a.jsx("option",{value:"",children:"Select supervisor"}),r.filter(C=>C.id!==ne.id).map(C=>a.jsx("option",{value:C.id,children:C.username},C.id))]}),a.jsx(Et,{onClick:()=>Gl(oe.id,Z[oe.id]),disabled:!Z[oe.id]||!!Ue[`moveZone-${oe.id}`],loading:!!Ue[`moveZone-${oe.id}`],className:"text-sm px-2 py-1",children:"Move"})]},oe.id)),!ne.zones.length&&a.jsx("div",{className:"text-sm",style:{color:fe.textLight},children:"No zones to move"})]})]})]})]},ne.id)),!r.length&&a.jsx($t,{children:a.jsx("div",{className:"text-center py-8",style:{color:fe.textLight},children:"No supervisors found"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs($t,{children:[a.jsx(zt,{title:"Unassigned Vehicles"}),(()=>{const ne=new Set;r.forEach(C=>(C.vehicles||[]).forEach(Q=>ne.add(Q.id)));const oe=d.filter(C=>!ne.has(C.id));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:ue,onChange:C=>Ne(C.target.value),children:[a.jsx("option",{value:"",children:"Select vehicle"}),oe.map(C=>a.jsx("option",{value:C.id,children:C.plate},C.id))]}),a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:Ae,onChange:C=>Ie(C.target.value),children:[a.jsx("option",{value:"",children:"Select supervisor"}),r.map(C=>a.jsx("option",{value:C.id,children:C.username},C.id))]}),a.jsx(Et,{disabled:!ue||!Ae||!!Ue.assignVehicleNoSup,loading:!!Ue.assignVehicleNoSup,onClick:()=>{const C=Number(ue),Q=Number(Ae);Number.isFinite(C)&&Number.isFinite(Q)&&xr(Q,C)},className:"text-sm whitespace-nowrap",children:"Assign"})]}),oe.length===0&&a.jsx("div",{className:"text-sm text-center py-4",style:{color:fe.textLight},children:"All vehicles are assigned to supervisors"})]})})()]}),a.jsxs($t,{children:[a.jsx(zt,{title:"Unassigned Zones"}),(()=>{const ne=new Set;r.forEach(C=>(C.zones||[]).forEach(Q=>ne.add(Q.id)));const oe=f.filter(C=>!ne.has(C.id));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:Tt,onChange:C=>pa(C.target.value),children:[a.jsx("option",{value:"",children:"Select zone"}),oe.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]}),a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:Pe,onChange:C=>Qa(C.target.value),children:[a.jsx("option",{value:"",children:"Select supervisor"}),r.map(C=>a.jsx("option",{value:C.id,children:C.username},C.id))]}),a.jsx(Et,{disabled:!Tt||!Pe||!!Ue.assignZoneNoSup,loading:!!Ue.assignZoneNoSup,onClick:()=>{const C=Number(Tt),Q=Number(Pe);Number.isFinite(C)&&Number.isFinite(Q)&&gr(Q,C)},className:"text-sm whitespace-nowrap",children:"Assign"})]}),oe.length===0&&a.jsx("div",{className:"text-sm text-center py-4",style:{color:fe.textLight},children:"All zones are assigned to supervisors"})]})})()]})]})]}),a.jsxs("section",{children:[a.jsx(Ka,{title:"Manage Chiefs",number:2}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs($t,{children:[a.jsx(zt,{title:"Chiefs and Their Zones"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[y.map(ne=>{const oe=f.filter(C=>C.assigned_chief===ne.id);return oe.length===0?null:a.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:fe.border},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"font-semibold",style:{color:fe.text},children:ne.username}),a.jsx("button",{onClick:()=>ge(C=>({...C,[ne.id]:!C[ne.id]})),className:"text-sm font-medium px-3 py-1 rounded border",style:{color:fe.primary,borderColor:fe.primary},children:he[ne.id]?"Done":"Manage"})]}),a.jsx("div",{className:"space-y-3",children:oe.map(C=>a.jsxs("div",{className:"flex items-center justify-between text-sm p-2 rounded border",style:{borderColor:fe.border},children:[a.jsx("span",{style:{color:fe.text},children:C.name}),he[ne.id]&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 text-xs rounded border",style:{borderColor:fe.border},disabled:!!Ue[`removeChief-${C.id}`],onClick:()=>ka(C.id),children:"Unassign"}),a.jsxs("select",{className:"border rounded px-2 py-1 text-xs",style:{borderColor:fe.border},value:be[C.id]||"",onChange:Q=>ke(Ce=>({...Ce,[C.id]:Q.target.value})),children:[a.jsx("option",{value:"",children:"Move to"}),y.filter(Q=>Q.id!==ne.id).map(Q=>a.jsx("option",{value:Q.id,children:Q.username},Q.id))]}),a.jsx(Et,{disabled:!be[C.id]||!!Ue[`setChief-${C.id}`],loading:!!Ue[`setChief-${C.id}`],onClick:()=>{const Q=Number(be[C.id]);Number.isFinite(Q)&&Ja(C.id,Q)},className:"text-xs px-2 py-1",children:"Move"})]})]},C.id))})]},ne.id)}),y.filter(ne=>f.some(oe=>oe.assigned_chief===ne.id)).length===0&&a.jsx("div",{className:"col-span-full text-center py-8",style:{color:fe.textLight},children:"No chiefs with assigned zones"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs($t,{children:[a.jsx(zt,{title:"Zones Needing Chiefs"}),(()=>{const ne=f.filter(C=>!C.assigned_chief),oe=y.filter(C=>f.every(Q=>Q.assigned_chief!==C.id));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:Xe,onChange:C=>It(C.target.value),children:[a.jsx("option",{value:"",children:"Select zone"}),ne.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]}),a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:ot,onChange:C=>ga(C.target.value),children:[a.jsx("option",{value:"",children:"Select chief"}),oe.map(C=>a.jsx("option",{value:C.id,children:C.username},C.id))]}),a.jsx(Et,{disabled:!Xe||!ot||!!Ue[`setChief-${Number(Xe)}`],loading:!!Ue[`setChief-${Number(Xe)}`],onClick:()=>{const C=Number(Xe),Q=Number(ot);Number.isFinite(C)&&Number.isFinite(Q)&&Ja(C,Q),It(""),ga("")},className:"text-sm whitespace-nowrap",children:"Assign"})]}),ne.length===0&&a.jsx("div",{className:"text-sm text-center py-4",style:{color:fe.textLight},children:"All zones have chiefs assigned"})]})})()]}),a.jsxs($t,{children:[a.jsx(zt,{title:"Chiefs Without Zones"}),(()=>{const ne=y.filter(C=>f.every(Q=>Q.assigned_chief!==C.id)),oe=f.filter(C=>!C.assigned_chief);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:Ct,onChange:C=>Nl(C.target.value),children:[a.jsx("option",{value:"",children:"Select chief"}),ne.map(C=>a.jsx("option",{value:C.id,children:C.username},C.id))]}),a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:va,onChange:C=>Vn(C.target.value),children:[a.jsx("option",{value:"",children:"Select zone"}),oe.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]}),a.jsx(Et,{disabled:!Ct||!va||!!Ue[`setChief-${Number(va)}`],loading:!!Ue[`setChief-${Number(va)}`],onClick:()=>{const C=Number(Ct),Q=Number(va);Number.isFinite(Q)&&Number.isFinite(C)&&Ja(Q,C),Nl(""),Vn("")},className:"text-sm whitespace-nowrap",children:"Assign"})]}),ne.length===0&&a.jsx("div",{className:"text-sm text-center py-4",style:{color:fe.textLight},children:"All chiefs have zones assigned"})]})})()]})]})]})]}),a.jsxs("section",{children:[a.jsx(Ka,{title:"Manage Manpower",number:3}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs($t,{children:[a.jsx(zt,{title:"Vehicles and Their Manpower"}),a.jsx("div",{className:"space-y-4",children:d.map(ne=>a.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:fe.border},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"font-semibold",style:{color:fe.text},children:ne.plate}),a.jsx("button",{onClick:()=>j(oe=>({...oe,[ne.id]:!oe[ne.id]})),className:"text-sm font-medium px-3 py-1 rounded border",style:{color:fe.primary,borderColor:fe.primary},children:A[ne.id]?"Done":"Manage"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(ne.manpower||[]).length===0&&a.jsx("div",{className:"text-sm",style:{color:fe.textLight},children:"No manpower assigned"}),(ne.manpower||[]).map(oe=>a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-3 py-2",style:{borderColor:fe.border},children:[a.jsx("span",{className:"text-sm",style:{color:fe.text},children:oe.username}),A[ne.id]&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 text-xs rounded border",style:{borderColor:fe.border},onClick:()=>Yn(oe.manpower_id),children:"Remove"}),a.jsxs("select",{className:"border rounded px-2 py-1 text-xs",style:{borderColor:fe.border},value:T[oe.manpower_id]||"",onChange:C=>R(Q=>({...Q,[oe.manpower_id]:C.target.value})),children:[a.jsx("option",{value:"",children:"Move to"}),d.filter(C=>C.id!==ne.id).map(C=>a.jsx("option",{value:C.id,children:C.plate},C.id))]}),a.jsx(Et,{disabled:!T[oe.manpower_id]||!!Ue[`assignManpower-${oe.manpower_id}`],loading:!!Ue[`assignManpower-${oe.manpower_id}`],onClick:()=>{const C=Number(T[oe.manpower_id]);Number.isFinite(C)&&qn(oe.manpower_id,C)},className:"text-xs px-2 py-1",children:"Move"})]})]},oe.manpower_id))]})]},ne.id))})]}),a.jsxs($t,{children:[a.jsx(zt,{title:"Unassigned Manpower"}),(()=>{const ne=new Set;d.forEach(C=>(C.manpower||[]).forEach(Q=>ne.add(Q.manpower_id)));const oe=N.filter(C=>!ne.has(C.id));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:V,onChange:C=>J(C.target.value),children:[a.jsx("option",{value:"",children:"Select vehicle"}),d.map(C=>a.jsx("option",{value:C.id,children:C.plate},C.id))]}),a.jsx(Et,{disabled:!V||Object.keys(H).filter(C=>H[Number(C)]).length===0,onClick:async()=>{const C=Object.keys(H).map(Number).filter(Ce=>H[Ce]),Q=Number(V);for(const Ce of C)await qn(Ce,Q);X({}),J("")},className:"text-sm whitespace-nowrap",children:"Assign Selected"}),a.jsx("button",{className:"px-4 py-2 rounded-lg font-medium border text-sm whitespace-nowrap",style:{borderColor:fe.error,color:fe.error},disabled:Object.keys(H).filter(C=>H[Number(C)]).length===0,onClick:async()=>{const C=Object.keys(H).map(Number).filter(Ce=>H[Ce]);if(!(!C.length||!window.confirm(`Delete ${C.length} manpower user(s)? This cannot be undone.`))){for(const Ce of C)await fr(Ce);X({})}},children:"Delete Selected"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[oe.map(C=>a.jsxs("label",{className:"flex items-center gap-3 border rounded-lg p-3 cursor-pointer transition-colors hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:!!H[C.id],onChange:Q=>X(Ce=>({...Ce,[C.id]:Q.target.checked})),className:"rounded",style:{accentColor:fe.primary}}),a.jsx("span",{className:"text-sm",style:{color:fe.text},children:C.username})]},C.id)),oe.length===0&&a.jsx("div",{className:"col-span-full text-center py-8",style:{color:fe.textLight},children:"No unassigned manpower"})]})]})})()]})]})]}),a.jsxs("section",{children:[a.jsx(Ka,{title:"Manage Drivers",number:4}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs($t,{children:[a.jsx(zt,{title:"Drivers and Their Vehicles"}),(()=>{const ne=[],oe=new Map(v.map(Q=>[Q.id,Q]));d.forEach(Q=>(Q.drivers||[]).forEach(Ce=>{const we=Ce.user_id&&oe.get(Ce.user_id);we&&ne.push({driver:we,vehicle:Q})}));const C=d.filter(Q=>!Q.drivers||Q.drivers.length===0);return a.jsxs("div",{className:"space-y-3",children:[ne.length===0&&a.jsx("div",{className:"text-center py-8",style:{color:fe.textLight},children:"No drivers currently assigned to vehicles"}),ne.map(({driver:Q,vehicle:Ce})=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",style:{borderColor:fe.border},children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",style:{color:fe.text},children:Q.username}),a.jsxs("span",{className:"ml-2",style:{color:fe.textLight},children:[" ",Ce.plate]})]}),a.jsx("div",{className:"flex items-center gap-2",children:w[Q.id]?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"px-3 py-1 text-xs rounded border",style:{borderColor:fe.border},disabled:!!Ue[`assignDriver-${Q.id}`],onClick:()=>Sl(Q.id),children:"Remove"}),a.jsxs("select",{className:"border rounded px-2 py-1 text-xs",style:{borderColor:fe.border},value:ae[Q.id]||"",onChange:we=>$(Ve=>({...Ve,[Q.id]:we.target.value})),children:[a.jsx("option",{value:"",children:"Move to"}),C.filter(we=>we.id!==Ce.id).map(we=>a.jsx("option",{value:we.id,children:we.plate},we.id))]}),a.jsx(Et,{disabled:!ae[Q.id]||!!Ue[`assignDriver-${Q.id}`],loading:!!Ue[`assignDriver-${Q.id}`],onClick:()=>{const we=Number(ae[Q.id]);Number.isFinite(we)&&Fa(Q.id,we)},className:"text-xs px-2 py-1",children:"Move"}),a.jsx("button",{className:"px-3 py-1 text-xs rounded border",style:{borderColor:fe.border},onClick:()=>E(we=>({...we,[Q.id]:!1})),children:"Done"})]}):a.jsx("button",{onClick:()=>E(we=>({...we,[Q.id]:!0})),className:"text-sm font-medium px-3 py-1 rounded border",style:{color:fe.primary,borderColor:fe.primary},children:"Manage"})})]},`${Q.id}-${Ce.id}`))]})})()]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs($t,{children:[a.jsx(zt,{title:"Drivers Without Vehicles"}),(()=>{const ne=new Set;d.forEach(Q=>(Q.drivers||[]).forEach(Ce=>ne.add(Ce.user_id)));const oe=v.filter(Q=>!ne.has(Q.id)),C=d.filter(Q=>!Q.drivers||Q.drivers.length===0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:_,onChange:Q=>x(Q.target.value),children:[a.jsx("option",{value:"",children:"Select driver"}),oe.map(Q=>a.jsx("option",{value:Q.id,children:Q.username},Q.id))]}),a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:U,onChange:Q=>K(Q.target.value),children:[a.jsx("option",{value:"",children:"Select vehicle"}),C.map(Q=>a.jsx("option",{value:Q.id,children:Q.plate},Q.id))]}),a.jsx(Et,{disabled:!_||!U||!!Ue[`assignDriver-${Number(_)}`],loading:!!Ue[`assignDriver-${Number(_)}`],onClick:()=>{const Q=Number(_),Ce=Number(U);Number.isFinite(Q)&&Number.isFinite(Ce)&&Fa(Q,Ce),x(""),K("")},className:"text-sm whitespace-nowrap",children:"Assign"})]}),oe.length===0&&a.jsx("div",{className:"text-sm text-center py-4",style:{color:fe.textLight},children:"All drivers have vehicles assigned"})]})})()]}),a.jsxs($t,{children:[a.jsx(zt,{title:"Vehicles Without Drivers"}),(()=>{const ne=new Set;d.forEach(Q=>(Q.drivers||[]).forEach(Ce=>ne.add(Ce.user_id)));const oe=v.filter(Q=>!ne.has(Q.id)),C=d.filter(Q=>!Q.drivers||Q.drivers.length===0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:S,onChange:Q=>re(Q.target.value),children:[a.jsx("option",{value:"",children:"Select vehicle"}),C.map(Q=>a.jsx("option",{value:Q.id,children:Q.plate},Q.id))]}),a.jsxs("select",{className:"flex-1 border rounded-lg px-3 py-2 text-sm",style:{borderColor:fe.border},value:xe,onChange:Q=>ye(Q.target.value),children:[a.jsx("option",{value:"",children:"Select driver"}),oe.map(Q=>a.jsx("option",{value:Q.id,children:Q.username},Q.id))]}),a.jsx(Et,{disabled:!S||!xe||!!Ue[`assignDriver-${Number(xe)}`],loading:!!Ue[`assignDriver-${Number(xe)}`],onClick:()=>{const Q=Number(S),Ce=Number(xe);Number.isFinite(Ce)&&Number.isFinite(Q)&&Fa(Ce,Q),re(""),ye("")},className:"text-sm whitespace-nowrap",children:"Assign"})]}),C.length===0&&a.jsx("div",{className:"text-sm text-center py-4",style:{color:fe.textLight},children:"All vehicles have drivers assigned"})]})})()]})]})]})]})]})]})},$c="http://localhost:4000",xv=()=>{const[r,m]=c.useState(null),[d,u]=c.useState(!1),[f,g]=c.useState(null),[y,b]=c.useState(""),[v,p]=c.useState([]),[N,M]=c.useState([]),[D,W]=c.useState([]),[te,G]=c.useState([]),[F,L]=c.useState([]),[le,O]=c.useState(null),[ie,q]=c.useState(!1);c.useEffect(()=>{const V=localStorage.getItem("token");V&&fetch(`${$c}/api/me`,{headers:{Authorization:`Bearer ${V}`}}).then(async J=>{var E;const w=await J.json();m(((E=w==null?void 0:w.user)==null?void 0:E.role)??null)}).catch(()=>{})},[]),c.useEffect(()=>{const V=localStorage.getItem("token");!V||r!=="manager"||(u(!0),g(null),fetch(`${$c}/api/manager/workers-summary`,{headers:{Authorization:`Bearer ${V}`}}).then(async J=>{const w=await J.json();if(!J.ok)throw new Error((w==null?void 0:w.error)||"Failed to load workers");p(Array.isArray(w.supervisors)?w.supervisors.map(E=>({id:E.id,username:E.username,first_name:E.first_name??null,last_name:E.last_name??null,salary:E.salary!=null?Number(E.salary):null,zones:Array.isArray(E.zones)?E.zones:[]})):[]),M(Array.isArray(w.chiefs)?w.chiefs.map(E=>({id:E.id,username:E.username,first_name:E.first_name??null,last_name:E.last_name??null,zones:Array.isArray(E.zones)?E.zones:[]})):[]),W(Array.isArray(w.manpower)?w.manpower.map(E=>({id:E.id,username:E.username,first_name:E.first_name??null,last_name:E.last_name??null,salary:E.salary!=null?Number(E.salary):null})):[]),G(Array.isArray(w.drivers)?w.drivers.map(E=>({id:E.id,username:E.username,first_name:E.first_name??null,last_name:E.last_name??null,salary:E.salary!=null?Number(E.salary):null})):[]),L(Array.isArray(w.vehicles)?w.vehicles:[])}).catch(J=>g((J==null?void 0:J.message)||"Failed to load workers")).finally(()=>u(!1)))},[r]);const Z=y.toLowerCase().trim(),z=c.useMemo(()=>Z?v.filter(V=>V.username.toLowerCase().includes(Z)):v,[Z,v]),A=c.useMemo(()=>Z?N.filter(V=>V.username.toLowerCase().includes(Z)):N,[Z,N]),j=c.useMemo(()=>Z?D.filter(V=>V.username.toLowerCase().includes(Z)):D,[Z,D]),T=c.useMemo(()=>Z?te.filter(V=>V.username.toLowerCase().includes(Z)):te,[Z,te]),R=c.useMemo(()=>Z?F.filter(V=>(V.plate||"").toLowerCase().includes(Z)):F,[Z,F]);async function H(V,J){const w=localStorage.getItem("token");if(!w)return;const E=Number(J);if(Number.isFinite(E)){q(!0);try{const ae=await fetch(`${$c}/api/manager/salaries`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({userId:V,amount:E})}),$=await ae.json();if(!ae.ok)throw new Error(($==null?void 0:$.error)||"Failed to save salary");const _=x=>x.map(U=>U.id===V?{...U,salary:E}:U);W(x=>_(x)),G(x=>_(x)),p(x=>x.map(U=>U.id===V?{...U,salary:E}:U)),O(null)}catch(ae){g((ae==null?void 0:ae.message)||"Failed to save salary")}finally{q(!1)}}}const X=({label:V,target:J})=>a.jsx("a",{href:J,className:"px-3 py-1 rounded bg-amber-100 text-amber-800 hover:bg-amber-200 text-sm",children:V});return r!=="manager"?a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Workers"}),a.jsx("div",{className:"text-red-600",children:"Only managers can view this page."})]}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Workers"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{label:"Supervisors",target:"#supervisors"}),a.jsx(X,{label:"Chiefs",target:"#chiefs"}),a.jsx(X,{label:"Manpower",target:"#manpower"}),a.jsx(X,{label:"Drivers",target:"#drivers"}),a.jsx(X,{label:"Vehicles",target:"#vehicles"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Search"}),a.jsx("input",{value:y,onChange:V=>b(V.target.value),className:"mt-1 border rounded px-3 py-2 w-full max-w-md",placeholder:"Search by username or plate"})]}),f&&a.jsx("div",{className:"text-red-600 mb-3",children:f}),d?a.jsxs("div",{className:"py-12 flex items-center gap-3 text-amber-700",children:[a.jsx(Xc,{size:24}),a.jsx("span",{children:"Loading"})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{id:"supervisors",className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 font-semibold border-b",children:"Supervisors"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Zones"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Salary"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Action"})]})}),a.jsxs("tbody",{children:[z.map(V=>{var J;return a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:[V.first_name,V.last_name].filter(Boolean).join(" ")||"-"}),a.jsx("td",{className:"px-4 py-3",children:V.username}),a.jsx("td",{className:"px-4 py-3",children:(J=V.zones)!=null&&J.length?V.zones.map(w=>w.name).join(", "):"-"}),a.jsx("td",{className:"px-4 py-3 text-right",children:V.salary!=null?Number(V.salary).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3",children:(le==null?void 0:le.userId)===V.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-32",value:le.amount,onChange:w=>O({userId:V.id,amount:w.target.value})}),a.jsx("button",{disabled:ie,onClick:()=>H(V.id,le.amount),className:"px-3 py-1 rounded bg-green-600 text-white",children:"Save"}),a.jsx("button",{disabled:ie,onClick:()=>O(null),className:"px-3 py-1 rounded bg-gray-200",children:"Cancel"})]}):a.jsx("button",{onClick:()=>O({userId:V.id,amount:V.salary!=null?String(V.salary):""}),className:"px-3 py-1 rounded bg-amber-500 text-black",children:"Edit Salary"})})]},V.id)}),!z.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:4,children:"No supervisors found."})})]})]})]}),a.jsxs("section",{id:"chiefs",className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 font-semibold border-b",children:"Chiefs"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Zones"})]})}),a.jsxs("tbody",{children:[A.map(V=>{var J;return a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:[V.first_name,V.last_name].filter(Boolean).join(" ")||"-"}),a.jsx("td",{className:"px-4 py-3",children:V.username}),a.jsx("td",{className:"px-4 py-3",children:(J=V.zones)!=null&&J.length?V.zones.map(w=>w.name).join(", "):"-"})]},V.id)}),!A.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:2,children:"No chiefs found."})})]})]})]}),a.jsxs("section",{id:"manpower",className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 font-semibold border-b",children:"Manpower"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Salary"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Action"})]})}),a.jsxs("tbody",{children:[j.map(V=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:[V.first_name,V.last_name].filter(Boolean).join(" ")||"-"}),a.jsx("td",{className:"px-4 py-3",children:V.username}),a.jsx("td",{className:"px-4 py-3 text-right",children:V.salary!=null?Number(V.salary).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3",children:(le==null?void 0:le.userId)===V.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-32",value:le.amount,onChange:J=>O({userId:V.id,amount:J.target.value})}),a.jsx("button",{disabled:ie,onClick:()=>H(V.id,le.amount),className:"px-3 py-1 rounded bg-green-600 text-white",children:"Save"}),a.jsx("button",{disabled:ie,onClick:()=>O(null),className:"px-3 py-1 rounded bg-gray-200",children:"Cancel"})]}):a.jsx("button",{onClick:()=>O({userId:V.id,amount:V.salary!=null?String(V.salary):""}),className:"px-3 py-1 rounded bg-amber-500 text-black",children:"Edit Salary"})})]},V.id)),!j.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:3,children:"No manpower found."})})]})]})]}),a.jsxs("section",{id:"drivers",className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 font-semibold border-b",children:"Drivers"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Salary"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Action"})]})}),a.jsxs("tbody",{children:[T.map(V=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:[V.first_name,V.last_name].filter(Boolean).join(" ")||"-"}),a.jsx("td",{className:"px-4 py-3",children:V.username}),a.jsx("td",{className:"px-4 py-3 text-right",children:V.salary!=null?Number(V.salary).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3",children:(le==null?void 0:le.userId)===V.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-32",value:le.amount,onChange:J=>O({userId:V.id,amount:J.target.value})}),a.jsx("button",{disabled:ie,onClick:()=>H(V.id,le.amount),className:"px-3 py-1 rounded bg-green-600 text-white",children:"Save"}),a.jsx("button",{disabled:ie,onClick:()=>O(null),className:"px-3 py-1 rounded bg-gray-200",children:"Cancel"})]}):a.jsx("button",{onClick:()=>O({userId:V.id,amount:V.salary!=null?String(V.salary):""}),className:"px-3 py-1 rounded bg-amber-500 text-black",children:"Edit Salary"})})]},V.id)),!T.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:3,children:"No drivers found."})})]})]})]}),a.jsxs("section",{id:"vehicles",className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 font-semibold border-b",children:"Vehicles"}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Plate"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Make"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Model"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Supervisor ID"})]})}),a.jsxs("tbody",{children:[R.map(V=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:V.plate}),a.jsx("td",{className:"px-4 py-3",children:V.make||""}),a.jsx("td",{className:"px-4 py-3",children:V.model||""}),a.jsx("td",{className:"px-4 py-3",children:V.supervisor_id??""})]},V.id)),!R.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:4,children:"No vehicles found."})})]})]})]})]})]})},hf="http://localhost:4000",pv=()=>{var b,v,p;const[,r]=c.useState(null),[m,d]=c.useState({name:"",salary:null,vehicle:null,driver:null,supervisor:null}),[u,f]=c.useState(!1),[g,y]=c.useState([]);return c.useEffect(()=>{const N=localStorage.getItem("token");N&&(f(!0),fetch(`${hf}/api/manpower/dashboard`,{headers:{Authorization:`Bearer ${N}`}}).then(async M=>{var te,G,F;const D=await M.json();if(!M.ok)throw new Error((D==null?void 0:D.error)||"Failed to load dashboard");r(D.user);const W=[(te=D==null?void 0:D.user)==null?void 0:te.first_name,(G=D==null?void 0:D.user)==null?void 0:G.last_name].filter(Boolean).join(" ")||((F=D==null?void 0:D.user)==null?void 0:F.username)||"";d({name:W,salary:(D==null?void 0:D.salary)??null,vehicle:(D==null?void 0:D.vehicle)??null,driver:(D==null?void 0:D.driver)??null,supervisor:(D==null?void 0:D.supervisor)??null})}).catch(M=>console.error("Load manpower profile error:",M)).finally(()=>f(!1)),fetch(`${hf}/api/manpower/schedule`,{headers:{Authorization:`Bearer ${N}`}}).then(async M=>{const D=await M.json();if(!M.ok)throw new Error((D==null?void 0:D.error)||"Failed to load schedule");y(Array.isArray(D.schedule)?D.schedule:[])}).catch(M=>console.error("Load manpower schedule error:",M)))},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-zinc-800 to-indigo-600 bg-clip-text text-transparent",children:"Manpower Dashboard"}),a.jsx("p",{className:"text-zinc-600 mt-2",children:"Your assignment and payroll overview"})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0 text-sm text-zinc-500",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Profile Active"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Name"}),a.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:u?"":m.name||"-"})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-indigo-50 text-indigo-600",children:a.jsx(eu,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Assigned Vehicle"}),a.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:u?"":((b=m.vehicle)==null?void 0:b.plate)||"Not assigned"}),a.jsxs("div",{className:"text-sm text-zinc-600 mt-2 flex items-center gap-1",children:[a.jsx(cf,{className:"w-4 h-4"})," Driver: ",u?"":((v=m.driver)==null?void 0:v.username)||"-"]}),a.jsxs("div",{className:"text-sm text-zinc-600 mt-1 flex items-center gap-1",children:[a.jsx(cf,{className:"w-4 h-4"})," Supervisor: ",u?"":((p=m.supervisor)==null?void 0:p.username)||"-"]})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-amber-50 text-amber-600",children:a.jsx(ev,{className:"h-8 w-8"})})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-zinc-600",children:"Salary"}),a.jsx("div",{className:"text-2xl font-bold text-zinc-900 mt-1",children:u?"":m.salary!=null?m.salary.toLocaleString():"Not set"})]}),a.jsx("div",{className:"shrink-0 p-2 rounded-lg bg-emerald-50 text-emerald-600",children:a.jsx(tu,{className:"h-8 w-8"})})]})})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[a.jsx("div",{className:"flex items-center space-x-2 mb-4",children:a.jsx("h2",{className:"text-xl font-bold text-zinc-800",children:"Service Schedule"})}),g.length===0?a.jsx("div",{className:"text-zinc-600",children:"No scheduled services yet."}):a.jsx("div",{className:"divide-y divide-zinc-200",children:g.map(N=>{var G,F;const D=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][(Number(N.service_day)||1)-1]||"",W=N.supervisor_status,te=W==null?{text:"Pending",cls:"bg-amber-50 text-amber-700 border-amber-200"}:W==="complete"?{text:"Completed",cls:"bg-emerald-50 text-emerald-700 border-emerald-200"}:{text:"Not Completed",cls:"bg-red-50 text-red-700 border-red-200"};return a.jsxs("div",{className:"py-4 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-zinc-900 font-semibold",children:D}),a.jsxs("div",{className:"text-zinc-600 text-sm",children:[(G=N.service_start)==null?void 0:G.slice(0,5)," - ",(F=N.service_end)==null?void 0:F.slice(0,5)]}),a.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:[N.vehicle_plate?`Vehicle: ${N.vehicle_plate}`:"",N.vehicle_plate&&N.driver_username?"  ":"",N.driver_username?`Driver: ${N.driver_username}`:""]}),W==="not_complete"&&N.supervisor_reason&&a.jsxs("div",{className:"text-red-600 text-xs mt-1",children:["Reason: ",N.supervisor_reason]})]}),a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-lg border ${te.cls}`,children:te.text})]},N.id)})})]})]})},nr="http://localhost:4000",gv=()=>{const r=Bt(),[m,d]=c.useState([]),[u,f]=c.useState([]),[g,y]=c.useState(!1),[b,v]=c.useState(null),[p,N]=c.useState(""),[M,D]=c.useState(""),[W,te]=c.useState(""),[G,F]=c.useState(!1),L=c.useMemo(()=>new URLSearchParams(r.search),[r.search]),le=L.get("clientId"),O=L.get("clientName");function ie(){const z=localStorage.getItem("token");if(!z)return;y(!0),v(null);const A=new URLSearchParams(r.search),j=A.get("scope"),T=A.get("filter"),R=[];j&&R.push(`scope=${encodeURIComponent(j)}`),T&&R.push(`filter=${encodeURIComponent(T)}`),j||R.push("mine=true");const H=R.length?`?${R.join("&")}`:"";Promise.all([fetch(`${nr}/api/payments/transactions${H}`,{headers:{Authorization:`Bearer ${z}`}}),fetch(`${nr}/api/payments/completed${H}`,{headers:{Authorization:`Bearer ${z}`}})]).then(async([X,V])=>{const J=await X.json(),w=await V.json();if(!X.ok)throw new Error((J==null?void 0:J.error)||"Failed to load pending");if(!V.ok)throw new Error((w==null?void 0:w.error)||"Failed to load completed");d(J.transactions||[]),f(w.payments||[])}).catch(X=>v((X==null?void 0:X.message)||"Failed to load payments")).finally(()=>y(!1))}c.useEffect(()=>{const j=`Pay for ${new Date().toLocaleString(void 0,{month:"long"})}`,T=O?`${j}  ${O}`:j;te(T),ie()},[r.search]);function q(z){z.preventDefault(),v(null);const A=localStorage.getItem("token");if(A){if(!p||!M){v("Amount and Phone are required");return}fetch(`${nr}/api/payments/transactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({amount:Number(p),phoneNumber:M,purpose:W||void 0,clientId:le?Number(le):void 0})}).then(async j=>{const T=await j.json();if(!j.ok)throw new Error((T==null?void 0:T.error)||"Failed to initiate payment");N(""),D(""),ie();try{window.dispatchEvent(new Event("payments-updated"))}catch{}}).catch(j=>v((j==null?void 0:j.message)||"Failed to initiate payment"))}}function Z(z){const A=localStorage.getItem("token");!A||!window.confirm(`Mark transaction #${z} as completed (success)?`)||fetch(`${nr}/api/payments/transactions/${z}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({status:"success"})}).then(async T=>{const R=await T.json();if(!T.ok)throw new Error((R==null?void 0:R.error)||"Failed to complete transaction");ie();try{window.dispatchEvent(new Event("payments-updated"))}catch{}}).catch(T=>v((T==null?void 0:T.message)||"Failed to complete transaction"))}return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent",children:"Payments"}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Initiate mobile money payments and track transactions"})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0 text-sm text-slate-500",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Service Available"})]})]}),O&&a.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-4 text-amber-900",children:["Paying for client: ",a.jsx("span",{className:"font-semibold",children:O})]}),b&&a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:b}),g&&a.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 text-slate-600",children:"Loading"}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[a.jsxs("div",{className:"mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Initiate Payment"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"px-3 py-1 rounded-xl text-black font-semibold",style:{backgroundColor:"#FFCB05"},children:"MTN MoMo"}),a.jsx("span",{className:"text-sm text-slate-600",children:"You will pay using MTN Mobile Money"})]})]}),a.jsxs("form",{onSubmit:q,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Amount"}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:p,onChange:z=>N(z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone"}),a.jsx("input",{className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:M,onChange:z=>D(z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Purpose"}),a.jsx("button",{type:"button",onClick:()=>F(z=>!z),className:"text-sm text-blue-600 underline",children:G?"Done":"Edit"})]}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 bg-white border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:W,onChange:z=>te(z.target.value),readOnly:!G})]}),a.jsx("div",{className:"md:col-span-1 flex items-end",children:a.jsx("button",{type:"submit",className:"w-full px-4 py-2 rounded-xl font-semibold text-black hover:brightness-95 transition-all duration-200 shadow-sm",style:{backgroundColor:"#FFCB05"},children:"Initiate MTN MoMo Payment"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Pending Transactions"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"#"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-3 py-2"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-slate-200",children:[m.map(z=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-3 py-2",children:z.id}),a.jsx("td",{className:"px-3 py-2",children:z.client_username||z.client_id}),a.jsxs("td",{className:"px-3 py-2",children:[z.amount," ",z.currency]}),a.jsx("td",{className:"px-3 py-2",children:z.phone_number}),a.jsx("td",{className:"px-3 py-2 text-right",children:a.jsx("button",{onClick:()=>Z(z.id),className:"px-2 py-1 text-sm bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors",children:"Mark Completed"})})]},z.id)),!m.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-3 text-slate-500",colSpan:5,children:"No pending transactions."})})]})]})})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Completed Payments"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"#"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Client"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-slate-200",children:[u.map(z=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-3 py-2",children:z.id}),a.jsx("td",{className:"px-3 py-2",children:z.client_username||z.client_id}),a.jsxs("td",{className:"px-3 py-2",children:[z.amount," ",z.currency]}),a.jsx("td",{className:"px-3 py-2",children:z.status})]},z.id)),!u.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-3 text-slate-500",colSpan:4,children:"No completed payments."})})]})]})})]})]})]})},Oc="http://localhost:4000",vv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState(""),[v,p]=c.useState(""),[N,M]=c.useState(null),[D,W]=c.useState(null),[te,G]=c.useState(!1),[F,L]=c.useState(!1),[le,O]=c.useState(!1),[ie,q]=c.useState(!1),[Z,z]=c.useState(!1),[A,j]=c.useState(!1),T=c.useRef(null),[R,H]=c.useState(null);c.useEffect(()=>{const ae=localStorage.getItem("token");ae&&fetch(`${Oc}/api/profile`,{headers:{Authorization:`Bearer ${ae}`}}).then(async $=>{const _=await $.json();if(!$.ok)throw new Error((_==null?void 0:_.error)||"Failed to load profile");const x=_.profile||{};g(x.username||""),m(x.first_name||""),u(x.last_name||""),b(x.phone_number||""),p(x.profile_image_url||"")}).catch($=>M($.message||"Failed to load profile"))},[]);function X(ae){p(ae.target.value)}function V(){var ae;(ae=T.current)==null||ae.click()}function J(ae){var x;const $=(x=ae.target.files)==null?void 0:x[0];if(!$)return;const _=new FileReader;_.onload=()=>{const U=String(_.result||"");H(U),j(!0)},_.readAsDataURL($)}async function w(ae){if(ae.preventDefault(),M(null),W(null),!f.trim()){M("Username is required.");return}const $=localStorage.getItem("token");if(!$){M("Not authenticated");return}G(!0);try{let _=v;if(R){const K=await fetch(`${Oc}/api/profile/upload-base64`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({dataUrl:R})}),S=await K.json();if(!K.ok)throw new Error((S==null?void 0:S.error)||"Failed to upload image");_=S.profile_image_url||_,p(_)}const x=await fetch(`${Oc}/api/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({firstName:r,lastName:d,username:f,phone:y,profileImageUrl:_})}),U=await x.json();if(!x.ok)throw new Error((U==null?void 0:U.error)||"Failed to save profile");W("Profile saved."),L(!1),O(!1),q(!1),z(!1),j(!1),H(null)}catch(_){M((_==null?void 0:_.message)||"Failed to save profile")}finally{G(!1)}}const E=F||le||ie||Z||A;return a.jsxs("div",{className:"p-6 max-w-3xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My Profile"}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[N&&a.jsx("div",{className:"text-red-600",children:N}),D&&a.jsx("div",{className:"text-green-600",children:D}),a.jsxs("div",{className:"flex items-start space-x-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center",children:R||v?a.jsx("img",{src:R||v,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-gray-500",children:"No image"})}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"text-sm px-3 py-1 rounded bg-gray-100",onClick:()=>j(!0),children:"Edit"}),A&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"text-sm px-3 py-1 rounded bg-blue-600 text-white",onClick:V,children:"Choose File"}),a.jsx("input",{ref:T,type:"file",accept:"image/*",onChange:J,className:"hidden"})]})]}),A&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Or Image URL"}),a.jsx("input",{type:"url",value:v,onChange:X,placeholder:"https://.../image.jpg",className:"mt-1 block w-64 rounded-md border-gray-300 shadow-sm"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>L(ae=>!ae),children:F?"Cancel":"Edit"})]}),a.jsx("input",{className:`mt-1 block w-full rounded-md ${F?"border-gray-300 shadow-sm":"border-transparent bg-transparent p-0 outline-none focus:outline-none focus:ring-0 focus:border-transparent"}`,value:r,onChange:ae=>m(ae.target.value),readOnly:!F})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>O(ae=>!ae),children:le?"Cancel":"Edit"})]}),a.jsx("input",{className:`mt-1 block w-full rounded-md ${le?"border-gray-300 shadow-sm":"border-transparent bg-transparent p-0 outline-none focus:outline-none focus:ring-0 focus:border-transparent"}`,value:d,onChange:ae=>u(ae.target.value),readOnly:!le})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),a.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>q(ae=>!ae),children:ie?"Cancel":"Edit"})]}),a.jsx("input",{className:`mt-1 block w-full rounded-md ${ie?"border-gray-300 shadow-sm":"border-transparent bg-transparent p-0 outline-none focus:outline-none focus:ring-0 focus:border-transparent"}`,value:f,onChange:ae=>g(ae.target.value),readOnly:!ie})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),a.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>z(ae=>!ae),children:Z?"Cancel":"Edit"})]}),a.jsx("input",{className:`mt-1 block w-full rounded-md ${Z?"border-gray-300 shadow-sm":"border-transparent bg-transparent p-0 outline-none focus:outline-none focus:ring-0 focus:border-transparent"}`,value:y,onChange:ae=>b(ae.target.value),readOnly:!Z})]})]})]}),E&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"submit",disabled:te,className:`px-4 py-2 rounded-md text-white ${te?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:"Save"}),a.jsx("button",{type:"button",className:"px-4 py-2 rounded-md bg-gray-100",onClick:()=>{L(!1),O(!1),q(!1),z(!1),j(!1),H(null),W(null),M(null)},children:"Cancel"})]})]})]})},yv=[{id:"d1",name:"John Doe"},{id:"d2",name:"Jane Doe"}],bv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(!1),[y,b]=c.useState("existing"),[v,p]=c.useState(null),[N,M]=c.useState(""),[D,W]=c.useState(""),[te,G]=c.useState(null);function F(L){if(L.preventDefault(),G(null),!r.trim()||!d.trim()){G("Car name and plate number are required.");return}let le=null;if(f)if(y==="existing"){if(!v){G("Please select an existing driver.");return}le={type:"existing",driverId:v}}else{if(!N.trim()||!D.trim()){G("New driver first and last name are required.");return}le={type:"new",firstName:N,lastName:D}}console.log("Create car payload:",{carName:r,plateNumber:d,driver:le}),alert("Car created (mock). Check console for payload."),m(""),u(""),g(!1),b("existing"),p(null),M(""),W("")}return a.jsxs("div",{className:"p-6 max-w-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Register Car"}),a.jsxs("form",{onSubmit:F,className:"space-y-4",children:[te&&a.jsx("div",{className:"text-red-600",children:te}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Car Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:r,onChange:L=>m(L.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plate Number"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:d,onChange:L=>u(L.target.value),required:!0})]}),a.jsx("div",{className:"pt-2",children:a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",checked:f,onChange:L=>g(L.target.checked),className:"mr-2"}),a.jsx("span",{children:"Assign Driver (optional)"})]})}),f&&a.jsxs("div",{className:"p-4 border rounded-md",children:[a.jsxs("div",{className:"space-x-4 mb-3",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"assignMode",value:"existing",checked:y==="existing",onChange:()=>b("existing"),className:"mr-2"}),a.jsx("span",{children:"Assign to existing driver"})]}),a.jsxs("label",{className:"inline-flex items-center ml-4",children:[a.jsx("input",{type:"radio",name:"assignMode",value:"new",checked:y==="new",onChange:()=>b("new"),className:"mr-2"}),a.jsx("span",{children:"Create new driver"})]})]}),y==="existing"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Driver"}),a.jsxs("select",{value:v??"",onChange:L=>p(L.target.value||null),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- Select driver --"}),yv.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Driver First Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:N,onChange:L=>M(L.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Driver Last Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:D,onChange:L=>W(L.target.value)})]})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Create Car"})})]})]})},ir="http://localhost:4000",jv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState(!1),[v,p]=c.useState("existing"),[N,M]=c.useState("existing"),[D,W]=c.useState(null),[te,G]=c.useState([]),[F,L]=c.useState([]),[le,O]=c.useState(""),[ie,q]=c.useState(!1),[Z,z]=c.useState(null),[A,j]=c.useState(""),[T,R]=c.useState(""),[H,X]=c.useState(""),[V,J]=c.useState(""),[w,E]=c.useState(null),ae=Bt(),$=new URLSearchParams(ae.search),_=$.get("reassign")==="1",x=$.get("zoneId");c.useEffect(()=>{const K=localStorage.getItem("token");K&&(fetch(`${ir}/api/zones`,{headers:{Authorization:`Bearer ${K}`}}).then(async S=>{const re=await S.json();if(!S.ok)throw new Error((re==null?void 0:re.error)||"Failed to load zones");const xe=(re.zones||[]).map(ue=>({id:String(ue.id),name:ue.zone_name}));G(xe);const ye=x;ye&&xe.some(ue=>ue.id===String(ye))&&(b(!0),p("existing"),W(String(ye)))}).catch(S=>{console.error("Load zones error:",S)}),fetch(`${ir}/api/manager/users?role=chief`,{headers:{Authorization:`Bearer ${K}`}}).then(async S=>{const re=await S.json();if(!S.ok)throw new Error((re==null?void 0:re.error)||"Failed to load chiefs");const xe=(re.users||[]).map(ye=>({id:String(ye.id),username:ye.username}));L(xe)}).catch(S=>console.error("Load chiefs error:",S)))},[ae.search]);function U(K){if(K.preventDefault(),E(null),z(null),q(!0),_&&N==="existing"){const ye=localStorage.getItem("token");if(!ye){E("You must be logged in as manager to reassign a chief."),q(!1);return}if(!x){E("Missing zoneId to reassign."),q(!1);return}if(!le){E("Select a chief to assign."),q(!1);return}fetch(`${ir}/api/manager/zones/${x}/reassign-chief`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ye}`},body:JSON.stringify({chiefUserId:Number(le)})}).then(async ue=>{const Ne=await ue.json();if(!ue.ok)throw new Error((Ne==null?void 0:Ne.error)||"Failed to reassign chief");z("Chief reassigned successfully.")}).catch(ue=>E(ue.message||"Failed to reassign chief")).finally(()=>q(!1));return}if(!r.trim()||!d.trim()||!f.trim()){E("First name, last name, and username/email are required."),q(!1);return}let S=null;if(y)if(v==="existing"){if(!D){E("Please select an existing zone to assign."),q(!1);return}S={type:"existing",zoneId:D}}else{if(!A.trim()||!T.trim()||!H.trim()||!V.trim()){E("All new zone fields are required when creating a new zone."),q(!1);return}S={type:"new",zone:{name:A,cell:T,village:H,description:V}}}const re={username:f,assigned:S},xe=localStorage.getItem("token");if(!xe){E("You must be logged in as manager to create a chief."),q(!1);return}fetch(`${ir}/api/manager/chiefs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},body:JSON.stringify(re)}).then(async ye=>{const ue=await ye.json();if(!ye.ok)throw new Error((ue==null?void 0:ue.error)||"Failed to create chief");z(`Chief created. Temporary password: ${ue.tempPassword}`),m(""),u(""),g(""),b(!1),p("existing"),W(null),j(""),R(""),X(""),J("")}).catch(ye=>E(ye.message||"Failed to create chief")).finally(()=>q(!1))}return a.jsxs("div",{className:"p-6 max-w-2xl",children:[_&&x&&a.jsx("div",{className:"mb-2",children:a.jsx(St,{to:`/zones/${x}`,className:"text-blue-600 underline text-sm",children:" Back to Zone"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:_?"Reassign Chief of the Zone":"Register Chief of Zone"}),a.jsxs("form",{onSubmit:U,className:"space-y-4",children:[w&&a.jsx("div",{className:"text-red-600",children:w}),Z&&a.jsx("div",{className:"text-green-600",children:Z}),!(_&&N==="existing")&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:r,onChange:K=>m(K.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:d,onChange:K=>u(K.target.value),required:!0})]})]}),!_&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username or Email"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:f,onChange:K=>g(K.target.value),required:!0})]}),_&&a.jsxs("div",{className:"p-4 border rounded-md",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"mode",value:"existing",checked:N==="existing",onChange:()=>M("existing"),className:"mr-2"}),a.jsx("span",{children:"Assign to an existing chief"})]}),a.jsxs("label",{className:"inline-flex items-center ml-6",children:[a.jsx("input",{type:"radio",name:"mode",value:"new",checked:N==="new",onChange:()=>M("new"),className:"mr-2"}),a.jsx("span",{children:"Create a new chief"})]})]}),N==="existing"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Chief"}),a.jsxs("select",{value:le,onChange:K=>O(K.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- Select chief --"}),F.map(K=>a.jsx("option",{value:K.id,children:K.username},K.id))]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username or Email"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:f,onChange:K=>g(K.target.value)})]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:K=>b(K.target.checked),className:"mr-2"}),a.jsx("span",{children:"Assign Zone (optional)"})]})}),y&&a.jsxs("div",{className:"p-4 border rounded-md",children:[a.jsxs("div",{className:"space-x-4 mb-3",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"assignMode",value:"existing",checked:v==="existing",onChange:()=>p("existing"),className:"mr-2"}),a.jsx("span",{children:"Assign to existing zone"})]}),a.jsxs("label",{className:"inline-flex items-center ml-4",children:[a.jsx("input",{type:"radio",name:"assignMode",value:"new",checked:v==="new",onChange:()=>p("new"),className:"mr-2"}),a.jsx("span",{children:"Assign to new zone"})]})]}),v==="existing"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Zone"}),a.jsxs("select",{value:D??"",onChange:K=>W(K.target.value||null),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- Select zone --"}),te.map(K=>a.jsx("option",{value:K.id,children:K.name},K.id))]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zone Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:A,onChange:K=>j(K.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cell"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:T,onChange:K=>R(K.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Village"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:H,onChange:K=>X(K.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location Description"}),a.jsx("textarea",{rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:V,onChange:K=>J(K.target.value)})]})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:ie,className:`px-4 py-2 text-white rounded-md ${ie?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:ie?"Creating":"Create Chief"})})]})]})},ff="http://localhost:4000",Nv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState(""),[v,p]=c.useState(""),[N,M]=c.useState([]),[D,W]=c.useState(""),te=Bt(),[G,F]=c.useState(!1),[L,le]=c.useState(null),[O,ie]=c.useState(null);c.useEffect(()=>{const Z=localStorage.getItem("token");Z&&fetch(`${ff}/api/zones`,{headers:{Authorization:`Bearer ${Z}`}}).then(async z=>{const A=await z.json();if(!z.ok)throw new Error((A==null?void 0:A.error)||"Failed to load zones");const j=(A.zones||[]).map(H=>({id:String(H.id),name:H.zone_name}));M(j);const R=new URLSearchParams(te.search).get("zoneId");R&&j.some(H=>H.id===String(R))&&W(String(R))}).catch(z=>console.error("Load zones error:",z))},[te.search]);function q(Z){if(Z.preventDefault(),ie(null),le(null),F(!0),!r.trim()||!d.trim()||!f.trim()||!y.trim()||!D||!v.trim()){ie("All fields are required."),F(!1);return}const z=Number(v);if(Number.isNaN(z)||z<=0){ie("Monthly amount must be a positive number."),F(!1);return}const A={firstName:r,lastName:d,username:f,phone:y,zoneId:D,monthlyAmount:z},j=localStorage.getItem("token");if(!j){ie("You must be logged in as manager or supervisor to register a client."),F(!1);return}fetch(`${ff}/api/clients`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify(A)}).then(async T=>{var H;const R=await T.json();if(!T.ok)throw new Error((R==null?void 0:R.error)||"Failed to register client");le(`Client registered with id ${((H=R==null?void 0:R.client)==null?void 0:H.id)||""}`.trim()),m(""),u(""),g(""),b(""),p(""),W("")}).catch(T=>ie((T==null?void 0:T.message)||"Failed to register client")).finally(()=>F(!1))}return a.jsxs("div",{className:"max-w-2xl space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-zinc-800 to-indigo-600 bg-clip-text text-transparent",children:"Register Client"}),a.jsx("p",{className:"text-zinc-600 mt-1",children:"Create a new client and assign them to a zone"})]}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:a.jsxs("form",{onSubmit:q,className:"space-y-5",children:[O&&a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700",children:O}),L&&a.jsx("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-emerald-700",children:L}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-zinc-700 mb-1",children:"First Name"}),a.jsx("input",{className:"w-full px-3 py-2 bg-white border border-zinc-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:r,onChange:Z=>m(Z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-zinc-700 mb-1",children:"Last Name"}),a.jsx("input",{className:"w-full px-3 py-2 bg-white border border-zinc-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:d,onChange:Z=>u(Z.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-zinc-700 mb-1",children:"Username or Email"}),a.jsx("input",{className:"w-full px-3 py-2 bg-white border border-zinc-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:f,onChange:Z=>g(Z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-zinc-700 mb-1",children:"Phone Number"}),a.jsx("input",{className:"w-full px-3 py-2 bg-white border border-zinc-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:y,onChange:Z=>b(Z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-zinc-700 mb-1",children:"Assign Zone"}),a.jsxs("select",{value:D,onChange:Z=>W(Z.target.value),className:"w-full px-3 py-2 bg-white border border-zinc-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",required:!0,children:[a.jsx("option",{value:"",children:"-- Select zone --"}),N.map(Z=>a.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-zinc-700 mb-1",children:"Amount to Pay Per Month"}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 bg-white border border-zinc-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:v,onChange:Z=>p(Z.target.value),required:!0})]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:G,className:`inline-flex items-center justify-center px-5 py-2.5 rounded-xl font-semibold text-white shadow-sm transition-all ${G?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:G?"Registering":"Register Client"})})]})})]})},ql="http://localhost:4000",wv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState(!1),[v,p]=c.useState("existing"),[N,M]=c.useState([]),[D,W]=c.useState(null),[te,G]=c.useState(""),[F,L]=c.useState([]),[le,O]=c.useState([]),[ie,q]=c.useState(!1),[Z,z]=c.useState(null),[A,j]=c.useState(null);function T(H){L(X=>X.includes(H)?X.filter(V=>V!==H):[...X,H])}c.useEffect(()=>{const H=localStorage.getItem("token");H&&(fetch(`${ql}/api/zones`,{headers:{Authorization:`Bearer ${H}`}}).then(async X=>{const V=await X.json();if(!X.ok)throw new Error((V==null?void 0:V.error)||"Failed to load zones");const J=(V.zones||[]).map(w=>({id:String(w.id),name:w.zone_name}));O(J)}).catch(X=>console.error("Load zones error:",X)),fetch(`${ql}/api/manager/vehicles`,{headers:{Authorization:`Bearer ${H}`}}).then(async X=>{const V=await X.json();if(!X.ok)throw new Error((V==null?void 0:V.error)||"Failed to load vehicles");const J=(V.vehicles||[]).map(w=>({id:String(w.id),plate:w.plate}));M(J)}).catch(X=>console.error("Load vehicles error:",X)))},[]);function R(H){if(H.preventDefault(),j(null),z(null),q(!0),!r.trim()||!d.trim()||!f.trim()){j("First name, last name and username/email are required."),q(!1);return}const X={firstName:r,lastName:d,username:f},V=localStorage.getItem("token");if(!V){j("You must be logged in as manager to create a driver."),q(!1);return}fetch(`${ql}/api/manager/drivers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify(X)}).then(async J=>{var ae,$;const w=await J.json();if(!J.ok)throw new Error((w==null?void 0:w.error)||"Failed to create driver");const E=(ae=w==null?void 0:w.driver)==null?void 0:ae.id;if(!E)throw new Error("Driver created but id missing");if(y)if(v==="existing"){if(!D)throw new Error("Please select a vehicle to assign.");const _=await fetch(`${ql}/api/manager/drivers/${E}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({vehicleId:Number(D)})}),x=await _.json();if(!_.ok)throw new Error((x==null?void 0:x.error)||"Failed to assign vehicle")}else{if(!te.trim())throw new Error("Please provide the new vehicle plate");const _=await fetch(`${ql}/api/manager/vehicles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({plate:te.trim()})}),x=await _.json();if(!_.ok)throw new Error((x==null?void 0:x.error)||"Failed to create vehicle");const U=($=x==null?void 0:x.vehicle)==null?void 0:$.id;if(!U)throw new Error("Vehicle created but id missing");const K=await fetch(`${ql}/api/manager/drivers/${E}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({vehicleId:U})}),S=await K.json();if(!K.ok)throw new Error((S==null?void 0:S.error)||"Failed to assign new vehicle")}if(F.length){const _=await fetch(`${ql}/api/manager/drivers/${E}/zones`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({zoneIds:F.map(U=>Number(U))})}),x=await _.json();if(!_.ok)throw new Error((x==null?void 0:x.error)||"Failed to set driver zones")}z(`Driver created. Temporary password: ${w.tempPassword}`),m(""),u(""),g(""),b(!1),p("existing"),W(null),G(""),L([])}).catch(J=>j(J.message||"Failed to create driver")).finally(()=>q(!1))}return a.jsxs("div",{className:"p-6 max-w-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Register Driver"}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[A&&a.jsx("div",{className:"text-red-600",children:A}),Z&&a.jsx("div",{className:"text-green-600",children:Z}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:r,onChange:H=>m(H.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:d,onChange:H=>u(H.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username or Email"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:f,onChange:H=>g(H.target.value),required:!0})]}),a.jsx("div",{className:"pt-2",children:a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:H=>b(H.target.checked),className:"mr-2"}),a.jsx("span",{children:"Assign Vehicle (optional)"})]})}),y&&a.jsxs("div",{className:"p-4 border rounded-md",children:[a.jsxs("div",{className:"space-x-4 mb-3",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"vehicleMode",value:"existing",checked:v==="existing",onChange:()=>p("existing"),className:"mr-2"}),a.jsx("span",{children:"Assign existing vehicle"})]}),a.jsxs("label",{className:"inline-flex items-center ml-4",children:[a.jsx("input",{type:"radio",name:"vehicleMode",value:"new",checked:v==="new",onChange:()=>p("new"),className:"mr-2"}),a.jsx("span",{children:"Assign new vehicle"})]})]}),v==="existing"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Vehicle"}),a.jsxs("select",{value:D??"",onChange:H=>W(H.target.value||null),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- Select vehicle --"}),N.map(H=>a.jsx("option",{value:H.id,children:H.plate},H.id))]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Vehicle Plate"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:te,onChange:H=>G(H.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign Zones (optional)"}),a.jsx("div",{className:"mt-2 space-y-2",children:le.map(H=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:F.includes(H.id),onChange:()=>T(H.id)}),a.jsx("span",{children:H.name})]},H.id))})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:ie,className:`px-4 py-2 text-white rounded-md ${ie?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:ie?"Creating":"Create Driver"})})]})]})},Rc="http://localhost:4000",Sv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState(""),[v,p]=c.useState([]),[N,M]=c.useState(""),[D,W]=c.useState([]),[te,G]=c.useState(""),F=Bt(),[L,le]=c.useState(!1),[O,ie]=c.useState(null),[q,Z]=c.useState(null);c.useEffect(()=>{const A=localStorage.getItem("token");A&&Promise.all([fetch(`${Rc}/api/manager/vehicles`,{headers:{Authorization:`Bearer ${A}`}}),fetch(`${Rc}/api/manager/users?role=supervisor`,{headers:{Authorization:`Bearer ${A}`}})]).then(async([j,T])=>{const R=await j.json(),H=await T.json();if(!j.ok)throw new Error((R==null?void 0:R.error)||"Failed to load vehicles");if(!T.ok)throw new Error((H==null?void 0:H.error)||"Failed to load supervisors");const X=(R.vehicles||[]).map(J=>({id:String(J.id),plate:String(J.plate)})),V=(H.users||[]).map(J=>({id:String(J.id),username:String(J.username)}));p(X),W(V)}).catch(j=>console.error("Load vehicles/supervisors error:",j))},[F.search]);function z(A){if(A.preventDefault(),Z(null),ie(null),le(!0),!r.trim()||!d.trim()||!f.trim()||!y.trim()){Z("All fields are required."),le(!1);return}const j=Number(y);if(Number.isNaN(j)||j<0){Z("Salary must be a non-negative number."),le(!1);return}const T={firstName:r,lastName:d,username:f,salary:j};if(!N){Z("Please select a vehicle to assign."),le(!1);return}T.vehicleId=Number(N),te&&(T.supervisorUserId=Number(te));const R=localStorage.getItem("token");if(!R){Z("You must be logged in as manager to register manpower."),le(!1);return}fetch(`${Rc}/api/manager/manpower`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify(T)}).then(async H=>{const X=await H.json();if(!H.ok)throw new Error((X==null?void 0:X.error)||"Failed to register manpower");ie(`Manpower created. Temporary password: ${(X==null?void 0:X.tempPassword)||""}`.trim()),m(""),u(""),g(""),b(""),M(""),G("")}).catch(H=>Z((H==null?void 0:H.message)||"Failed to register manpower")).finally(()=>le(!1))}return a.jsxs("div",{className:"p-6 max-w-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Register Manpower"}),a.jsxs("form",{onSubmit:z,className:"space-y-4",children:[q&&a.jsx("div",{className:"text-red-600",children:q}),O&&a.jsx("div",{className:"text-green-600",children:O}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:r,onChange:A=>m(A.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:d,onChange:A=>u(A.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:f,onChange:A=>g(A.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Salary"}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:y,onChange:A=>b(A.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign Vehicle"}),a.jsxs("select",{value:N,onChange:A=>M(A.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- Select vehicle --"}),v.map(A=>a.jsx("option",{value:A.id,children:A.plate},A.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign Supervisor (optional)"}),a.jsxs("select",{value:te,onChange:A=>G(A.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- Select supervisor (optional) --"}),D.map(A=>a.jsx("option",{value:A.id,children:A.username},A.id))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If not selected, we will use the vehicle's supervisor automatically (if set)."})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:L,className:`px-4 py-2 text-white rounded-md ${L?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:L?"Registering":"Register Manpower"})})]})]})},rr="http://localhost:4000",Cv=()=>{const[r,m]=c.useState(""),[d,u]=c.useState(""),[f,g]=c.useState(""),[y,b]=c.useState([]),[v,p]=c.useState([]),[N,M]=c.useState([]),[D,W]=c.useState(""),[te,G]=c.useState(!1),[F,L]=c.useState(null),[le,O]=c.useState(null),ie=Bt(),q=new URLSearchParams(ie.search),Z=q.get("reassign")==="1",[z,A]=c.useState("existing");function j(R){b(H=>H.includes(R)?H.filter(X=>X!==R):[...H,R])}c.useEffect(()=>{const R=localStorage.getItem("token");R&&(fetch(`${rr}/api/zones`,{headers:{Authorization:`Bearer ${R}`}}).then(async H=>{const X=await H.json();if(!H.ok)throw new Error((X==null?void 0:X.error)||"Failed to load zones");const V=(X.zones||[]).map(E=>({id:String(E.id),name:E.zone_name}));p(V);const w=new URLSearchParams(ie.search).get("zoneId");w&&V.some(E=>E.id===String(w))&&b([String(w)])}).catch(H=>console.error("Load zones error:",H)),fetch(`${rr}/api/manager/users?role=supervisor`,{headers:{Authorization:`Bearer ${R}`}}).then(async H=>{const X=await H.json();if(!H.ok)throw new Error((X==null?void 0:X.error)||"Failed to load supervisors");const V=(X.users||[]).map(J=>({id:String(J.id),username:J.username}));M(V)}).catch(H=>console.error("Load supervisors error:",H)))},[ie.search]);function T(R){if(R.preventDefault(),O(null),L(null),G(!0),Z&&z==="existing"){if(!y.length){O("Select a zone to assign."),G(!1);return}if(!D){O("Select a supervisor to assign."),G(!1);return}const X=localStorage.getItem("token");if(!X){O("You must be logged in as manager to reassign a supervisor."),G(!1);return}const V=y[0];fetch(`${rr}/api/manager/zones/${V}/reassign-supervisor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({supervisorUserId:Number(D)})}).then(async J=>{const w=await J.json();if(!J.ok)throw new Error((w==null?void 0:w.error)||"Failed to reassign supervisor");L("Supervisor reassigned successfully.")}).catch(J=>O((J==null?void 0:J.message)||"Failed to reassign supervisor")).finally(()=>G(!1));return}if(!r.trim()||!d.trim()||!f.trim()){O("First name, last name and username/email are required."),G(!1);return}const H=localStorage.getItem("token");if(!H){O("You must be logged in as manager to create a supervisor."),G(!1);return}fetch(`${rr}/api/manager/supervisors`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({username:f})}).then(async X=>{const V=await X.json();if(!X.ok)throw new Error((V==null?void 0:V.error)||"Failed to create supervisor");L(`Supervisor created. Temporary password: ${V.tempPassword}`),m(""),u(""),g(""),b([])}).catch(X=>O(X.message||"Failed to create supervisor")).finally(()=>G(!1))}return a.jsxs("div",{className:"p-6 max-w-2xl",children:[Z&&q.get("zoneId")&&a.jsx("div",{className:"mb-2",children:a.jsx(St,{to:`/zones/${q.get("zoneId")}`,className:"text-blue-600 underline text-sm",children:" Back to Zone"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:Z?"Reassign Supervisor":"Create the supervisor"}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[le&&a.jsx("div",{className:"text-red-600",children:le}),F&&a.jsx("div",{className:"text-green-600",children:F}),!(Z&&z==="existing")&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:r,onChange:R=>m(R.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:d,onChange:R=>u(R.target.value),required:!0})]})]}),!Z&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username or Email"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:f,onChange:R=>g(R.target.value),required:!0})]}),Z&&a.jsxs("div",{className:"p-4 border rounded-md",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"mode",value:"existing",checked:z==="existing",onChange:()=>A("existing"),className:"mr-2"}),a.jsx("span",{children:"Assign to an existing supervisor"})]}),a.jsxs("label",{className:"inline-flex items-center ml-6",children:[a.jsx("input",{type:"radio",name:"mode",value:"new",checked:z==="new",onChange:()=>A("new"),className:"mr-2"}),a.jsx("span",{children:"Create a new supervisor"})]})]}),z==="existing"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Supervisor"}),a.jsxs("select",{value:D,onChange:R=>W(R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"-- Select supervisor --"}),N.map(R=>a.jsx("option",{value:R.id,children:R.username},R.id))]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username or Email"}),a.jsx("input",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:f,onChange:R=>g(R.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign Zones (optional)"}),a.jsx("div",{className:"mt-2 space-y-2",children:v.map(R=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:y.includes(R.id),onChange:()=>j(R.id)}),a.jsx("span",{children:R.name})]},R.id))})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:te,className:`px-4 py-2 text-white rounded-md ${te?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:te?"Creating":"Create Supervisor"})})]})]})},Tn="http://localhost:4000",kv=()=>{const r=xa(),[m,d]=c.useState(""),[u,f]=c.useState(""),[g,y]=c.useState(""),[b,v]=c.useState(!1),[p,N]=c.useState("existing"),[M,D]=c.useState([]),[W,te]=c.useState(""),[G,F]=c.useState(""),[L,le]=c.useState(""),[O,ie]=c.useState(!1),[q,Z]=c.useState(null),[z,A]=c.useState(null);c.useEffect(()=>{const T=localStorage.getItem("token");T&&fetch(`${Tn}/api/manager/users?role=driver`,{headers:{Authorization:`Bearer ${T}`}}).then(async R=>{const H=await R.json();if(!R.ok)throw new Error((H==null?void 0:H.error)||"Failed to load drivers");D((H.users||[]).map(X=>({id:String(X.id),username:X.username})))}).catch(()=>{})},[]);function j(T){if(T.preventDefault(),Z(null),A(null),!m.trim()){Z("Plate is required");return}const R=localStorage.getItem("token");if(!R){Z("You must be logged in as manager to register vehicles.");return}ie(!0),fetch(`${Tn}/api/manager/vehicles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({plate:m.trim(),make:u||void 0,model:g||void 0})}).then(async H=>{var J;const X=await H.json();if(!H.ok)throw new Error((X==null?void 0:X.error)||"Failed to register vehicle");const V=X.vehicle.id;if(b)if(p==="existing"){if(!W)throw new Error("Please select a driver to assign");const w=await fetch(`${Tn}/api/manager/drivers/${W}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({vehicleId:V})}),E=await w.json();if(!w.ok)throw new Error((E==null?void 0:E.error)||"Failed to assign vehicle to driver")}else{if(!G.trim()||!L.trim())throw new Error("Driver first and last name are required");const w=await fetch(`${Tn}/api/manager/drivers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({firstName:G.trim(),lastName:L.trim()})}),E=await w.json();if(!w.ok)throw new Error((E==null?void 0:E.error)||"Failed to create driver");const ae=(J=E==null?void 0:E.driver)==null?void 0:J.id;if(!ae)throw new Error("Driver created but id missing");const $=await fetch(`${Tn}/api/manager/drivers/${ae}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({vehicleId:V})}),_=await $.json();if(!$.ok)throw new Error((_==null?void 0:_.error)||"Failed to assign vehicle to new driver")}A(`Vehicle ${X.vehicle.plate} created${b?" and assigned":""}.`),d(""),f(""),y(""),v(!1),N("existing"),te(""),F(""),le("")}).catch(H=>Z((H==null?void 0:H.message)||"Failed to register vehicle")).finally(()=>ie(!1))}return a.jsxs("div",{className:"p-6 max-w-xl",children:[a.jsx("div",{className:"mb-2",children:a.jsx("button",{onClick:()=>r(-1),className:"text-blue-600 underline text-sm",children:" Back"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Register Vehicle"}),q&&a.jsx("div",{className:"text-red-600 mb-2",children:q}),z&&a.jsx("div",{className:"text-green-600 mb-2",children:z}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Plate"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:m,onChange:T=>d(T.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Make"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:u,onChange:T=>f(T.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Model"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:g,onChange:T=>y(T.target.value)})]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",checked:b,onChange:T=>v(T.target.checked)}),a.jsx("span",{children:"Assign Driver (optional)"})]})}),b&&a.jsxs("div",{className:"p-4 border rounded",children:[a.jsxs("div",{className:"space-x-4 mb-3",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"assignMode",value:"existing",checked:p==="existing",onChange:()=>N("existing"),className:"mr-2"}),a.jsx("span",{children:"Assign to existing driver"})]}),a.jsxs("label",{className:"inline-flex items-center ml-4",children:[a.jsx("input",{type:"radio",name:"assignMode",value:"new",checked:p==="new",onChange:()=>N("new"),className:"mr-2"}),a.jsx("span",{children:"Create new driver"})]})]}),p==="existing"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Select Driver"}),a.jsxs("select",{value:W,onChange:T=>te(T.target.value),className:"mt-1 w-full border rounded px-2 py-2",children:[a.jsx("option",{value:"",children:"-- Select driver --"}),M.map(T=>a.jsx("option",{value:T.id,children:T.username},T.id))]})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Driver First Name"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:G,onChange:T=>F(T.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Driver Last Name"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:L,onChange:T=>le(T.target.value)})]})]})]}),a.jsx("button",{type:"submit",disabled:O,className:`px-4 py-2 text-white rounded ${O?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:O?"Saving":"Save Vehicle"})]})]})},Yl="http://localhost:4000",zv=()=>{const[r,m]=c.useState(null),[d,u]=c.useState(!1),[f,g]=c.useState(null),y=new Date,[b,v]=c.useState(y.getFullYear()),[p,N]=c.useState(y.getMonth()+1),[M,D]=c.useState([]),[W,te]=c.useState([]),[G,F]=c.useState(null),[L,le]=c.useState([]),[O,ie]=c.useState(""),[q,Z]=c.useState("all"),[z,A]=c.useState([]),[j,T]=c.useState(null),[R,H]=c.useState([]),[X,V]=c.useState(null),[J,w]=c.useState([]),[E,ae]=c.useState(""),[$,_]=c.useState("all"),x=c.useRef(null),U=c.useRef(null),K=c.useRef(null),S=c.useRef(null);function re(he,ge){const be=window.open("","_blank");be&&(be.document.open(),be.document.write(`<!doctype html><html><head><meta charset="utf-8"><title>${he}</title>
      <style>
        body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, 'Apple Color Emoji','Segoe UI Emoji'; padding: 24px; }
        table { width: 100%; border-collapse: collapse; font-size: 12px; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background: #f3f4f6; text-align: left; }
        h1 { font-size: 18px; margin: 0 0 12px; }
      </style>
    </head><body>
      <h1>${he}</h1>
      ${ge}
      <script>window.onload = function(){ window.print(); setTimeout(()=>window.close(), 300); }<\/script>
    </body></html>`),be.document.close())}const xe=()=>{var ga;const he=((ga=x.current)==null?void 0:ga.innerHTML)||"",ge=new Date(2e3,p-1,1).toLocaleString(void 0,{month:"long"}),be=J.find(Ct=>String(Ct.id)===E),ke=L.find(Ct=>String(Ct.id)===O),Xe=z.map(Ct=>Ct.zone_name).filter(Boolean),It=ke?[ke.zone_name]:Xe.length?Xe:[],ot=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">UCS Company Ltd.</div>
        <div style="font-size:14px;color:#374151;">Zones Summary Report</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>Period:</strong> ${ge} ${b}</div>
          <div><strong>Filter:</strong> ${q}</div>
          <div><strong>Supervisor:</strong> ${be?be.username:"All"}</div>
          <div><strong>Zones:</strong> ${It.length?It.join(", "):"All"}</div>
        </div>
      </div>`;re(`Zones Summary ${b}-${p}`,ot+he)},ye=()=>{var ke;const he=((ke=U.current)==null?void 0:ke.innerHTML)||"",be=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">UCS Company Ltd.</div>
        <div style="font-size:14px;color:#374151;">Chief Clients Report</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>Period:</strong> ${new Date(2e3,p-1,1).toLocaleString(void 0,{month:"long"})} ${b}</div>
          <div><strong>Filter:</strong> ${$}</div>
        </div>
      </div>`;re(`Chief Clients ${b}-${p} (${$})`,be+he)},ue=()=>{var ke;const he=((ke=K.current)==null?void 0:ke.innerHTML)||"",be=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">UCS Company Ltd.</div>
        <div style="font-size:14px;color:#374151;">Chief Payments Report</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>Period:</strong> ${new Date(2e3,p-1,1).toLocaleString(void 0,{month:"long"})} ${b}</div>
        </div>
      </div>`;re(`Chief Payments ${b}-${p}`,be+he)},Ne=()=>{var ke;const he=((ke=S.current)==null?void 0:ke.innerHTML)||"",be=`
      <div style="margin-bottom:16px">
        <div style="font-size:20px;font-weight:700;">UCS Company Ltd.</div>
        <div style="font-size:14px;color:#374151;">My Payments Report</div>
        <div style="margin-top:8px;font-size:12px;color:#111827;">
          <div><strong>Period:</strong> ${new Date(2e3,p-1,1).toLocaleString(void 0,{month:"long"})} ${b}</div>
        </div>
      </div>`;re(`My Payments ${b}-${p}`,be+he)};function Ae(he){if(he==null)return"";const ge=String(he);return/[",\n]/.test(ge)?'"'+ge.replace(/"/g,'""')+'"':ge}function Ie(he,ge,be){const ke=ge.map(Ae).join(","),Xe=be.map(Nl=>Nl.map(Ae).join(",")),It=[ke,...Xe].join(`
`),ot=new Blob([It],{type:"text/csv;charset=utf-8;"}),ga=URL.createObjectURL(ot),Ct=document.createElement("a");Ct.href=ga,Ct.download=he,Ct.click(),URL.revokeObjectURL(ga)}const Tt=()=>{const he=z.map(ge=>[ge.zone_id,ge.zone_name,ge.clients_count,ge.amount_to_pay,ge.amount_paid,ge.amount_remaining]);Ie(`zones_summary_${b}-${p}.csv`,["Zone ID","Zone","# Clients","Amount To Pay","Amount Paid","Remaining"],he)},pa=()=>{const he=M.map(ge=>[ge.client_id,ge.client_username??"",ge.amount_to_pay,ge.amount_paid,ge.amount_remaining]);Ie(`chief_clients_${b}-${p}_${$}.csv`,["Client ID","Client","To Pay","Paid","Remaining"],he)},Pe=()=>{const he=W.map(ge=>[ge.id,ge.completed_at??"",ge.client_username??ge.client_id??"",ge.amount,ge.currency??"",ge.status??""]);Ie(`chief_payments_${b}-${p}.csv`,["Payment ID","Date","Client","Amount","Currency","Status"],he)},Qa=()=>{const he=R.map(ge=>[ge.id,ge.completed_at??"",ge.amount,ge.currency??"",ge.status??""]);Ie(`my_payments_${b}-${p}.csv`,["Payment ID","Date","Amount","Currency","Status"],he)},Ue=he=>{ie(he),r==="manager"&&he&&ae("")},nt=he=>{ae(he),r==="manager"&&he&&ie("")};return c.useEffect(()=>{const he=localStorage.getItem("token");he&&(u(!0),g(null),fetch(`${Yl}/api/me`,{headers:{Authorization:`Bearer ${he}`}}).then(async ge=>{var ke;const be=await ge.json();if(!ge.ok)throw new Error((be==null?void 0:be.error)||"Failed to load user");m(((ke=be==null?void 0:be.user)==null?void 0:ke.role)??null)}).catch(ge=>g((ge==null?void 0:ge.message)||"Failed to load user")).finally(()=>u(!1)))},[]),c.useEffect(()=>{const he=localStorage.getItem("token");if(!he||!r||r!=="manager"&&r!=="supervisor")return;u(!0),g(null),fetch(`${Yl}/api/zones${r==="supervisor"?"?scope=supervisor":""}`,{headers:{Authorization:`Bearer ${he}`}}).then(async be=>{const ke=await be.json();if(!be.ok)throw new Error((ke==null?void 0:ke.error)||"Failed to load zones");const Xe=(ke.zones||[]).map(It=>({id:It.id,zone_name:It.zone_name}));le(Xe)}).catch(be=>g((be==null?void 0:be.message)||"Failed to load zones")).finally(()=>u(!1))},[r]),c.useEffect(()=>{const he=localStorage.getItem("token");!he||r!=="manager"||(u(!0),g(null),fetch(`${Yl}/api/report/supervisors`,{headers:{Authorization:`Bearer ${he}`}}).then(async ge=>{const be=await ge.json();if(!ge.ok)throw new Error((be==null?void 0:be.error)||"Failed to load supervisors");w(Array.isArray(be.supervisors)?be.supervisors:[])}).catch(ge=>g((ge==null?void 0:ge.message)||"Failed to load supervisors")).finally(()=>u(!1)))},[r]),c.useEffect(()=>{const he=localStorage.getItem("token");if(!(!he||!r))if(u(!0),g(null),r==="chief"){const ge=new URLSearchParams;ge.set("year",String(b)),ge.set("month",String(p)),ge.set("filter",$),fetch(`${Yl}/api/report/clients-summary?${ge.toString()}`,{headers:{Authorization:`Bearer ${he}`}}).then(async ke=>{const Xe=await ke.json();if(!ke.ok)throw new Error((Xe==null?void 0:Xe.error)||"Failed to load summary");D(Array.isArray(Xe.clients)?Xe.clients:[])}).catch(ke=>g((ke==null?void 0:ke.message)||"Failed to load summary")).finally(()=>u(!1));const be=new URLSearchParams;be.set("year",String(b)),be.set("month",String(p)),fetch(`${Yl}/api/report/payments?${be.toString()}`,{headers:{Authorization:`Bearer ${he}`}}).then(async ke=>{const Xe=await ke.json();if(!ke.ok)throw new Error((Xe==null?void 0:Xe.error)||"Failed to load payments");te(Array.isArray(Xe.payments)?Xe.payments:[]),F(Xe.totals||null)}).catch(ke=>g((ke==null?void 0:ke.message)||"Failed to load payments"))}else if(r==="manager"||r==="supervisor"){const ge=new URLSearchParams;ge.set("year",String(b)),ge.set("month",String(p)),ge.set("filter",q),O&&ge.set("zoneId",O),r==="manager"&&E&&ge.set("supervisorId",E),fetch(`${Yl}/api/report/zones-summary?${ge.toString()}`,{headers:{Authorization:`Bearer ${he}`}}).then(async be=>{const ke=await be.json();if(!be.ok)throw new Error((ke==null?void 0:ke.error)||"Failed to load zones summary");A(Array.isArray(ke.rows)?ke.rows:[]),T(ke.totals||null)}).catch(be=>g((be==null?void 0:be.message)||"Failed to load zones summary")).finally(()=>u(!1))}else if(r==="client"){const ge=new URLSearchParams;ge.set("year",String(b)),ge.set("month",String(p)),fetch(`${Yl}/api/report/payments?${ge.toString()}`,{headers:{Authorization:`Bearer ${he}`}}).then(async be=>{const ke=await be.json();if(!be.ok)throw new Error((ke==null?void 0:ke.error)||"Failed to load payments");H(Array.isArray(ke.payments)?ke.payments:[]),V(ke.totals||null)}).catch(be=>g((be==null?void 0:be.message)||"Failed to load payments")).finally(()=>u(!1))}else u(!1)},[r,b,p,q,O,E,$]),a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Reports"}),a.jsxs("div",{className:"mb-4 flex flex-wrap items-end gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Year"}),a.jsx("select",{className:"mt-1 border rounded px-2 py-2",value:b,onChange:he=>v(Number(he.target.value)),children:Array.from({length:6}).map((he,ge)=>{const be=new Date().getFullYear()-ge;return a.jsx("option",{value:be,children:be},be)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Month"}),a.jsx("select",{className:"mt-1 border rounded px-2 py-2",value:p,onChange:he=>N(Number(he.target.value)),children:Array.from({length:12}).map((he,ge)=>{const be=ge+1,Xe=new Date(2e3,ge,1).toLocaleString(void 0,{month:"long"});return a.jsx("option",{value:be,children:Xe},be)})})]}),(r==="manager"||r==="supervisor")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Zone"}),a.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:O,onChange:he=>Ue(he.target.value),children:[a.jsx("option",{value:"",children:"All Zones"}),L.map(he=>a.jsx("option",{value:he.id,children:he.zone_name},he.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Paid & Remaining"}),a.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:q,onChange:he=>Z(he.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"remaining",children:"Remaining"})]})]}),r==="manager"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Supervisor"}),a.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:E,onChange:he=>nt(he.target.value),children:[a.jsx("option",{value:"",children:"All Supervisors"}),J.map(he=>a.jsx("option",{value:he.id,children:he.username},he.id))]})]}),a.jsxs("div",{className:"self-end pb-1 flex items-center gap-2",children:[a.jsx("button",{onClick:Tt,className:"px-3 py-2 rounded bg-amber-600 text-white",children:"Download CSV"}),a.jsx("button",{onClick:xe,className:"px-3 py-2 rounded bg-amber-700 text-white",children:"Download PDF"})]})]}),r==="chief"&&a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Showing clients in your assigned zones"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Paid&Remaining"}),a.jsxs("select",{className:"mt-1 border rounded px-2 py-2",value:$,onChange:he=>_(he.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"remaining",children:"Remaining"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:pa,className:"px-3 py-2 rounded bg-amber-600 text-white",children:"Download Clients CSV"}),a.jsx("button",{onClick:ye,className:"px-3 py-2 rounded bg-amber-700 text-white",children:"Download PDF"})]})]}),r==="client"&&a.jsx("div",{className:"text-sm text-gray-600",children:"Showing your monthly summary"})]}),f&&a.jsx("div",{className:"text-red-600 mb-3",children:f}),d?a.jsx("div",{children:"Loading"}):a.jsxs(a.Fragment,{children:[(r==="manager"||r==="supervisor")&&a.jsx("div",{ref:x,className:"bg-white rounded-lg shadow overflow-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Zone"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"# Clients"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Amount To Pay"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Amount Paid"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Remaining"})]})}),a.jsxs("tbody",{children:[z.map(he=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:he.zone_name}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.clients_count}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount_to_pay}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount_paid}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount_remaining})]},he.zone_id)),!z.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:5,children:"No data found."})})]}),j&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-50 font-semibold border-t",children:[a.jsx("td",{className:"px-4 py-3 text-right",children:"Totals"}),a.jsx("td",{className:"px-4 py-3 text-right",children:j.clients_count}),a.jsx("td",{className:"px-4 py-3 text-right",children:j.amount_to_pay}),a.jsx("td",{className:"px-4 py-3 text-right",children:j.amount_paid}),a.jsx("td",{className:"px-4 py-3 text-right",children:j.amount_remaining})]})})]})}),r==="chief"&&a.jsx("div",{ref:U,className:"bg-white rounded-lg shadow overflow-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Amount To Pay"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Amount Paid"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Remaining"})]})}),a.jsxs("tbody",{children:[M.map(he=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:he.client_username||he.client_id}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount_to_pay}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount_paid}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount_remaining})]},he.client_id)),!M.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:4,children:"No clients found."})})]})]})}),r==="chief"&&a.jsxs("div",{ref:K,className:"bg-white rounded-lg shadow overflow-auto mt-6",children:[a.jsxs("div",{className:"px-4 py-3 font-semibold flex items-center justify-between",children:[a.jsx("span",{children:"Payments (filtered)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Pe,className:"px-3 py-1 rounded bg-amber-600 text-white",children:"Download CSV"}),a.jsx("button",{onClick:ue,className:"px-3 py-1 rounded bg-amber-700 text-white",children:"Download PDF"})]})]}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Currency"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),a.jsxs("tbody",{children:[W.map(he=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:he.completed_at?new Date(he.completed_at).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3",children:he.client_username||he.client_id}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount}),a.jsx("td",{className:"px-4 py-3",children:he.currency||""}),a.jsx("td",{className:"px-4 py-3",children:he.status||""})]},he.id)),!W.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:5,children:"No payments found."})})]}),G&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-50 font-semibold border-t",children:[a.jsx("td",{className:"px-4 py-3 text-right",colSpan:2,children:"Totals"}),a.jsx("td",{className:"px-4 py-3 text-right",children:G.amount_sum}),a.jsxs("td",{className:"px-4 py-3",colSpan:2,children:["Count: ",G.count]})]})})]})]}),r==="client"&&a.jsxs("div",{ref:S,className:"bg-white rounded-lg shadow overflow-auto",children:[a.jsxs("div",{className:"px-4 py-3 font-semibold flex items-center justify-between",children:[a.jsx("span",{children:"My Payments (filtered)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Qa,className:"px-3 py-1 rounded bg-amber-600 text-white",children:"Download CSV"}),a.jsx("button",{onClick:Ne,className:"px-3 py-1 rounded bg-amber-700 text-white",children:"Download PDF"})]})]}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Currency"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),a.jsxs("tbody",{children:[R.map(he=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:he.completed_at?new Date(he.completed_at).toLocaleString():"-"}),a.jsx("td",{className:"px-4 py-3 text-right",children:he.amount}),a.jsx("td",{className:"px-4 py-3",children:he.currency||""}),a.jsx("td",{className:"px-4 py-3",children:he.status||""})]},he.id)),!R.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:4,children:"No payments found."})})]}),X&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-50 font-semibold border-t",children:[a.jsx("td",{className:"px-4 py-3 text-right",children:"Totals"}),a.jsx("td",{className:"px-4 py-3 text-right",children:X.amount_sum}),a.jsxs("td",{className:"px-4 py-3",colSpan:2,children:["Count: ",X.count]})]})})]})]})]})]})},xf="http://localhost:4000",Ca={Zone:()=>a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.447-.894L15 4m0 13V4m0 0L9 7"})}),Chief:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Clients:()=>a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Arrow:()=>a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),TrendUp:()=>a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},Ev=()=>{const[r,m]=c.useState([]),[d,u]=c.useState(!1),[f,g]=c.useState(null),[y,b]=c.useState("monthly"),[v,p]=c.useState([]),[N,M]=c.useState(!1),[D,W]=c.useState({yearly:[],monthly:[],weekly:[],daily:[]});c.useEffect(()=>{const O=localStorage.getItem("token");O&&(u(!0),g(null),fetch(`${xf}/api/supervisor/zones`,{headers:{Authorization:`Bearer ${O}`}}).then(async ie=>{const q=await ie.json();if(!ie.ok)throw new Error((q==null?void 0:q.error)||"Failed to load zones");m(Array.isArray(q.zones)?q.zones:[])}).catch(ie=>g((ie==null?void 0:ie.message)||"Failed to load zones")).finally(()=>u(!1)))},[]);function te(O=6){const ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],q=new Date,Z=[];for(let z=O-1;z>=0;z--){const A=new Date(q.getFullYear(),q.getMonth()-z,1),j=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}`;Z.push({key:j,label:ie[A.getMonth()]})}return Z}function G(O){const ie=te(6),q=new Map(ie.map($=>[$.key,0])),Z=new Date,z=`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}`,A=[0,0,0,0],j=Array.from({length:5},($,_)=>String(new Date().getFullYear()-(4-_))),T=new Map(j.map($=>[$,0])),R=[],H=[];for(let $=6;$>=0;$--){const _=new Date(Z);_.setDate(Z.getDate()-$);const x=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`;H.push(x),R.push(`Day ${7-$}`)}const X=new Map(H.map($=>[$,0])),V=Array.isArray(O)?O.filter($=>{const _=String(($==null?void 0:$.status)||"").toLowerCase();return!($!=null&&$.status)||_==="success"||_==="successful"}):[];for(const $ of V){const _=Number($.amount||0),x=new Date($.completed_at||$.created_at||$.updated_at||$.inserted_at||Date.now()),U=`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}`;if(q.has(U)&&q.set(U,(q.get(U)||0)+_),U===z){const re=Math.min(4,Math.max(1,Math.ceil(x.getDate()/7)));A[re-1]+=_}const K=String(x.getFullYear());T.has(K)&&T.set(K,(T.get(K)||0)+_);const S=`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}-${String(x.getDate()).padStart(2,"0")}`;X.has(S)&&X.set(S,(X.get(S)||0)+_)}const J=j.map($=>({year:$,amount:T.get($)||0})),w=ie.map($=>({month:$.label,amount:q.get($.key)||0})),E=[{week:"Week 1",amount:A[0]},{week:"Week 2",amount:A[1]},{week:"Week 3",amount:A[2]},{week:"Week 4",amount:A[3]}],ae=H.map(($,_)=>({day:R[_],amount:X.get($)||0}));return{yearly:J,monthly:w,weekly:E,daily:ae}}c.useEffect(()=>{let O=!1;async function ie(){try{M(!0);const q=localStorage.getItem("token");if(!q){W({yearly:[],monthly:[],weekly:[],daily:[]});return}const z=await(await fetch(`${xf}/api/payments/completed`,{headers:{Authorization:`Bearer ${q}`}})).json(),A=Array.isArray(z==null?void 0:z.payments)?z.payments:[],j=G(A);O||W(j)}catch{O||W({yearly:[],monthly:[],weekly:[],daily:[]})}finally{O||M(!1)}}return ie(),()=>{O=!0}},[]),c.useEffect(()=>{const O={yearly:D.yearly,monthly:D.monthly,weekly:D.weekly,daily:D.daily};p(O[y]||[])},[y,D]);const F=r.reduce((O,ie)=>O+ie.client_count,0),L=r.filter(O=>O.chief_username).length,le=r.length>0?Math.round(F/r.length):0;return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-stone-800 to-amber-600 bg-clip-text text-transparent",children:"Zone Supervision"}),a.jsx("p",{className:"text-stone-600 mt-2",children:"Manage your assigned zones and oversee operations"})]}),a.jsx("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-stone-500",children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),a.jsx("span",{children:"All Systems Operational"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-amber-100 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-stone-600 mb-2",children:"Total Zones"}),a.jsx("p",{className:"text-3xl font-bold text-stone-900",children:d?"...":r.length}),a.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Assigned to you"})]}),a.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-600 to-orange-500 shadow-lg",children:a.jsx(Ca.Zone,{})})]})}),a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-amber-100 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-stone-600 mb-2",children:"Active Chiefs"}),a.jsx("p",{className:"text-3xl font-bold text-stone-900",children:d?"...":L}),a.jsx("div",{className:"flex items-center mt-1",children:a.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-medium",children:[a.jsx(Ca.TrendUp,{}),a.jsx("span",{className:"ml-1",children:"Active"})]})})]}),a.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-emerald-600 to-green-500 shadow-lg",children:a.jsx(Ca.Chief,{})})]})}),a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-amber-100 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-stone-600 mb-2",children:"Total Clients"}),a.jsx("p",{className:"text-3xl font-bold text-stone-900",children:d?"...":F.toLocaleString()}),a.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Across all zones"})]}),a.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-lime-600 to-green-500 shadow-lg",children:a.jsx(Ca.Clients,{})})]})}),a.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-amber-100 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-stone-600 mb-2",children:"Avg per Zone"}),a.jsx("p",{className:"text-3xl font-bold text-stone-900",children:d?"...":le}),a.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Clients per zone"})]}),a.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500 to-yellow-500 shadow-lg",children:a.jsx(Ca.Clients,{})})]})})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-amber-100 p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-stone-800",children:"Payment Trends"}),a.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Completed payments overview"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-3 md:mt-0",children:["yearly","monthly","weekly","daily"].map(O=>a.jsx("button",{onClick:()=>b(O),className:`px-3 py-1.5 rounded-md text-xs font-semibold ${y===O?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:O==="yearly"?"Year":O==="monthly"?"Monthly":O==="weekly"?"Weekly":"Daily"},O))})]}),a.jsx("div",{className:"h-64 relative",children:N?a.jsx("div",{className:"h-full flex items-center justify-center text-stone-500 text-sm",children:"Loading payments..."}):v.length===0?a.jsx("div",{className:"h-full flex items-center justify-center text-stone-500 text-sm",children:"No payments to display"}):(()=>{const O=v.map(j=>Number(j.amount)||0),ie=Math.max(...O,1),q=Math.pow(10,Math.floor(Math.log10(ie))),Z=Math.ceil(ie/q)*q,z=6,A=Array.from({length:z},(j,T)=>Math.round(Z/(z-1)*T));return a.jsxs("div",{className:"h-full flex",children:[a.jsx("div",{className:"w-10 relative",children:A.map((j,T)=>{const R=100-j/Z*100;return a.jsx("div",{className:"absolute left-0 w-full",style:{top:`${R}%`},children:a.jsx("div",{className:"-translate-y-1/2 flex items-center",children:a.jsx("span",{className:"text-[10px] text-stone-500 w-8 text-right pr-1",children:j.toLocaleString()})})},T)})}),a.jsxs("div",{className:"flex-1 relative",children:[A.map((j,T)=>{const R=100-j/Z*100;return a.jsx("div",{className:"absolute left-0 right-0",style:{top:`${R}%`},children:a.jsx("div",{className:`h-px ${T===0?"bg-stone-300":"bg-stone-100"}`})},T)}),a.jsx("div",{className:"absolute inset-x-0 bottom-6 top-2 pointer-events-none",children:(()=>{const j=v.length||1;return Array.from({length:j},(T,R)=>{const H=(R+.5)/j*100;return a.jsx("div",{className:"absolute top-0 bottom-0",style:{left:`${H}%`},children:a.jsx("div",{className:"w-px h-full bg-stone-100 -translate-x-1/2"})},R)})})()}),a.jsx("div",{className:"absolute inset-x-0 bottom-6 top-2",children:a.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:v.map((j,T)=>{const R=Math.max(0,Math.min(100,Number(j.amount)/Z*100));return a.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[a.jsx("div",{className:"text-center mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:a.jsxs("div",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md shadow",children:["$",Number(j.amount).toLocaleString()]})}),a.jsx("div",{className:"w-full bg-gradient-to-t from-amber-500 to-yellow-500 rounded-md transition-all duration-300 hover:opacity-90 cursor-pointer",style:{height:`${R}%`}})]},T)})})}),a.jsx("div",{className:"absolute left-0 right-0 bottom-0",children:a.jsx("div",{className:"flex justify-between items-center",children:v.map((j,T)=>a.jsx("div",{className:"flex-1 text-center",children:a.jsx("p",{className:"text-[11px] font-medium text-stone-600",children:"year"in j?j.year:"month"in j?j.month:"week"in j?j.week:j.day})},T))})})]})]})})()})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-amber-100 p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-stone-800",children:"Your Zones"}),a.jsx("p",{className:"text-stone-600 mt-1",children:"Manage and supervise your assigned zones"})]}),a.jsx("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:a.jsxs("span",{className:"text-sm text-stone-500",children:[r.length," zone",r.length!==1?"s":""," assigned"]})})]}),f&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-medium",children:f})]})}),d?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((O,ie)=>a.jsxs("div",{className:"bg-stone-100 rounded-xl p-6 animate-pulse",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-stone-300 rounded w-20"}),a.jsx("div",{className:"h-6 bg-stone-300 rounded w-32"})]}),a.jsx("div",{className:"w-12 h-12 bg-stone-300 rounded-xl"})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-4 bg-stone-300 rounded w-16"}),a.jsx("div",{className:"h-4 bg-stone-300 rounded w-20"})]})}),a.jsx("div",{className:"h-10 bg-stone-300 rounded-lg mt-4"})]},ie))}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(O=>a.jsxs("div",{className:"group bg-white rounded-xl border border-amber-100 p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide",children:"Zone"}),a.jsx("h3",{className:"text-xl font-bold text-stone-800",children:O.zone_name})]}),a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-600 to-amber-700 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(Ca.Zone,{})})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-stone-600",children:[a.jsx(Ca.Chief,{}),a.jsx("span",{className:"font-medium",children:"Zone Chief"})]}),a.jsx("span",{className:`font-semibold ${O.chief_username?"text-stone-800":"text-amber-600"}`,children:O.chief_username||"Unassigned"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-stone-600",children:[a.jsx(Ca.Clients,{}),a.jsx("span",{className:"font-medium",children:"Active Clients"})]}),a.jsx("span",{className:"text-lg font-bold text-stone-800",children:O.client_count})]})]}),a.jsxs(St,{to:`/supervisor/zones/${O.id}/supervision`,className:"flex items-center justify-center space-x-2 w-full py-3 bg-stone-50 hover:bg-amber-50 text-stone-700 hover:text-amber-700 rounded-xl font-semibold transition-all duration-200 border border-stone-200 hover:border-amber-200 group-hover:shadow-md",children:[a.jsx("span",{children:"Manage Zone"}),a.jsx(Ca.Arrow,{})]})]},O.id)),!r.length&&!d&&a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx("div",{className:"w-20 h-20 bg-stone-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Ca.Zone,{})}),a.jsx("h3",{className:"text-xl font-semibold text-stone-700 mb-2",children:"No zones assigned"}),a.jsx("p",{className:"text-stone-500 max-w-md mx-auto",children:"You haven't been assigned to any zones yet. Please contact your administrator to get started with zone supervision."})]})]})]})]})},or="http://localhost:4000",ve={primary:"#D97706",primaryHover:"#B45309",background:"#F9FAFB",cardBg:"#FFFFFF",border:"#E5E7EB",text:"#1E1E1E",textLight:"#6B7280",error:"#DC2626"},Wt={Back:r=>a.jsx("svg",{...r,className:r.className??"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Calendar:r=>a.jsx("svg",{...r,className:r.className??"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Vehicle:r=>a.jsx("svg",{...r,className:r.className??"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Driver:r=>a.jsx("svg",{...r,className:r.className??"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Time:r=>a.jsx("svg",{...r,className:r.className??"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Manpower:r=>a.jsx("svg",{...r,className:r.className??"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Delete:r=>a.jsx("svg",{...r,className:r.className??"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Add:r=>a.jsx("svg",{...r,className:r.className??"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})},pf=({title:r,number:m})=>a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b",style:{borderColor:ve.border},children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white font-bold text-sm",style:{backgroundColor:ve.primary},children:m}),a.jsx("h2",{className:"text-2xl font-bold",style:{color:ve.text},children:r})]}),gf=({children:r,className:m=""})=>a.jsx("div",{className:`rounded-lg shadow-sm border p-6 ${m}`,style:{backgroundColor:ve.cardBg,borderColor:ve.border},children:r}),Av=({children:r,onClick:m,disabled:d=!1,loading:u=!1,className:f=""})=>a.jsx("button",{onClick:m,disabled:d||u,className:`px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center gap-2 ${f}`,style:{backgroundColor:d?ve.textLight:ve.primary,cursor:d?"not-allowed":"pointer"},onMouseOver:g=>{!d&&!u&&(g.currentTarget.style.backgroundColor=ve.primaryHover)},onMouseOut:g=>{!d&&!u&&(g.currentTarget.style.backgroundColor=ve.primary)},children:r});function Mv(){const{id:r}=Hn(),m=Number(r),d=xa(),[u,f]=c.useState(!0),[g,y]=c.useState(null),[b,v]=c.useState([]),[p,N]=c.useState([]),[M,D]=c.useState([]),[W,te]=c.useState(""),[G,F]=c.useState([]),[L,le]=c.useState([]),[O,ie]=c.useState("saved"),[q,Z]=c.useState(""),[z,A]=c.useState(""),[j,T]=c.useState(""),[R,H]=c.useState(""),[X,V]=c.useState("08:00"),[J,w]=c.useState("12:00"),[E,ae]=c.useState([]),$=typeof window<"u"?localStorage.getItem("token"):null;c.useEffect(()=>{Number.isFinite(m)&&$&&(f(!0),y(null),Promise.all([fetch(`${or}/api/supervisor/zones/${m}/supervision`,{headers:{Authorization:`Bearer ${$}`}}),fetch(`${or}/api/supervisor/zones/${m}/schedule`,{headers:{Authorization:`Bearer ${$}`}})]).then(async([ue,Ne])=>{var pa;const Ae=await ue.json(),Ie=await Ne.json();if(!ue.ok)throw new Error((Ae==null?void 0:Ae.error)||"Failed to load zone data");if(!Ne.ok)throw new Error((Ie==null?void 0:Ie.error)||"Failed to load schedule");te(((pa=Ae==null?void 0:Ae.zone)==null?void 0:pa.name)||""),v(((Ae==null?void 0:Ae.vehicles)||[]).map(Pe=>({id:Number(Pe.id),plate:String(Pe.plate)}))),N(((Ae==null?void 0:Ae.drivers)||[]).map(Pe=>({id:Number(Pe.id),username:String(Pe.username)}))),D(((Ae==null?void 0:Ae.manpower)||[]).map(Pe=>({id:Number(Pe.id),username:String(Pe.username)}))),F((Ie==null?void 0:Ie.schedule)||[]);const Tt=Array.isArray(Ae==null?void 0:Ae.serviceDays)?Ae.serviceDays.map(Pe=>Number(Pe)).filter(Pe=>Number.isFinite(Pe)):[];le(Tt),Tt.length?(ie("saved"),Z(String(Tt[0]))):(ie("special"),A("1"))}).catch(ue=>y((ue==null?void 0:ue.message)||"Failed to load")).finally(()=>f(!1)))},[m,$]);async function _(){if(!$)return;y(null);const ue=O==="saved"?q:z;if(!ue||!j){y("Please select service day and vehicle");return}const Ne={service_day:Number(ue),vehicle_id:Number(j),driver_id:R?Number(R):null,service_start:vf(X),service_end:vf(J),assigned_manpower_ids:E},Ae=await fetch(`${or}/api/supervisor/zones/${m}/schedule`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify(Ne)}),Ie=await Ae.json();if(!Ae.ok){y((Ie==null?void 0:Ie.error)||"Failed to create entry");return}F(Tt=>[...Tt,Ie.entry]),T(""),H(""),ae([])}async function x(ue){if(!$)return;const Ne=await fetch(`${or}/api/supervisor/zones/${m}/schedule/${ue}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}});if(!Ne.ok){const Ae=await Ne.json().catch(()=>({}));y((Ae==null?void 0:Ae.error)||"Failed to delete entry");return}F(Ae=>Ae.filter(Ie=>Ie.id!==ue))}function U(ue){ae(Ne=>Ne.includes(ue)?Ne.filter(Ae=>Ae!==ue):[...Ne,ue])}const K=ue=>new Date(2e3,0,ue).toLocaleString(void 0,{weekday:"long"}),S=[1,2,3,4,5,6,7],re=S.filter(ue=>!L.includes(ue)),xe=c.useMemo(()=>{const ue=new Map;return b.forEach(Ne=>ue.set(Ne.id,Ne.plate)),ue},[b]),ye=c.useMemo(()=>{const ue=new Map;return p.forEach(Ne=>ue.set(Ne.id,Ne.username)),ue},[p]);return u?a.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:ve.background},children:a.jsx("div",{className:"max-w-6xl mx-auto space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 rounded w-48 mb-6",style:{backgroundColor:ve.border}}),a.jsxs("div",{className:"grid gap-6",children:[a.jsx("div",{className:"h-64 rounded-lg",style:{backgroundColor:ve.border}}),a.jsx("div",{className:"h-96 rounded-lg",style:{backgroundColor:ve.border}})]})]})})}):a.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:ve.background},children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>d(-1),className:"flex items-center space-x-2 transition-colors duration-200",style:{color:ve.textLight},children:[a.jsx(Wt.Back,{}),a.jsx("span",{className:"font-medium",children:"Back to Zone"})]}),a.jsx("div",{className:"w-px h-6",style:{backgroundColor:ve.border}}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",style:{color:ve.text},children:"Service Schedule"}),a.jsxs("p",{className:"mt-1",style:{color:ve.textLight},children:["Plan and manage services for ",W]})]})]})}),g&&a.jsx("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"#FEF2F2",borderColor:ve.error},children:a.jsxs("div",{className:"flex items-center space-x-2",style:{color:ve.error},children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-medium",children:g})]})}),a.jsxs("section",{children:[a.jsx(pf,{title:"Add New Service Entry",number:1}),a.jsxs(gf,{children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-3",style:{color:ve.text},children:"Service Day"}),a.jsxs("div",{className:"flex space-x-4 mb-4",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"dayMode",value:"saved",checked:O==="saved",onChange:()=>ie("saved"),style:{accentColor:ve.primary}}),a.jsx("span",{className:"text-sm font-medium",style:{color:ve.text},children:"Regular Days"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"dayMode",value:"special",checked:O==="special",onChange:()=>ie("special"),style:{accentColor:ve.primary}}),a.jsx("span",{className:"text-sm font-medium",style:{color:ve.text},children:"Special Days"})]})]}),O==="saved"?a.jsxs("select",{value:q,onChange:ue=>Z(ue.target.value),className:"w-full rounded-lg px-4 py-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:ve.cardBg,borderColor:ve.border,color:ve.text},children:[!L.length&&a.jsx("option",{value:"",children:"No regular days set"}),L.map(ue=>a.jsx("option",{value:ue,children:K(ue)},ue))]}):a.jsx("select",{value:z,onChange:ue=>A(ue.target.value),className:"w-full rounded-lg px-4 py-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:ve.cardBg,borderColor:ve.border,color:ve.text},children:re.length?re.map(ue=>a.jsx("option",{value:ue,children:K(ue)},ue)):S.map(ue=>a.jsx("option",{value:ue,children:K(ue)},ue))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:ve.text},children:[a.jsx(Wt.Time,{className:"inline w-4 h-4 mr-2",style:{color:ve.primary}}),"Start Time"]}),a.jsx("input",{type:"time",value:X,onChange:ue=>V(ue.target.value),className:"w-full rounded-lg px-4 py-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:ve.cardBg,borderColor:ve.border,color:ve.text}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:ve.text},children:[a.jsx(Wt.Time,{className:"inline w-4 h-4 mr-2",style:{color:ve.primary}}),"End Time"]}),a.jsx("input",{type:"time",value:J,onChange:ue=>w(ue.target.value),className:"w-full rounded-lg px-4 py-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:ve.cardBg,borderColor:ve.border,color:ve.text}})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:ve.text},children:[a.jsx(Wt.Vehicle,{className:"inline w-4 h-4 mr-2",style:{color:ve.primary}}),"Vehicle"]}),a.jsxs("select",{value:j,onChange:ue=>T(ue.target.value),className:"w-full rounded-lg px-4 py-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:ve.cardBg,borderColor:ve.border,color:ve.text},children:[a.jsx("option",{value:"",children:"Select vehicle"}),b.map(ue=>a.jsx("option",{value:ue.id,children:ue.plate},ue.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:ve.text},children:[a.jsx(Wt.Driver,{className:"inline w-4 h-4 mr-2",style:{color:ve.primary}}),"Driver"]}),a.jsxs("select",{value:R,onChange:ue=>H(ue.target.value),className:"w-full rounded-lg px-4 py-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:ve.cardBg,borderColor:ve.border,color:ve.text},children:[a.jsx("option",{value:"",children:"Select driver"}),p.map(ue=>a.jsx("option",{value:ue.id,children:ue.username},ue.id))]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold mb-3",style:{color:ve.text},children:[a.jsx(Wt.Manpower,{className:"inline w-4 h-4 mr-2",style:{color:ve.primary}}),"Assign Manpower"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(ue=>a.jsx("button",{type:"button",onClick:()=>U(ue.id),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all duration-200 ${E.includes(ue.id)?"text-white shadow-lg":"border hover:shadow-md"}`,style:E.includes(ue.id)?{backgroundColor:ve.primary,borderColor:ve.primary}:{backgroundColor:ve.cardBg,color:ve.text,borderColor:ve.border},children:ue.username},ue.id))})]})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsxs(Av,{onClick:_,className:"px-6 py-3",children:[a.jsx(Wt.Add,{}),a.jsx("span",{children:"Add Service Entry"})]})})]})]}),a.jsxs("section",{children:[a.jsx(pf,{title:"Scheduled Services",number:2}),a.jsxs(gf,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold",style:{color:ve.text},children:"Current Schedule"}),a.jsxs("span",{className:"text-sm px-3 py-1 rounded-full",style:{backgroundColor:ve.background,color:ve.textLight},children:[G.length," entr",G.length===1?"y":"ies"]})]}),G.length?a.jsx("div",{className:"space-y-4",children:G.slice().sort((ue,Ne)=>ue.service_day-Ne.service_day||ue.service_start.localeCompare(Ne.service_start)).map(ue=>{var Ne;return a.jsx("div",{className:"rounded-lg border p-4 transition-shadow duration-200 hover:shadow-md",style:{backgroundColor:ve.cardBg,borderColor:ve.border},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ve.primary}}),a.jsx("span",{className:"font-semibold",style:{color:ve.text},children:K(ue.service_day)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm",style:{color:ve.textLight},children:[a.jsx(Wt.Time,{className:"w-4 h-4"}),a.jsxs("span",{children:[ue.service_start.substring(0,5)," - ",ue.service_end.substring(0,5)]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt.Vehicle,{className:"w-4 h-4",style:{color:ve.textLight}}),a.jsx("span",{style:{color:ve.text},children:xe.get(ue.vehicle_id)||`Vehicle #${ue.vehicle_id}`})]}),ue.driver_id&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt.Driver,{className:"w-4 h-4",style:{color:ve.textLight}}),a.jsx("span",{style:{color:ve.text},children:ye.get(ue.driver_id)||`Driver #${ue.driver_id}`})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt.Manpower,{className:"w-4 h-4",style:{color:ve.textLight}}),a.jsx("span",{style:{color:ve.text},children:(Ne=ue.assigned_manpower_ids)!=null&&Ne.length?`${ue.assigned_manpower_ids.length} manpower assigned`:"No manpower assigned"})]})]})]}),a.jsxs("button",{onClick:()=>x(ue.id),className:"flex items-center space-x-1 px-3 py-2 rounded-lg font-medium transition-colors duration-200 ml-4",style:{backgroundColor:"#FEF2F2",color:ve.error},children:[a.jsx(Wt.Delete,{}),a.jsx("span",{className:"text-sm",children:"Delete"})]})]})},ue.id)})}):a.jsxs("div",{className:"text-center py-12 rounded-lg border",style:{backgroundColor:ve.background,borderColor:ve.border},children:[a.jsx(Wt.Calendar,{className:"w-16 h-16 mx-auto mb-4",style:{color:ve.textLight}}),a.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:ve.textLight},children:"No services scheduled"}),a.jsx("p",{style:{color:ve.textLight},children:"Add your first service entry to get started"})]})]})]})]})})}function vf(r){return/^\d{2}:\d{2}$/.test(r)?`${r}:00`:r}const Dn="http://localhost:4000";function _v(){const[r,m]=De.useState([]),[d,u]=De.useState([]),[f,g]=De.useState(!1),[y,b]=De.useState(null),[v,p]=De.useState(String(new Date().getFullYear())),[N,M]=De.useState(String(new Date().getMonth()+1)),[D,W]=De.useState(""),[te,G]=De.useState(!1),[F,L]=De.useState(null),[le,O]=De.useState([]),[ie,q]=De.useState(null),[Z,z]=De.useState(!1),[A,j]=De.useState(""),[T,R]=De.useState(!1),[H,X]=De.useState(null),[V,J]=De.useState("complete"),[w,E]=De.useState(null);async function ae(){try{g(!0),b(null);const S=localStorage.getItem("token");if(!S)throw new Error("Not authenticated");const re=await fetch(`${Dn}/api/supervisor/schedule`,{headers:{Authorization:`Bearer ${S}`},credentials:"include"});if(!re.ok)throw new Error("Failed to load schedule");const xe=await re.json();u(Array.isArray(xe==null?void 0:xe.schedule)?xe.schedule:[])}catch(S){b((S==null?void 0:S.message)||"Failed to load schedule")}finally{g(!1)}}async function $(){try{L(null),G(!0);const S=localStorage.getItem("token");if(!S)throw new Error("Not authenticated");const re=new URLSearchParams;D&&re.set("zone_id",D),v&&re.set("year",v),N&&re.set("month",N);const xe=await fetch(`${Dn}/api/supervisor/completed-services?${re}`,{headers:{Authorization:`Bearer ${S}`},credentials:"include"});if(!xe.ok)throw new Error("Failed to load completed services");const ye=await xe.json();O(Array.isArray(ye==null?void 0:ye.services)?ye.services:[])}catch(S){L((S==null?void 0:S.message)||"Failed to load")}finally{G(!1)}}function _(){ae(),$()}De.useEffect(()=>{ae()},[]),De.useEffect(()=>{$()},[v,N,D]),De.useEffect(()=>{let S=!0;return(async()=>{try{const re=localStorage.getItem("token");if(!re)throw new Error("Not authenticated");const xe=await fetch(`${Dn}/api/supervisor/zones`,{headers:{Authorization:`Bearer ${re}`},credentials:"include"});if(!xe.ok)throw new Error("Failed to load zones");const ye=await xe.json();if(!S)return;const ue=((ye==null?void 0:ye.zones)||[]).map(Ne=>({id:Ne.id,name:Ne.zone_name||Ne.name}));m(ue)}catch{}})(),()=>{S=!1}},[]);async function x(S){try{E(S);const re=localStorage.getItem("token");if(!re)throw new Error("Not authenticated");if(!(await fetch(`${Dn}/api/supervisor/service/${S}/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re}`},credentials:"include",body:JSON.stringify({status:"complete",reason:null})})).ok)throw new Error("Failed to confirm");await Promise.all([ae(),$()])}catch(re){console.error(re)}finally{E(null)}}function U(S){X(S),J("not_complete"),j(""),z(!0)}async function K(){if(H)try{R(!0),E(H);const S=localStorage.getItem("token");if(!S)throw new Error("Not authenticated");if(!(await fetch(`${Dn}/api/supervisor/service/${H}/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},credentials:"include",body:JSON.stringify({status:V,reason:A.trim()||null})})).ok)throw new Error("Failed to submit verification");await Promise.all([ae(),$()]),z(!1),X(null),j("")}catch(S){console.error(S)}finally{R(!1),E(null)}}return a.jsxs("div",{className:"space-y-6 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Services Supervision"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-sm text-slate-600",children:"Unconfirmed services across your zones"}),a.jsx("button",{onClick:_,className:"inline-flex items-center rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50",children:"Refresh"})]})]}),y&&a.jsx("div",{className:"text-sm text-red-600",children:y}),f?a.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-6 text-center text-slate-500",children:"Loading"}):d.length===0?a.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-6 text-center text-slate-500",children:"No entries"}):a.jsx("div",{className:"space-y-4",children:d.map(S=>{var re,xe;return a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:["Created at: ",new Date(S.created_at).toLocaleString()]}),a.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",S.vehicle_plate??""]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Driver:"})," ",S.driver_username??""]})]}),a.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[a.jsxs("div",{children:["The service will start at: ",(re=S.service_start)==null?void 0:re.slice(0,5)]}),a.jsxs("div",{children:["The service will end at: ",(xe=S.service_end)==null?void 0:xe.slice(0,5)]})]}),S.chief_report_status?a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsx("button",{onClick:()=>x(S.id),disabled:w===S.id,className:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-white text-sm hover:bg-emerald-700 disabled:opacity-60",children:"Confirm completion"}),a.jsx("button",{onClick:()=>U(S.id),disabled:w===S.id,className:"inline-flex items-center rounded-md bg-red-600 px-3 py-1.5 text-white text-sm hover:bg-red-700 disabled:opacity-60",children:"Mark not completed"}),S.chief_report_reason?a.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["Chief note: ",S.chief_report_reason]}):null]}):a.jsx("div",{className:"mt-4 inline-flex items-center gap-2 rounded-md bg-slate-50 px-3 py-2 text-sm text-slate-700 border border-slate-200",children:"Waiting for chief report"})]},S.id)})})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 lg:sticky lg:top-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Confirmed services"})}),a.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[a.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-2 py-1 text-sm",value:D,onChange:S=>W(S.target.value),children:[a.jsx("option",{value:"",children:"All zones"}),r.map(S=>a.jsx("option",{value:String(S.id),children:S.name},S.id))]}),a.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-2 py-1 text-sm",value:v,onChange:S=>p(S.target.value),children:[a.jsx("option",{value:"",children:"All years"}),Array.from({length:7}).map((S,re)=>{const xe=new Date().getFullYear()-re;return a.jsx("option",{value:String(xe),children:xe},xe)})]}),a.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-2 py-1 text-sm",value:N,onChange:S=>M(S.target.value),children:[a.jsx("option",{value:"",children:"All months"}),Array.from({length:12}).map((S,re)=>{const xe=re+1;return a.jsx("option",{value:String(xe),children:xe.toString().padStart(2,"0")},xe)})]})]}),F&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:F}),a.jsx("div",{className:"mt-3 space-y-2",children:te?a.jsx("div",{className:"text-sm text-slate-500",children:"Loading"}):le.length===0?a.jsx("div",{className:"text-sm text-slate-500",children:"No confirmed services"}):le.map(S=>a.jsxs("div",{onClick:()=>q(re=>re===S.id?null:S.id),className:"cursor-pointer w-full text-left rounded-md border border-slate-200 px-3 py-2 hover:bg-slate-50",children:[a.jsxs("div",{className:"text-sm font-medium text-slate-800",children:[S.vehicle_plate??"","  ",S.driver_username??""]}),a.jsx("div",{className:"text-xs text-slate-500",children:new Date(S.supervisor_decided_at||S.created_at).toLocaleString()}),ie===S.id&&a.jsxs("div",{className:"mt-2 text-xs text-slate-700 space-y-1",children:[a.jsxs("div",{children:["Start: ",String(S.service_start).slice(0,5),"  End: ",String(S.service_end).slice(0,5)]}),S.supervisor_reason?a.jsxs("div",{children:["Supervisor note: ",S.supervisor_reason]}):null]})]},S.id))})]})}),Z&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>T?null:z(!1)}),a.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-lg border border-slate-200 bg-white p-4 shadow-lg",children:[a.jsx("div",{className:"text-base font-semibold text-slate-800",children:V==="complete"?"Confirm completion":"Mark not completed"}),a.jsx("div",{className:"mt-2 text-sm text-slate-600",children:V==="complete"?"Optional note":"Provide a reason (optional)"}),a.jsx("textarea",{value:A,onChange:S=>j(S.target.value),className:"mt-3 h-28 w-full resize-none rounded-md border border-slate-300 p-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-300",placeholder:V==="complete"?"Note (optional)":"Reason (optional)",disabled:T}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>T?null:z(!1),className:"inline-flex items-center rounded-md border border-slate-300 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50",disabled:T,children:"Cancel"}),a.jsx("button",{onClick:K,className:`inline-flex items-center rounded-md px-3 py-1.5 text-white text-sm disabled:opacity-60 ${V==="complete"?"bg-emerald-600 hover:bg-emerald-700":"bg-red-600 hover:bg-red-700"}`,disabled:T,children:"Submit"})]})]})]})]})}const Ds="http://localhost:4000",Tv=()=>{const[r,m]=c.useState([]),[d,u]=c.useState([]),[f,g]=c.useState([]),[y,b]=c.useState(!1),[v,p]=c.useState(null),[N,M]=c.useState(null),[D,W]=c.useState(""),[te,G]=c.useState(new Set);function F(){const q=localStorage.getItem("token");q&&(b(!0),p(null),Promise.all([fetch(`${Ds}/api/manager/drivers/with-assignments`,{headers:{Authorization:`Bearer ${q}`}}),fetch(`${Ds}/api/manager/vehicles`,{headers:{Authorization:`Bearer ${q}`}}),fetch(`${Ds}/api/manager/manpower`,{headers:{Authorization:`Bearer ${q}`}})]).then(async([Z,z,A])=>{const j=await Z.json(),T=await z.json(),R=await A.json();if(!Z.ok)throw new Error((j==null?void 0:j.error)||"Failed to load drivers");if(!z.ok)throw new Error((T==null?void 0:T.error)||"Failed to load vehicles");if(!A.ok)throw new Error((R==null?void 0:R.error)||"Failed to load manpower");const H=(j.drivers||[]).map(X=>({id:X.id,username:X.username,vehicle_id:X.vehicle_id??null,vehicle_plate:X.vehicle_plate||null,assigned_manpowers:Array.isArray(X.assigned_manpowers)?X.assigned_manpowers.map(V=>Number(V)):[],assigned_manpower_users:Array.isArray(X.assigned_manpower_users)?X.assigned_manpower_users.map(V=>({id:Number(V.id),username:String(V.username)})):[],zones:Array.isArray(X.zones)?X.zones.map(V=>({id:Number(V.id),name:V.name})):[]}));m(H),u((T.vehicles||[]).map(X=>({id:X.id,plate:X.plate,make:X.make,model:X.model}))),g((R.manpower||[]).map(X=>({id:X.id,username:X.username})))}).catch(Z=>p((Z==null?void 0:Z.message)||"Failed to load")).finally(()=>b(!1)))}c.useEffect(()=>{F()},[]);function L(q){M(q.id),W(q.vehicle_id!=null?String(q.vehicle_id):""),G(new Set(q.assigned_manpowers||[]))}function le(q){G(Z=>{const z=new Set(Z);return z.has(q)?z.delete(q):z.add(q),z})}function O(){M(null),W(""),G(new Set)}async function ie(q){const Z=localStorage.getItem("token");if(Z)try{D===""?await fetch(`${Ds}/api/manager/drivers/${q}/vehicle`,{method:"DELETE",headers:{Authorization:`Bearer ${Z}`}}):await fetch(`${Ds}/api/manager/drivers/${q}/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`},body:JSON.stringify({vehicleId:Number(D)})}),await fetch(`${Ds}/api/manager/drivers/${q}/vehicle/manpowers`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`},body:JSON.stringify({manpowerIds:Array.from(te)})}),O(),F()}catch(z){p((z==null?void 0:z.message)||"Failed to save assignments")}}return a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vehicles & Drivers"}),v&&a.jsx("div",{className:"text-red-600 mb-3",children:v}),y?a.jsx("div",{children:"Loading"}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(q=>a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:q.username}),a.jsxs("span",{className:"text-sm text-gray-500",children:["#",q.id]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Assigned Car:"}),a.jsx("span",{className:"ml-2 font-medium",children:q.vehicle_plate||"Not set"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Assigned Manpowers:"}),a.jsx("span",{className:"ml-2 font-medium",children:q.assigned_manpower_users&&q.assigned_manpower_users.length?q.assigned_manpower_users.map(Z=>Z.username).join(", "):"None"})]}),a.jsx("div",{})]}),N===q.id?a.jsxs("div",{className:"mt-3 border-t pt-3 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Assign Vehicle"}),a.jsxs("select",{value:D,onChange:Z=>W(Z.target.value),className:"mt-1 w-full border rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"",children:"-- None --"}),d.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.plate,Z.make||Z.model?` (${[Z.make,Z.model].filter(Boolean).join(" ")})`:""]},Z.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Assign Manpowers to Vehicle"}),a.jsx("div",{className:"max-h-40 overflow-auto border rounded p-2 space-y-1",children:f.map(Z=>a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:te.has(Z.id),onChange:()=>le(Z.id)}),a.jsx("span",{children:Z.username})]},Z.id))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>ie(q.id),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Save"}),a.jsx("button",{onClick:O,className:"px-3 py-1 border rounded text-sm",children:"Cancel"})]})]}):a.jsx("div",{className:"mt-3",children:a.jsx("button",{onClick:()=>L(q),className:"text-blue-600 underline text-sm",children:"Manage manpowers"})})]},q.id)),!r.length&&a.jsx("div",{className:"text-gray-600",children:"No drivers found."})]})]})},Ls="http://localhost:4000",Dv=()=>{const{id:r}=Hn(),m=xa(),[d,u]=c.useState(null),[f,g]=c.useState([]),[y,b]=c.useState([]),[v,p]=c.useState(!1),[N,M]=c.useState(null),[D,W]=c.useState(""),[te,G]=c.useState(!1),[F,L]=c.useState([]),[le,O]=c.useState(null),[ie,q]=c.useState(""),[Z,z]=c.useState(""),[A,j]=c.useState(""),[T,R]=c.useState("");function H(){const _=localStorage.getItem("token");!_||!r||(p(!0),M(null),Promise.all([fetch(`${Ls}/api/zones/${r}`,{headers:{Authorization:`Bearer ${_}`}}),fetch(`${Ls}/api/clients/by-zone/${r}`,{headers:{Authorization:`Bearer ${_}`}}),fetch(`${Ls}/api/zones`,{headers:{Authorization:`Bearer ${_}`}})]).then(async([x,U,K])=>{const S=await x.json(),re=await U.json(),xe=await K.json();if(!x.ok)throw new Error((S==null?void 0:S.error)||"Failed to load zone");if(!U.ok)throw new Error((re==null?void 0:re.error)||"Failed to load clients");if(!K.ok)throw new Error((xe==null?void 0:xe.error)||"Failed to load zones");u({id:S.zone.id,zone_name:S.zone.zone_name}),g(Array.isArray(re.clients)?re.clients:[]),b((xe.zones||[]).map(ye=>({id:String(ye.id),name:ye.zone_name})))}).catch(x=>M((x==null?void 0:x.message)||"Failed to load")).finally(()=>p(!1)))}function X(){var U,K;if(F.length!==1)return;const _=F[0],x=f.find(S=>S.id===_);x&&(O(_),q(((U=x.name)==null?void 0:U.first)||""),z(((K=x.name)==null?void 0:K.last)||""),j(x.username||""),R(x.monthly_amount!=null?String(Number(x.monthly_amount).toFixed(2)).replace(/\.00$/,""):""))}function V(){O(null)}function J(){if(!le)return;const _=localStorage.getItem("token");if(!_)return;const x={username:A.trim()||void 0,firstName:ie.trim(),lastName:Z.trim()};T!==""&&(x.monthlyAmount=Number(T)),fetch(`${Ls}/api/clients/${le}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify(x)}).then(async U=>{const K=await U.json();if(!U.ok)throw new Error((K==null?void 0:K.error)||"Failed to update client");O(null),L([]),H()}).catch(U=>M((U==null?void 0:U.message)||"Failed to update client"))}c.useEffect(()=>{H()},[r]);function w(){G(_=>!_),L([])}function E(_){L(x=>x.includes(_)?x.filter(U=>U!==_):[...x,_])}function ae(){const _=localStorage.getItem("token");!_||!D||!F.length||Promise.all(F.map(x=>fetch(`${Ls}/api/clients/${x}/zone`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({zoneId:Number(D)})}))).then(async x=>{const K=(await Promise.all(x.map(async S=>{var re;return S.ok?null:((re=await S.json())==null?void 0:re.error)||"error"}))).find(S=>S);if(K)throw new Error(K);L([]),W(""),H()}).catch(x=>M((x==null?void 0:x.message)||"Failed to move selected"))}function $(){const _=localStorage.getItem("token");!_||!F.length||!window.confirm(`Delete ${F.length} selected client(s)? This cannot be undone.`)||Promise.all(F.map(U=>fetch(`${Ls}/api/clients/${U}`,{method:"DELETE",headers:{Authorization:`Bearer ${_}`}}))).then(async U=>{const S=(await Promise.all(U.map(async re=>{var xe;return re.ok?null:((xe=await re.json())==null?void 0:xe.error)||"error"}))).find(re=>re);if(S)throw new Error(S);L([]),H()}).catch(U=>M((U==null?void 0:U.message)||"Failed to delete selected"))}return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[a.jsx("button",{onClick:()=>m(-1),className:"text-blue-600 underline text-sm",children:" Back"}),r&&a.jsx(St,{to:`/register-client?zoneId=${r}`,className:"text-blue-600 underline text-sm",children:"Add Client"})]}),a.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Clients in ",d?d.zone_name:"Zone"]}),N&&a.jsx("div",{className:"text-red-600 mb-3",children:N}),v?a.jsx("div",{children:"Loading"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[a.jsx("button",{onClick:w,className:"px-3 py-1 border rounded text-sm",children:te?"Cancel select":"Select"}),te&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:D,onChange:_=>W(_.target.value),className:"border rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"",children:"-- Move to zone --"}),y.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]}),a.jsx("button",{disabled:!F.length||!D,onClick:ae,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:opacity-50",children:"Move"}),a.jsx("button",{disabled:!F.length,onClick:$,className:"px-3 py-1 bg-red-600 text-white rounded text-sm disabled:opacity-50",children:"Delete"}),a.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),a.jsx("button",{onClick:()=>{G(!1),L([])},className:"px-3 py-1 border rounded text-sm",children:"Save"}),a.jsx("button",{onClick:()=>{G(!1),L([]),W("")},className:"px-3 py-1 border rounded text-sm",children:"Cancel"})]})]}),a.jsx("div",{className:"overflow-x-auto bg-white border rounded shadow",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[te&&a.jsx("th",{className:"px-3 py-2"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount to Pay"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[f.map(_=>{const x=_.name?`${_.name.first||""} ${_.name.last||""}`.trim():"";return a.jsxs("tr",{children:[te&&a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:F.includes(_.id),onChange:()=>E(_.id)})}),a.jsx("td",{className:"px-3 py-2",children:x||_.username}),a.jsx("td",{className:"px-3 py-2",children:_.username}),a.jsx("td",{className:"px-3 py-2",children:_.phone_number}),a.jsx("td",{className:"px-3 py-2",children:_.monthly_amount!=null?Number(_.monthly_amount).toLocaleString():"-"})]},_.id)}),!f.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-4 text-gray-600",colSpan:te?5:4,children:"No clients in this zone."})})]})]})}),te&&F.length===1&&a.jsxs("div",{className:"mt-4 p-4 border rounded bg-white shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"font-semibold",children:"Edit selected client"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:X,className:"px-3 py-1 border rounded text-sm",children:"Edit"})})]}),le&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"First Name"}),a.jsx("input",{className:"mt-1 w-full border rounded px-2 py-1",value:ie,onChange:_=>q(_.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Last Name"}),a.jsx("input",{className:"mt-1 w-full border rounded px-2 py-1",value:Z,onChange:_=>z(_.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Username"}),a.jsx("input",{className:"mt-1 w-full border rounded px-2 py-1",value:A,onChange:_=>j(_.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Amount to Pay"}),a.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full border rounded px-2 py-1",value:T,onChange:_=>R(_.target.value)})]}),a.jsxs("div",{className:"md:col-span-4 flex items-center gap-2 mt-2",children:[a.jsx("button",{onClick:J,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Save"}),a.jsx("button",{onClick:V,className:"px-3 py-1 border rounded text-sm",children:"Cancel"})]})]})]})]})]})},Lv="http://localhost:4000",Bv=()=>{const{id:r}=Hn(),m=xa(),[d,u]=c.useState(null),[f,g]=c.useState({amountToBePaid:null,currentMonthPaid:null,todayPaid:null}),[y,b]=c.useState(!1),[v,p]=c.useState(null),[N,M]=c.useState(!1);return c.useEffect(()=>{const D=localStorage.getItem("token");!D||!r||(b(!0),p(null),fetch(`${Lv}/api/zones/${r}`,{headers:{Authorization:`Bearer ${D}`}}).then(async W=>{const te=await W.json();if(!W.ok)throw new Error((te==null?void 0:te.error)||"Failed to load zone");u(te.zone),g(te.payments||{amountToBePaid:null,currentMonthPaid:null,todayPaid:null})}).catch(W=>p((W==null?void 0:W.message)||"Failed to load zone")).finally(()=>b(!1)))},[r]),y?a.jsx("div",{className:"p-6",children:"Loading"}):v?a.jsx("div",{className:"p-6 text-red-600",children:v}):d?a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{children:a.jsx("button",{onClick:()=>m(-1),className:"text-blue-600 underline text-sm",children:" Back"})}),a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold",children:d.zone_name}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Zone #",d.id]})]}),a.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[d.cell,", ",d.village]}),a.jsx("div",{className:"text-sm text-gray-700 mt-2",children:d.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Chief of the Zone"}),a.jsx("div",{className:"text-xl font-semibold",children:d.chief_username??"Unassigned"})]}),a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Clients"}),a.jsx("div",{className:"text-xl font-semibold",children:d.client_count})]}),a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Amount To Be Paid"}),a.jsx("div",{className:"text-xl font-semibold",children:f.amountToBePaid!=null?`$${f.amountToBePaid}`:"N/A"})]}),a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Current Month Paid"}),a.jsx("div",{className:"text-xl font-semibold",children:f.currentMonthPaid!=null?`$${f.currentMonthPaid}`:"N/A"})]})]}),a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Today's Payments"}),a.jsx("div",{className:"text-xl font-semibold",children:f.todayPaid!=null?`$${f.todayPaid}`:"N/A"})]}),a.jsxs("div",{className:"bg-white rounded shadow p-4 border",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Zone Management"}),a.jsx("button",{onClick:()=>M(D=>!D),className:"text-blue-600 underline text-sm",children:N?"Hide":"Manage this zone"})]}),N&&a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsx("button",{className:"px-4 py-2 border rounded hover:bg-gray-50 text-sm",onClick:()=>m(`/register-supervisor?zoneId=${r}&reassign=1`),children:"Reassign Supervisor"}),a.jsx("button",{className:"px-4 py-2 border rounded hover:bg-gray-50 text-sm",onClick:()=>m(`/register-chief?zoneId=${r}&reassign=1`),children:"Reassign Chief of Zone"}),a.jsx("button",{className:"px-4 py-2 border rounded hover:bg-gray-50 text-sm",onClick:()=>m(`/register-client?zoneId=${r}`),children:"Add Client"})]})]})]}):a.jsx("div",{className:"p-6",children:"Zone not found."})},Ln="http://localhost:4000",$v=()=>{const{id:r}=Hn(),m=xa(),[d,u]=c.useState(null),[f,g]=c.useState([]),[y,b]=c.useState([]),[v,p]=c.useState(!1),[N,M]=c.useState(null),[D,W]=c.useState(!1),[te,G]=c.useState([]),[F,L]=c.useState("");function le(){const z=localStorage.getItem("token");!z||!r||(p(!0),M(null),Promise.all([fetch(`${Ln}/api/zones/${r}`,{headers:{Authorization:`Bearer ${z}`}}),fetch(`${Ln}/api/manager/manpower/by-zone/${r}`,{headers:{Authorization:`Bearer ${z}`}}),fetch(`${Ln}/api/zones`,{headers:{Authorization:`Bearer ${z}`}})]).then(async([A,j,T])=>{const R=await A.json(),H=await j.json(),X=await T.json();if(!A.ok)throw new Error((R==null?void 0:R.error)||"Failed to load zone");if(!j.ok)throw new Error((H==null?void 0:H.error)||"Failed to load manpower");if(!T.ok)throw new Error((X==null?void 0:X.error)||"Failed to load zones");u({id:R.zone.id,zone_name:R.zone.zone_name}),g(Array.isArray(H.manpower)?H.manpower:[]),b((X.zones||[]).map(V=>({id:String(V.id),name:V.zone_name})))}).catch(A=>M((A==null?void 0:A.message)||"Failed to load")).finally(()=>p(!1)))}c.useEffect(()=>{le()},[r]);function O(){W(z=>!z),G([])}function ie(z){G(A=>A.includes(z)?A.filter(j=>j!==z):[...A,z])}function q(){const z=localStorage.getItem("token");!z||!te.length||!F||Promise.all(te.map(A=>fetch(`${Ln}/api/manager/manpower/${A}/zone`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({zoneId:Number(F)})}))).then(async A=>{const T=(await Promise.all(A.map(async R=>{var H;return R.ok?null:((H=await R.json())==null?void 0:H.error)||"error"}))).find(R=>R);if(T)throw new Error(T);G([]),L(""),W(!1),le()}).catch(A=>M((A==null?void 0:A.message)||"Failed to move manpower"))}function Z(){const z=localStorage.getItem("token");!z||!te.length||!window.confirm(`Unassign ${te.length} selected manpower from any zone?`)||Promise.all(te.map(j=>fetch(`${Ln}/api/manager/manpower/${j}/zone`,{method:"DELETE",headers:{Authorization:`Bearer ${z}`}}))).then(async j=>{const R=(await Promise.all(j.map(async H=>{var X;return H.ok?null:((X=await H.json())==null?void 0:X.error)||"error"}))).find(H=>H);if(R)throw new Error(R);G([]),W(!1),le()}).catch(j=>M((j==null?void 0:j.message)||"Failed to unassign manpower"))}return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[a.jsx("button",{onClick:()=>m(-1),className:"text-blue-600 underline text-sm",children:" Back"}),r&&a.jsx(St,{to:`/register-manpower?zoneId=${r}`,className:"text-blue-600 underline text-sm",children:"Add Manpower"})]}),a.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Manpower in ",d?d.zone_name:"Zone"]}),N&&a.jsx("div",{className:"text-red-600 mb-3",children:N}),v?a.jsx("div",{children:"Loading"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[a.jsx("button",{onClick:O,className:"px-3 py-1 border rounded text-sm",children:D?"Cancel select":"Select"}),D&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:F,onChange:z=>L(z.target.value),className:"border rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"",children:"-- Move to zone --"}),y.map(z=>a.jsx("option",{value:z.id,children:z.name},z.id))]}),a.jsx("button",{disabled:!te.length||!F,onClick:q,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:opacity-50",children:"Move"}),a.jsx("button",{disabled:!te.length,onClick:Z,className:"px-3 py-1 bg-red-600 text-white rounded text-sm disabled:opacity-50",children:"Unassign"}),a.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),a.jsx("button",{onClick:()=>{W(!1),G([])},className:"px-3 py-1 border rounded text-sm",children:"Save"}),a.jsx("button",{onClick:()=>{W(!1),G([]),L("")},className:"px-3 py-1 border rounded text-sm",children:"Cancel"})]})]}),a.jsx("div",{className:"overflow-x-auto bg-white border rounded shadow",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[D&&a.jsx("th",{className:"px-3 py-2"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[f.map(z=>a.jsxs("tr",{children:[D&&a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox",checked:te.includes(z.id),onChange:()=>ie(z.id)})}),a.jsx("td",{className:"px-3 py-2",children:z.username})]},z.id)),!f.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-4 text-gray-600",colSpan:D?2:1,children:"No manpower in this zone."})})]})]})})]})]})},Ov="http://localhost:4000",bl={Back:r=>a.jsx("svg",{...r,className:`w-4 h-4 ${r.className??""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Zone:r=>a.jsx("svg",{...r,className:`w-5 h-5 ${r.className??""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.447-.894L15 4m0 13V4m0 0L9 7"})}),Location:r=>a.jsxs("svg",{...r,className:`w-4 h-4 ${r.className??""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Clients:r=>a.jsx("svg",{...r,className:`w-4 h-4 ${r.className??""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Chief:r=>a.jsx("svg",{...r,className:`w-4 h-4 ${r.className??""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Supervisor:r=>a.jsx("svg",{...r,className:`w-4 h-4 ${r.className??""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Arrow:r=>a.jsx("svg",{...r,className:`w-4 h-4 ${r.className??""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})},Rv=()=>{const[r,m]=c.useState([]),[d,u]=c.useState(!1),[f,g]=c.useState(null),y=xa();return c.useEffect(()=>{const b=localStorage.getItem("token");b&&(u(!0),g(null),fetch(`${Ov}/api/zones`,{headers:{Authorization:`Bearer ${b}`}}).then(async v=>{const p=await v.json();if(!v.ok)throw new Error((p==null?void 0:p.error)||"Failed to load zones");m(Array.isArray(p.zones)?p.zones:[])}).catch(v=>g((v==null?void 0:v.message)||"Failed to load zones")).finally(()=>u(!1)))},[]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>y(-1),className:"flex items-center space-x-2 text-slate-600 hover:text-slate-800 transition-colors duration-200",children:[a.jsx(bl.Back,{}),a.jsx("span",{className:"font-medium",children:"Back"})]}),a.jsx("div",{className:"w-px h-6 bg-slate-300"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent",children:"Zones Management"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Manage and monitor all operational zones"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{children:[r.length," zone",r.length!==1?"s":""," active"]})]})]}),f&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 mb-6 backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-medium",children:f})]})}),d?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((b,v)=>a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 animate-pulse",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-6 bg-slate-200 rounded w-32"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"})]}),a.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-4/5"})]}),a.jsxs("div",{className:"space-y-2 mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-3 bg-slate-200 rounded w-16"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-8"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-3 bg-slate-200 rounded w-20"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-16"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-3 bg-slate-200 rounded w-16"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-12"})]})]}),a.jsx("div",{className:"h-10 bg-slate-200 rounded-xl mt-4"})]},v))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(b=>a.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Zone"}),a.jsxs("span",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:["#",b.id]})]}),a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:b.zone_name})]}),a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(bl.Zone,{})})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 mb-3",children:[a.jsx(bl.Location,{}),a.jsxs("span",{className:"text-sm",children:[b.cell,", ",b.village]})]}),a.jsx("p",{className:"text-slate-700 text-sm mb-4 line-clamp-2",children:b.description}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[a.jsx(bl.Clients,{}),a.jsx("span",{className:"text-sm font-medium",children:"Active Clients"})]}),a.jsx("span",{className:"font-bold text-slate-800",children:b.client_count})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[a.jsx(bl.Chief,{}),a.jsx("span",{className:"text-sm font-medium",children:"Zone Chief"})]}),a.jsx("span",{className:`font-semibold ${b.chief_username?"text-slate-800":"text-orange-600"}`,children:b.chief_username??"Unassigned"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[a.jsx(bl.Supervisor,{}),a.jsx("span",{className:"text-sm font-medium",children:"Supervisor"})]}),a.jsx("span",{className:"text-slate-500 text-sm",children:"Not assigned"})]})]}),a.jsxs(St,{to:`/zones/${b.id}`,className:"flex items-center justify-center space-x-2 w-full py-3 bg-slate-50 hover:bg-blue-50 text-slate-700 hover:text-blue-600 rounded-xl font-semibold transition-all duration-200 border border-slate-200 hover:border-blue-200 group-hover:shadow-md",children:[a.jsx("span",{children:"View Zone Details"}),a.jsx(bl.Arrow,{})]})]},b.id))}),!d&&r.length===0&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(bl.Zone,{className:"w-12 h-12 text-slate-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-2",children:"No zones found"}),a.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"There are no zones currently available. Zones will appear here once they are created and activated in the system."})]}),!d&&r.length>0&&a.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Zones Overview"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:r.length}),a.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide mt-1",children:"Total Zones"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:r.filter(b=>b.chief_username).length}),a.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide mt-1",children:"Zones with Chief"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:r.reduce((b,v)=>b+v.client_count,0)}),a.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide mt-1",children:"Total Clients"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Math.round(r.reduce((b,v)=>b+v.client_count,0)/r.length)||0}),a.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide mt-1",children:"Avg Clients/Zone"})]})]})]})]})})},Bs="http://localhost:4000",pe={primary:"#D97706",primaryHover:"#B45309",accent:"#15803D",accentHover:"#166534",background:"#F9FAFB",cardBg:"#FFFFFF",border:"#E5E7EB",text:"#1E1E1E",textLight:"#6B7280",error:"#DC2626"},Mt={Back:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-4 h-4",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})},Calendar:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-5 h-5",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},Vehicle:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-5 h-5",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},Driver:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-5 h-5",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},Manpower:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-5 h-5",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},Save:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-4 h-4",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},Add:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-4 h-4",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})},Remove:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-4 h-4",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})},Schedule:r=>{const{className:m,...d}=r;return a.jsx("svg",{...d,className:["w-4 h-4",m].filter(Boolean).join(" "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}};function yf(r){return new Date(2e3,0,r).toLocaleString(void 0,{weekday:"long"})}const Bn=({title:r,number:m})=>a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b",style:{borderColor:pe.border},children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white font-bold text-sm",style:{backgroundColor:pe.primary},children:m}),a.jsx("h2",{className:"text-2xl font-bold",style:{color:pe.text},children:r})]}),jl=({children:r,className:m=""})=>a.jsx("div",{className:`rounded-lg shadow-sm border p-6 ${m}`,style:{backgroundColor:pe.cardBg,borderColor:pe.border},children:r}),Uc=({children:r,onClick:m,disabled:d=!1,loading:u=!1,className:f=""})=>a.jsx("button",{onClick:m,disabled:d||u,className:`px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center gap-2 ${f}`,style:{backgroundColor:d?pe.textLight:pe.primary,cursor:d?"not-allowed":"pointer"},onMouseOver:g=>{!d&&!u&&(g.currentTarget.style.backgroundColor=pe.primaryHover)},onMouseOut:g=>{!d&&!u&&(g.currentTarget.style.backgroundColor=pe.primary)},children:r}),bf=({children:r,onClick:m,disabled:d=!1,loading:u=!1,className:f=""})=>a.jsx("button",{onClick:m,disabled:d||u,className:`px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center gap-2 ${f}`,style:{backgroundColor:d?pe.textLight:pe.accent,cursor:d?"not-allowed":"pointer"},onMouseOver:g=>{!d&&!u&&(g.currentTarget.style.backgroundColor=pe.accentHover)},onMouseOut:g=>{!d&&!u&&(g.currentTarget.style.backgroundColor=pe.accent)},children:r}),Uv=()=>{const{id:r}=Hn(),m=xa(),[d,u]=c.useState(null),[f,g]=c.useState(!1),[y,b]=c.useState(null),[v,p]=c.useState([]),[N,M]=c.useState({}),[D,W]=c.useState({}),[,te]=c.useState({}),[G,F]=c.useState("");function L(){const A=localStorage.getItem("token");!A||!r||(g(!0),b(null),fetch(`${Bs}/api/supervisor/zones/${r}/supervision`,{headers:{Authorization:`Bearer ${A}`}}).then(async j=>{const T=await j.json();if(!j.ok)throw new Error((T==null?void 0:T.error)||"Failed to load");u(T),p(T.serviceDays||[]);const R={};for(const X of T.driverAssignments||[])R[X.weekday]=String(X.driver_user_id);M(R);const H={};for(const X of T.drivers||[])H[X.id]=new Set(X.assigned_manpowers||[]);te(H)}).catch(j=>b((j==null?void 0:j.message)||"Failed to load")).finally(()=>g(!1)))}c.useEffect(()=>{L()},[r]);function le(A){p(j=>j.includes(A)?j.filter(T=>T!==A):[...j,A])}async function O(){const A=localStorage.getItem("token");!A||!r||(await fetch(`${Bs}/api/supervisor/zones/${r}/service-days`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({days:v})}),L())}async function ie(A){const j=localStorage.getItem("token");if(!j||!r)return;const T=Number(N[A]);T&&(await fetch(`${Bs}/api/supervisor/zones/${r}/driver`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({weekday:A,driverUserId:T})}),L())}async function q(A){const j=localStorage.getItem("token");if(!j||!r)return;const T=Number(D[A]);T&&(await fetch(`${Bs}/api/supervisor/zones/${r}/driver/vehicle`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({driverUserId:T,vehicleId:A})}),L())}async function Z(){const A=localStorage.getItem("token");if(!A||!r)return;const j=Number(G);j&&(await fetch(`${Bs}/api/supervisor/zones/${r}/manpower`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({userId:j})}),F(""),L())}async function z(A){const j=localStorage.getItem("token");!j||!r||(await fetch(`${Bs}/api/supervisor/zones/${r}/manpower/${A}`,{method:"DELETE",headers:{Authorization:`Bearer ${j}`}}),L())}return f?a.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:pe.background},children:a.jsx("div",{className:"max-w-6xl mx-auto space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 rounded w-48 mb-6",style:{backgroundColor:pe.border}}),a.jsx("div",{className:"grid gap-6",children:[...Array(5)].map((A,j)=>a.jsx("div",{className:"h-32 rounded-lg",style:{backgroundColor:pe.border}},j))})]})})}):y?a.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:pe.background},children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(jl,{children:a.jsx("div",{className:"text-center p-6 rounded-lg",style:{backgroundColor:"#FEF2F2",borderColor:pe.error},children:a.jsx("div",{style:{color:pe.error},className:"font-medium",children:y})})})})}):d?a.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:pe.background},children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>m(-1),className:"flex items-center space-x-2 transition-colors duration-200",style:{color:pe.textLight},children:[a.jsx(Mt.Back,{}),a.jsx("span",{className:"font-medium",children:"Back to Zones"})]}),a.jsx("div",{className:"w-px h-6",style:{backgroundColor:pe.border}}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",style:{color:pe.text},children:"Zone Supervision"}),a.jsxs("p",{className:"mt-1",style:{color:pe.textLight},children:["Manage ",d.zone.name," operations and assignments"]})]})]}),a.jsxs(bf,{onClick:()=>m(`/supervisor/zones/${d.zone.id}/schedule`),className:"px-6 py-3",children:[a.jsx(Mt.Schedule,{}),a.jsx("span",{children:"Plan Service Schedule"})]})]}),a.jsxs("section",{children:[a.jsx(Bn,{title:"Supervisor Vehicles",number:1}),a.jsxs(jl,{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Mt.Vehicle,{style:{color:pe.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:pe.text},children:"Your Assigned Vehicles"})]}),a.jsx("div",{children:d.supervisorVehicles&&d.supervisorVehicles.length?a.jsx("div",{className:"flex flex-wrap gap-3",children:d.supervisorVehicles.map(A=>a.jsx("span",{className:"px-4 py-2 rounded-lg font-medium border",style:{backgroundColor:"#FEF7ED",borderColor:pe.primary,color:pe.primary},children:A.plate},A.id))}):a.jsx("div",{style:{color:pe.textLight},className:"italic",children:"No vehicles assigned to you yet"})})]})]}),a.jsxs("section",{children:[a.jsx(Bn,{title:"Service Days Configuration",number:2}),a.jsxs(jl,{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(Mt.Calendar,{style:{color:pe.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:pe.text},children:"Active Service Days"})]}),a.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:Array.from({length:7}).map((A,j)=>{const T=j+1,R=v.includes(T);return a.jsx("button",{onClick:()=>le(T),className:`px-4 py-3 rounded-lg border font-medium transition-all duration-200 ${R?"text-white shadow-lg":"border hover:shadow-md"}`,style:R?{backgroundColor:pe.primary,borderColor:pe.primary}:{backgroundColor:pe.cardBg,color:pe.text,borderColor:pe.border},children:yf(T)},T)})}),a.jsxs(bf,{onClick:O,className:"px-6 py-3",children:[a.jsx(Mt.Save,{}),a.jsx("span",{children:"Save Service Days"})]})]})]}),a.jsxs("section",{children:[a.jsx(Bn,{title:"Driver Assignments",number:3}),a.jsxs(jl,{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(Mt.Driver,{style:{color:pe.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:pe.text},children:"Weekly Driver Schedule"})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.sort((A,j)=>A-j).map(A=>a.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:pe.background,borderColor:pe.border},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-semibold text-lg",style:{color:pe.text},children:yf(A)}),a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:pe.primary}})]}),a.jsxs("select",{className:"w-full rounded-lg px-4 py-3 mb-4 focus:outline-none focus:ring-2 border",style:{backgroundColor:pe.cardBg,borderColor:pe.border,color:pe.text},value:N[A]||"",onChange:j=>M({...N,[A]:j.target.value}),children:[a.jsx("option",{value:"",children:"Select driver"}),d.drivers.map(j=>a.jsxs("option",{value:j.id,children:[j.username," ",j.vehicle_plate?`(${j.vehicle_plate})`:""]},j.id))]}),a.jsxs(Uc,{onClick:()=>ie(A),className:"w-full justify-center py-3",children:[a.jsx(Mt.Save,{}),a.jsx("span",{children:"Assign Driver"})]})]},A))}):a.jsxs("div",{className:"text-center py-8 rounded-lg border",style:{backgroundColor:pe.background,borderColor:pe.border},children:[a.jsx(Mt.Calendar,{className:"w-12 h-12 mx-auto mb-3",style:{color:pe.textLight}}),a.jsx("div",{style:{color:pe.textLight},children:"Select service days above to assign drivers"})]})]})]}),a.jsxs("section",{children:[a.jsx(Bn,{title:"Vehicle Management",number:4}),a.jsxs(jl,{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(Mt.Vehicle,{style:{color:pe.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:pe.text},children:"Driver Vehicle Assignments"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.vehicles.map(A=>{const j=d.drivers.find(T=>T.vehicle_id===A.id)||null;return a.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:pe.background,borderColor:pe.border},children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Mt.Vehicle,{className:"w-4 h-4",style:{color:pe.primary}}),a.jsxs("h4",{className:"font-semibold",style:{color:pe.text},children:["Vehicle ",A.plate]})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",style:{color:pe.text},children:"Current driver:"})," ",j?a.jsx("span",{style:{color:pe.text},children:j.username}):a.jsx("span",{style:{color:pe.error},children:"None assigned"})]}),Array.isArray(A.assigned_manpower_users)&&a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium mb-1",style:{color:pe.text},children:"Assigned Manpower:"}),A.assigned_manpower_users.length?a.jsx("div",{className:"space-y-1",children:A.assigned_manpower_users.map(T=>a.jsxs("div",{className:"px-2 py-1 rounded",style:{backgroundColor:pe.cardBg,color:pe.text},children:[T.username," (#",T.id,")"]},T.id))}):a.jsx("div",{style:{color:pe.textLight},className:"italic",children:"None assigned"})]})]}),a.jsxs("select",{className:"w-full rounded-lg px-4 py-3 mb-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:pe.cardBg,borderColor:pe.border,color:pe.text},value:D[A.id]||"",onChange:T=>W({...D,[A.id]:T.target.value}),children:[a.jsx("option",{value:"",children:"Select driver"}),d.drivers.map(T=>a.jsx("option",{value:T.id,children:T.username},T.id))]}),a.jsxs(Uc,{onClick:()=>q(A.id),className:"w-full justify-center py-3",children:[a.jsx(Mt.Save,{}),a.jsx("span",{children:"Assign Driver"})]})]},A.id)})})]})]}),a.jsxs("section",{children:[a.jsx(Bn,{title:"Manpower Management",number:5}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(jl,{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Mt.Add,{style:{color:pe.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:pe.text},children:"Add New Manpower"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{className:"flex-1 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 border",style:{backgroundColor:pe.cardBg,borderColor:pe.border,color:pe.text},placeholder:"Enter manpower user ID",value:G,onChange:A=>F(A.target.value),type:"number"}),a.jsxs(Uc,{onClick:Z,className:"px-6 py-3",children:[a.jsx(Mt.Add,{}),a.jsx("span",{children:"Add Manpower"})]})]})]}),a.jsxs(jl,{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(Mt.Manpower,{style:{color:pe.primary}}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:pe.text},children:"Assigned Manpower"})]}),d.manpower.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.manpower.map(A=>a.jsxs("div",{className:"flex items-center justify-between rounded-lg p-4 border",style:{backgroundColor:pe.background,borderColor:pe.border},children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",style:{color:pe.text},children:A.username}),a.jsxs("div",{className:"text-sm",style:{color:pe.textLight},children:["ID: #",A.id]})]}),a.jsxs("button",{onClick:()=>z(A.id),className:"flex items-center space-x-1 px-3 py-2 rounded-lg font-medium transition-colors duration-200",style:{backgroundColor:"#FEF2F2",color:pe.error},children:[a.jsx(Mt.Remove,{}),a.jsx("span",{className:"text-sm",children:"Remove"})]})]},A.id))}):a.jsxs("div",{className:"text-center py-8 rounded-lg border",style:{backgroundColor:pe.background,borderColor:pe.border},children:[a.jsx(Mt.Manpower,{className:"w-12 h-12 mx-auto mb-3",style:{color:pe.textLight}}),a.jsx("div",{style:{color:pe.textLight},children:"No manpower assigned to this zone"})]})]})]})]})]})}):a.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:pe.background},children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(jl,{children:a.jsx("div",{className:"text-center",children:a.jsx("div",{style:{color:pe.textLight},children:"Zone not found"})})})})})},$n="http://localhost:4000";function Hv(){const[r,m]=De.useState(null),[d,u]=De.useState(""),[f,g]=De.useState([]),[y,b]=De.useState(!1),[v,p]=De.useState(null),[N,M]=De.useState(new Date().getFullYear()),[D,W]=De.useState(new Date().getMonth()+1),[te,G]=De.useState(!1),[F,L]=De.useState(null),[le,O]=De.useState([]),[ie,q]=De.useState(null),[Z,z]=De.useState(!1),[A,j]=De.useState(""),[T,R]=De.useState(!1),[H,X]=De.useState(null),[V,J]=De.useState(null);De.useEffect(()=>{let $=!0;return(async()=>{try{p(null);const _=localStorage.getItem("token");if(!_)throw new Error("Not authenticated");const x=await fetch(`${$n}/api/chief/dashboard`,{headers:{Authorization:`Bearer ${_}`},credentials:"include"});if(!x.ok)throw new Error("Failed to load zone");const U=await x.json(),K=((U==null?void 0:U.zones)||[]).map(S=>({id:S.id,name:S.name}));if(!$)return;K.length?(m(K[0].id),u(K[0].name)):(m(null),u(""))}catch(_){if(!$)return;p((_==null?void 0:_.message)||"Failed to load")}})(),()=>{$=!1}},[]),De.useEffect(()=>{let $=!0;return(async()=>{if(!r){g([]);return}try{b(!0),p(null);const _=localStorage.getItem("token");if(!_)throw new Error("Not authenticated");const x=await fetch(`${$n}/api/chief/zones/${r}/service-plan`,{headers:{Authorization:`Bearer ${_}`}});if(!x.ok)throw new Error("Failed to load schedule");const U=await x.json();if(!$)return;g((U==null?void 0:U.schedule)||[])}catch(_){if(!$)return;p((_==null?void 0:_.message)||"Failed to load schedule")}finally{$&&b(!1)}})(),()=>{$=!1}},[r]),De.useEffect(()=>{let $=!0;return(async()=>{try{L(null),G(!0);const _=localStorage.getItem("token");if(!_)throw new Error("Not authenticated");const x=new URLSearchParams({year:String(N),month:String(D)}),U=await fetch(`${$n}/api/chief/completed-services?${x}`,{headers:{Authorization:`Bearer ${_}`},credentials:"include"});if(!U.ok)throw new Error("Failed to load completed services");const K=await U.json();if(!$)return;O(Array.isArray(K==null?void 0:K.services)?K.services:[])}catch(_){if(!$)return;L((_==null?void 0:_.message)||"Failed to load")}finally{$&&G(!1)}})(),()=>{$=!1}},[N,D]);async function w($,_,x){try{J($);const U=localStorage.getItem("token");if(!U)throw new Error("Not authenticated");if(!(await fetch(`${$n}/api/chief/service/${$}/report`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},credentials:"include",body:JSON.stringify({status:_,reason:x??null})})).ok)throw new Error("Failed to submit report");if(r){b(!0);try{const re=await(await fetch(`${$n}/api/chief/zones/${r}/service-plan`,{headers:{Authorization:`Bearer ${U}`}})).json();g((re==null?void 0:re.schedule)||[])}finally{b(!1)}}}catch(U){console.error(U)}finally{J(null)}}function E($){X($),j(""),z(!0)}async function ae(){if(H)try{R(!0),await w(H,"not_complete",A.trim()||null),z(!1),j(""),X(null)}finally{R(!1)}}return a.jsxs("div",{className:"space-y-6 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Day of Service Plan"}),d&&a.jsxs("div",{className:"text-sm text-slate-600",children:["Zone: ",a.jsx("span",{className:"font-medium text-slate-800",children:d})]})]}),v&&a.jsx("div",{className:"text-red-600 text-sm",children:v}),a.jsx("div",{className:"lg:col-span-2 space-y-4",children:y?a.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-6 text-center text-slate-500",children:"Loading"}):f.length===0?a.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-6 text-center text-slate-500",children:"No entries"}):a.jsx("div",{className:"space-y-4",children:f.filter($=>!$.supervisor_status).map($=>{var _,x;return a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:["Created at: ",new Date($.created_at).toLocaleString()]}),a.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",$.vehicle_plate??""]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Driver:"})," ",$.driver_username??""]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"font-medium text-sm",children:"Assigned Manpowers"}),Array.isArray($.assigned_manpower_users)&&$.assigned_manpower_users.length?a.jsx("ul",{className:"mt-1 list-disc pl-5 text-sm text-slate-700",children:$.assigned_manpower_users.map(U=>a.jsx("li",{children:U.username},U.id))}):a.jsx("div",{className:"mt-1 text-sm text-slate-500",children:""})]}),a.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[a.jsxs("div",{children:["The service will start at: ",(_=$.service_start)==null?void 0:_.slice(0,5)]}),a.jsxs("div",{children:["The service will end at: ",(x=$.service_end)==null?void 0:x.slice(0,5)]})]}),$.chief_report_status?a.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-md bg-amber-50 px-3 py-2 text-sm text-amber-800 border border-amber-200",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500 inline-block"}),"Report sent to supervisor  waiting for confirmation"]}):a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsx("button",{onClick:()=>w($.id,"complete"),disabled:V===$.id,className:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-white text-sm hover:bg-emerald-700 disabled:opacity-60",children:"Report service complete"}),a.jsx("button",{onClick:()=>E($.id),disabled:V===$.id,className:"inline-flex items-center rounded-md bg-red-600 px-3 py-1.5 text-white text-sm hover:bg-red-700 disabled:opacity-60",children:"Report service not complete"})]})]},$.id)})})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 lg:sticky lg:top-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Completed services"})}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-2 py-1 text-sm",value:N,onChange:$=>M(Number($.target.value)),children:Array.from({length:5}).map(($,_)=>{const x=new Date().getFullYear()-_;return a.jsx("option",{value:x,children:x},x)})}),a.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-2 py-1 text-sm",value:D,onChange:$=>W(Number($.target.value)),children:Array.from({length:12}).map(($,_)=>{const x=_+1;return a.jsx("option",{value:x,children:x.toString().padStart(2,"0")},x)})})]}),F&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:F}),a.jsx("div",{className:"mt-3 space-y-2",children:te?a.jsx("div",{className:"text-sm text-slate-500",children:"Loading"}):le.length===0?a.jsx("div",{className:"text-sm text-slate-500",children:"No completed services"}):le.map($=>a.jsxs("button",{onClick:()=>q(_=>_===$.id?null:$.id),className:"w-full text-left rounded-md border border-slate-200 px-3 py-2 hover:bg-slate-50",children:[a.jsxs("div",{className:"text-sm font-medium text-slate-800",children:[$.vehicle_plate??"","  ",$.driver_username??""]}),a.jsx("div",{className:"text-xs text-slate-500",children:new Date($.supervisor_decided_at||$.created_at).toLocaleString()}),ie===$.id&&a.jsxs("div",{className:"mt-2 text-xs text-slate-700 space-y-1",children:[a.jsxs("div",{children:["Start: ",String($.service_start).slice(0,5),"  End: ",String($.service_end).slice(0,5)]}),$.supervisor_reason?a.jsxs("div",{children:["Supervisor note: ",$.supervisor_reason]}):null]})]},$.id))})]})}),Z&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>T?null:z(!1)}),a.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-lg border border-slate-200 bg-white p-4 shadow-lg",children:[a.jsx("div",{className:"text-base font-semibold text-slate-800",children:"Report service not complete"}),a.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"Provide a reason"}),a.jsx("textarea",{value:A,onChange:$=>j($.target.value),className:"mt-3 h-28 w-full resize-none rounded-md border border-slate-300 p-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-300",placeholder:"Reason (optional)",disabled:T}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>T?null:z(!1),className:"inline-flex items-center rounded-md border border-slate-300 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50",disabled:T,children:"Cancel"}),a.jsx("button",{onClick:ae,className:"inline-flex items-center rounded-md bg-red-600 px-3 py-1.5 text-white text-sm hover:bg-red-700 disabled:opacity-60",disabled:T,children:"Submit"})]})]})]})]})}function Zv(){const[r,m]=c.useState(!1),[d,u]=c.useState(!!localStorage.getItem("token")),g=Bt().pathname==="/login",y=g?"":"bg-gradient-to-br from-zinc-50 to-amber-50";return De.useEffect(()=>{const b=()=>u(!!localStorage.getItem("token"));return window.addEventListener("storage",b),window.addEventListener("auth-changed",b),()=>{window.removeEventListener("storage",b),window.removeEventListener("auth-changed",b)}},[]),a.jsxs("div",{className:`flex h-screen ${y}`,children:[d&&!g&&a.jsx(kg,{isOpen:r,onClose:()=>m(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[d&&!g&&a.jsx("header",{className:"bg-white/90 backdrop-blur-md shadow-sm z-10 border-b border-amber-200",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>m(!0),className:"lg:hidden p-2 rounded-xl hover:bg-amber-50 transition-colors duration-200",children:a.jsx("svg",{className:"w-6 h-6 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-700 to-amber-500 bg-clip-text text-transparent",children:"UCS Management System"}),a.jsx("p",{className:"text-sm text-amber-700/70",children:"Streamlined operations management"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"relative p-2 rounded-xl hover:bg-amber-50 transition-colors duration-200 group",children:[a.jsx("svg",{className:"w-6 h-6 text-amber-700 group-hover:text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM10.24 8.56a5.97 5.97 0 01-4.66-7.4 1 1 0 00-.68-1.2A1 1 0 004 1a6 6 0 006.24 7.56z"})}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-amber-50 transition-colors duration-200 cursor-pointer",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-400 rounded-full flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"font-semibold text-white text-sm",children:"AD"})}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-900",children:"Admin User"}),a.jsx("p",{className:"text-xs text-amber-700/70",children:"Administrator"})]}),a.jsx("svg",{className:"w-4 h-4 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})]})}),a.jsx("main",{className:g?"flex-1 overflow-y-auto":"flex-1 overflow-y-auto p-6 bg-gradient-to-b from-white to-amber-50/30",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(Jp,{children:[a.jsx(Ye,{path:"/login",element:a.jsx(hv,{})}),a.jsx(Ye,{path:"/",element:a.jsx(qv,{})}),a.jsx(Ye,{path:"/register-driver",element:a.jsx(wv,{})}),a.jsx(Ye,{path:"/register-car",element:a.jsx(bv,{})}),a.jsx(Ye,{path:"/add-zone",element:a.jsx(Eg,{})}),a.jsx(Ye,{path:"/register-supervisor",element:a.jsx(Cv,{})}),a.jsx(Ye,{path:"/register-chief",element:a.jsx(jv,{})}),a.jsx(Ye,{path:"/reports",element:a.jsx(zv,{})}),a.jsx(Ye,{path:"/supervisor-dashboard",element:a.jsx(Ev,{})}),a.jsx(Ye,{path:"/supervisor/services",element:a.jsx(_v,{})}),a.jsx(Ye,{path:"/chief-dashboard",element:a.jsx(iv,{})}),a.jsx(Ye,{path:"/chief-service-plan",element:a.jsx(Hv,{})}),a.jsx(Ye,{path:"/client-dashboard",element:a.jsx(rv,{})}),a.jsx(Ye,{path:"/manpower-dashboard",element:a.jsx(pv,{})}),a.jsx(Ye,{path:"/driver-dashboard",element:a.jsx(dv,{})}),a.jsx(Ye,{path:"/zones",element:a.jsx(Rv,{})}),a.jsx(Ye,{path:"/zones/:id",element:a.jsx(Bv,{})}),a.jsx(Ye,{path:"/zones/:id/clients",element:a.jsx(Dv,{})}),a.jsx(Ye,{path:"/zones/:id/manpower",element:a.jsx($v,{})}),a.jsx(Ye,{path:"/supervisor/zones/:id/supervision",element:a.jsx(Uv,{})}),a.jsx(Ye,{path:"/supervisor/zones/:id/schedule",element:a.jsx(Mv,{})}),a.jsx(Ye,{path:"/vehicles",element:a.jsx(Tv,{})}),a.jsx(Ye,{path:"/register-vehicle",element:a.jsx(kv,{})}),a.jsx(Ye,{path:"/clients",element:a.jsx(ov,{})}),a.jsx(Ye,{path:"/payments",element:a.jsx(gv,{})}),a.jsx(Ye,{path:"/manage-workers",element:a.jsx(fv,{})}),a.jsx(Ye,{path:"/workers",element:a.jsx(xv,{})}),a.jsx(Ye,{path:"/profile",element:a.jsx(vv,{})}),a.jsx(Ye,{path:"/register-manpower",element:a.jsx(Sv,{})}),a.jsx(Ye,{path:"/register-client",element:a.jsx(Nv,{})})]})})}),d&&!g&&a.jsx("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-amber-200 py-3 px-6",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-amber-800/80",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{children:" 2024 UCS Company. All rights reserved."}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.jsx("span",{className:"w-1 h-1 bg-amber-300 rounded-full"}),a.jsx("span",{children:"v2.1.0"}),a.jsx("span",{className:"w-1 h-1 bg-amber-300 rounded-full"}),a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"System Online"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"hover:text-amber-700 transition-colors duration-200",children:"Help"}),a.jsx("button",{className:"hover:text-amber-700 transition-colors duration-200",children:"Privacy"}),a.jsx("button",{className:"hover:text-amber-700 transition-colors duration-200",children:"Terms"})]})]})})]})]})}function Vv(){return a.jsx(gg,{children:a.jsx(Zv,{})})}function qv(){var m;let r=null;try{const d=localStorage.getItem("user");r=d?((m=JSON.parse(d))==null?void 0:m.role)??null:null}catch{}switch(r){case"manager":return a.jsx(cv,{});case"supervisor":return a.jsx(_s,{to:"/supervisor-dashboard",replace:!0});case"chief":return a.jsx(_s,{to:"/chief-dashboard",replace:!0});case"client":return a.jsx(_s,{to:"/client-dashboard",replace:!0});case"manpower":return a.jsx(_s,{to:"/manpower-dashboard",replace:!0});case"driver":return a.jsx(_s,{to:"/driver-dashboard",replace:!0});default:return a.jsx(_s,{to:"/login",replace:!0})}}const jf=document.getElementById("root");jf&&sp.createRoot(jf).render(a.jsx(De.StrictMode,{children:a.jsx(Vv,{})}));
