import{u as f,j as e}from"./index-DnGg16Vn.js";import{r as l}from"./react-BeLGUnOF.js";const p="http://localhost:4000";function N(){const{t:s}=f(),[n,h]=l.useState(null),[g,o]=l.useState(!1),[a,c]=l.useState(null),[u,i]=l.useState(null);async function m(){o(!0),i(null);try{const r=await fetch(`${p}/api/superuser/summary`),t=await r.json();if(!r.ok)throw new Error((t==null?void 0:t.error)||"Failed");h(t)}catch(r){i((r==null?void 0:r.message)||"Failed to load")}finally{o(!1)}}l.useEffect(()=>{m()},[]);async function x(r){c(r),i(null);try{const b=await fetch(`${p}/api/superuser/${r==="mgr"?"reset-manager":"reset-supervisors"}`,{method:"POST"}),d=await b.json();if(!b.ok)throw new Error((d==null?void 0:d.error)||"Failed")}catch(t){i((t==null?void 0:t.message)||"Failed")}finally{c(null)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-zinc-800 to-amber-600 bg-clip-text text-transparent",children:s("superuser.title")}),e.jsx("p",{className:"text-zinc-600 mt-2",children:s("superuser.subtitle")})]}),u&&e.jsx("div",{className:"text-sm text-red-600",children:u}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6",children:g||!n?e.jsx("div",{className:"text-zinc-600",children:"Loadingâ€¦"}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-amber-100 p-4 bg-amber-50/40",children:[e.jsx("div",{className:"text-sm text-zinc-600",children:s("superuser.users")}),e.jsx("div",{className:"text-2xl font-bold text-zinc-900",children:n.users})]}),e.jsxs("div",{className:"rounded-xl border border-amber-100 p-4 bg-amber-50/40",children:[e.jsx("div",{className:"text-sm text-zinc-600",children:s("superuser.clients")}),e.jsx("div",{className:"text-2xl font-bold text-zinc-900",children:n.clients})]}),e.jsxs("div",{className:"rounded-xl border border-amber-100 p-4 bg-amber-50/40",children:[e.jsx("div",{className:"text-sm text-zinc-600",children:s("superuser.total")}),e.jsx("div",{className:"text-2xl font-bold text-zinc-900",children:n.total})]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 space-y-3",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>x("mgr"),disabled:a==="mgr",className:`px-4 py-2 rounded-lg text-sm font-medium text-white ${a==="mgr"?"bg-gray-400":"bg-neutral-900 hover:bg-neutral-800"}`,children:s(a==="mgr"?"superuser.resetting":"superuser.resetManager")}),e.jsx("button",{onClick:()=>x("sup"),disabled:a==="sup",className:`px-4 py-2 rounded-lg text-sm font-medium text-white ${a==="sup"?"bg-gray-400":"bg-neutral-900 hover:bg-neutral-800"}`,children:s(a==="sup"?"superuser.resetting":"superuser.resetSupervisors")}),e.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg text-sm font-medium text-amber-700 bg-white border border-amber-200 hover:bg-amber-50",children:"Refresh"})]})})]})}export{N as default};
